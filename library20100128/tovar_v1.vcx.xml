<?xml version = "1.0" encoding="UTF-8" standalone="yes"?>
<VFPData>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>Class</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname/>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>VERSION =   3.00</reserved1>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>0</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmcurtypeedit</objname>
		<parent/>
		<properties>Height = 259
Width = 540
DoCreate = .T.
BorderStyle = 2
Caption = "Òèï âàëþòû"
crequestedoperation = 
Name = "frmcurtypeedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Top = 0
CSTRESIZABLE.Left = 24
CSTRESIZABLE.Name = "CSTRESIZABLE"
CSTDATAWORK.Top = 0
CSTDATAWORK.Left = 48
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmCurTypeEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*09.08.2005 19:18 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*09.08.2005 19:18 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK]

	*09.08.2005 19:18 -&gt; Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*09.08.2005 19:18 -&gt; Óäàëèì çàïèñü
		DELETE IN lvCurTypeEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*09.08.2005 19:18 -&gt; Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå
		llDataWasChanged = .cstDataWork.DataChanged([lvCurTypeEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*09.08.2005 19:19 -&gt; Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ
	IF llDataWasChanged
		
		*09.08.2005 19:19 -&gt; Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvCurTypeEdit])
		*------------------------------------------------------------------------------
		
		*09.08.2005 19:19 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvCurTypeEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*09.08.2005 19:19 -&gt; Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvCurTypeEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

	*09.08.2005 19:19 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*09.08.2005 19:19 -&gt; Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvCurTypeEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*09.08.2005 19:19 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*09.08.2005 19:19 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*09.08.2005 19:20 -&gt; Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvCurTypeEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*09.08.2005 19:20 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmCurTypeEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation,tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*------------------------------------------------------------------------------
LPARAMETERS	tcRequestedOperation,tuParam1

*09.08.2005 19:17 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*09.08.2005 19:17 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*09.08.2005 19:17 -&gt; Ñîõðàíèì îïåðàöèþ
.cRequestedOperation = tcRequestedOperation
*------------------------------------------------------------------------------

*09.08.2005 19:18 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation == [ADD]
			
		*09.08.2005 19:18 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvCurTypeEdit
		APPEND BLANK IN lvCurTypeEdit
		*------------------------------------------------------------------------------

	CASE INLIST(.cRequestedOperation,[EDIT],[INFO],[DELE])
		
		*09.08.2005 19:18 -&gt; Çàãðóçèì äàííûå â lvCurTypeEdit
		_PARAM = tuParam1
		REQUERY([lvCurTypeEdit])
		*------------------------------------------------------------------------------
		
ENDCASE
*------------------------------------------------------------------------------

*09.08.2005 19:18 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = ALLTRIM(.Caption)+[ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])
	CASE .cRequestedOperation == [EDIT]
		.Caption = ALLTRIM(.Caption)+[ - Ðåäàêòèðîâàíèå]
		.Icon = FULLPATH([frmedit.ico])
	CASE .cRequestedOperation == [INFO]
		.Caption = ALLTRIM(.Caption)+[ - Ïðîñìîòð]
		.Icon = FULLPATH([frminfo.ico])
		.cntCancelSaveHandled.cmdOk.Enabled = .F.
	CASE .cRequestedOperation == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmCurTypeEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*------------------------------------------------------------------------------

*09.08.2005 19:17 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*09.08.2005 19:17 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*09.08.2005 19:17 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ
USE lvCurTypeEdit IN 0 NODATA
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>18</reserved2>
		<reserved3>crequestedoperation &lt;public/runtime&gt; Îïåðàöèÿ, êîòîðóþ äîëæåí âûïîëíèòü äàííûé îáúåêò.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Òèï âàëþòû</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenCurTypeNM</objname>
		<parent>frmcurtypeedit</parent>
		<properties>Top = 5
Left = 285
Height = 23
ZOrderSet = 4
Name = "cntTxtCalcLenCurTypeNM"
txtText.ControlSource = "lvCurTypeEdit.CurTypeNM"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblCurTypeNM
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L415C07O</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenCurTypeLMGText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>Top = 201
Left = 285
Height = 23
ZOrderSet = 4
Name = "cntTxtCalcLenCurTypeLMGText"
txtText.ControlSource = "lvCurTypeEdit.CurTypeLMGText"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblCurTypeLMGText
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L415C07D</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenCurTypeLOGText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>Top = 173
Left = 285
Height = 23
ZOrderSet = 4
Name = "cntTxtCalcLenCurTypeLOGText"
txtText.ControlSource = "lvCurTypeEdit.CurTypeLOGText"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblCurTypeLOGText
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L415C07B</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenCurTypeLONText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>Top = 145
Left = 285
Height = 23
ZOrderSet = 4
Name = "cntTxtCalcLenCurTypeLONText"
txtText.ControlSource = "lvCurTypeEdit.CurTypeLONText"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblCurTypeLONText
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L415C07P</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblCurTypeLMGText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>FontBold = .T.
Caption = "Òåêñò äåñÿòè÷íîãî â ìíîæåñòâåííîì ÷èñëå ÐÏ:"
Left = 5
Top = 204
TabIndex = 3
ZOrderSet = 7
Name = "lblCurTypeLMGText"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L415C079</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenCurTypeHMGText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>Top = 117
Left = 285
Height = 23
ZOrderSet = 4
Name = "cntTxtCalcLenCurTypeHMGText"
txtText.ControlSource = "lvCurTypeEdit.CurTypeHMGText"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblCurTypeHMGText
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L415C07E</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblCurTypeLOGText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>FontBold = .T.
Caption = "Òåêñò äåñÿòè÷íîãî â åäèíñòâåííîì ÷èñëå ÐÏ:"
Left = 5
Top = 176
TabIndex = 3
ZOrderSet = 7
Name = "lblCurTypeLOGText"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FC0PYQEY</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenCurTypeHOGText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>Top = 89
Left = 285
Height = 23
ZOrderSet = 4
Name = "cntTxtCalcLenCurTypeHOGText"
txtText.ControlSource = "lvCurTypeEdit.CurTypeHOGText"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblCurTypeHOGText
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L415C07C</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblCurTypeLONText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>FontBold = .T.
Caption = "Òåêñò äåñÿòè÷íîãî â åäèíñòâåííîì ÷èñëå ÈÏ:"
Left = 5
Top = 148
TabIndex = 3
ZOrderSet = 7
Name = "lblCurTypeLONText"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB11ZRUO</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenCurTypeHONText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>Top = 61
Left = 285
Height = 23
ZOrderSet = 4
Name = "cntTxtCalcLenCurTypeHONText"
txtText.ControlSource = "lvCurTypeEdit.CurTypeHONText"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblCurTypeHONText
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L415C07A</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblCurTypeHMGText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>FontBold = .T.
Caption = "Òåêñò öåëîãî â ìíîæåñòâåííîì ÷èñëå ÐÏ:"
Left = 5
Top = 120
TabIndex = 3
ZOrderSet = 7
Name = "lblCurTypeHMGText"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10B7SL</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenCurTypeStdNM</objname>
		<parent>frmcurtypeedit</parent>
		<properties>Top = 33
Left = 285
Height = 23
ZOrderSet = 4
Name = "cntTxtCalcLenCurTypeStdNM"
txtText.ControlSource = "lvCurTypeEdit.CurTypeStdNM"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblCurTypeStdNM
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FD0QKHUP</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblCurTypeHOGText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>FontBold = .T.
Caption = "Òåêñò öåëîãî â åäèíñòâåííîì ÷èñëå ÐÏ:"
Left = 5
Top = 92
TabIndex = 3
ZOrderSet = 7
Name = "lblCurTypeHOGText"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblCurTypeNM</objname>
		<parent>frmcurtypeedit</parent>
		<properties>FontBold = .T.
Caption = "Íàèìåíîâàíèå:"
Left = 5
Top = 8
TabIndex = 3
ZOrderSet = 7
Name = "lblCurTypeNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FD0QH02X</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblCurTypeHONText</objname>
		<parent>frmcurtypeedit</parent>
		<properties>FontBold = .T.
Caption = "Òåêñò öåëîãî â åäèíñòâåííîì ÷èñëå ÈÏ:"
Left = 5
Top = 64
TabIndex = 3
ZOrderSet = 7
Name = "lblCurTypeHONText"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB11DWJS</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblCurTypeStdNM</objname>
		<parent>frmcurtypeedit</parent>
		<properties>FontBold = .T.
Caption = "Ñòàíäàðòíîå îáîçíà÷åíèå:"
Left = 5
Top = 36
TabIndex = 3
ZOrderSet = 7
Name = "lblCurTypeStdNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HF0Z6S64</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmcurtypeedit</parent>
		<properties>Top = 229
Left = 330
TabIndex = 2
ZOrderSet = 17
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmcurtypeedit</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10B7SL</uniqueid>
		<timestamp>0</timestamp>
		<class>frm</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmcurtypeview</objname>
		<parent/>
		<properties>Top = 12
Left = 19
Height = 341
Width = 410
DoCreate = .T.
Caption = "Ñïðàâî÷íèê òèïîâ âàëþò"
_standarttoolbar = tlbStandart;basetoolbar_v1.vcx
_allowsaveandrestorelayout = .T.
Name = "frmcurtypeview"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
</properties>
		<protected/>
		<methods>PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmCurTypeView.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*------------------------------------------------------------------------------

*09.08.2005 18:48 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*09.08.2005 18:48 -&gt; Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*09.08.2005 18:48 -&gt; Îòêðûâàåì Local View äëÿ Grid-à
USE lvCurTypeView IN 0
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>6</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>ñïðàâî÷íèê âàëþò</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB11DWJS</uniqueid>
		<timestamp>0</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdCurType</objname>
		<parent>frmcurtypeview</parent>
		<properties>ColumnCount = 2
Height = 331
Left = 5
Panel = 1
RecordSource = "lvCurTypeView"
Top = 5
Width = 400
_activerowhighlight = .T.
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;EDIT;INFO;DELE
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Ðåäàêòèðîâàòü;Ïðîñìîòð;Óäàëèòü
Name = "grdCurType"
Column1.ControlSource = "lvCurTypeView.CurTypeNM"
Column1.CurrentControl = "Txtgrd1"
Column1.Width = 200
Column1.Name = "Column1"
Column2.ControlSource = "lvCurTypeView.CurTypeStdNM"
Column2.CurrentControl = "Txtgrd1"
Column2.Width = 150
Column2.Name = "Column2"
</properties>
		<protected/>
		<methods>PROCEDURE _add
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdCurType._Add
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå òèïîâ âàëþò
*------------------------------------------------------------------------------

*09.08.2005 18:51 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnResAdding
*------------------------------------------------------------------------------

*09.08.2005 18:51 -&gt; Âûïîëíèì îïåðàöèþ äîáàâëåíèÿ
lnResAdding = oMgrTovar.Do([CURTYPE],[ADD])
*------------------------------------------------------------------------------

*09.08.2005 18:51 -&gt; Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ çàïèñè
IF TYPE([lnResAdding])==[N]
		
	*09.08.2005 18:51 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias, ;
			lnCurTypeId
	***
	lcOldAlias = ALIAS()
	lnCurTypeId = lnResAdding
	*------------------------------------------------------------------------------
	
	*09.08.2005 18:51 -&gt; Îáíîâèì Local View
	REQUERY([lvCurTypeView])
	*------------------------------------------------------------------------------

	*09.08.2005 18:51 -&gt; Ïåðåõîäèì íà äîáàâëåííûé ýëåìåíò
	SELECT lvCurTypeView
	LOCATE FOR lvCurTypeView.CurTypeID = lnCurTypeID
	*------------------------------------------------------------------------------

	*09.08.2005 18:51 -&gt; Âûçîâåì ìåòîä äëÿ ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	This.Refresh(.T.)
	*------------------------------------------------------------------------------

	*09.08.2005 18:52 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _dele
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdCurType._Dele
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå òèïîâ âàëþò
*------------------------------------------------------------------------------

*09.08.2005 18:52 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnCurTypeId, ;
		luResDele
***
lnCurTypeId = lvCurTypeView.CurTypeId
*------------------------------------------------------------------------------

*09.08.2005 18:52 -&gt; Âûïîëíèì îïåðàöèþ óäàëåíèÿ
luResDele = oMgrTovar.Do([CURTYPE],[DELE],lnCurTypeId)
*------------------------------------------------------------------------------

*09.08.2005 18:52 -&gt; Îáðàáîòàåì ðåçóëüòàòû óäàëåíèÿ
IF TYPE([luResDele])==[L] AND luResDele
	
	*09.08.2005 18:52 -&gt; Îáíîâèì Local View
	REQUERY([lvCurTypeView])
	*------------------------------------------------------------------------------

	*09.08.2005 18:52 -&gt; Âûçîâåì ìåòîä äëÿ ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	This.Refresh(.T.)
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _edit
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdCurType._Edit
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ðåäàêòèðîâàíèå òèïîâ âàëþò
*------------------------------------------------------------------------------

*09.08.2005 18:53 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnCurTypeId, ;
		luResEditing
***
lnCurTypeId = lvCurTypeView.CurTypeId
*------------------------------------------------------------------------------

*09.08.2005 18:53 -&gt; Âûïîëíèì îïåðàöèþ ðåäàêòèðîâàíèÿ
luResEditing = oMgrTovar.Do([CURTYPE],[EDIT],lnCurTypeId)
*------------------------------------------------------------------------------

*09.08.2005 18:53 -&gt; Îáðàáîòàåì ðåçóëüòàòû ðåäàêòèðîâàíèÿ
IF TYPE([luResEditing])==[L] AND luResEditing
	
	*09.08.2005 18:53 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias
	***
	lcOldAlias = ALIAS()
	*------------------------------------------------------------------------------
	
	*09.08.2005 18:53 -&gt; Îáíîâèì Local View
	REQUERY([lvCurTypeView])
	*------------------------------------------------------------------------------

	*09.08.2005 18:53 -&gt; Ïåðåõîäèì íà îòðåäàêòèðîâàííûé ýëåìåíò
	SELECT lvCurTypeView
	LOCATE FOR lvCurTypeView.CurTypeID = lnCurTypeID
	*------------------------------------------------------------------------------

	*09.08.2005 18:54 -&gt; Âûçîâåì ìåòîä äëÿ ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	This.Refresh(.T.)
	*------------------------------------------------------------------------------

	*09.08.2005 18:54 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _info
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdCurType._Info
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïðîñìîòð òèïîâ âàëþò
*------------------------------------------------------------------------------

*09.08.2005 18:54 -&gt; Âûïîëíèì îïåðàöèþ ïðîñìîòðà
oMgrTovar.Do([CURTYPE],[INFO],lvCurTypeView.CurTypeId)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB11ZRUO</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmcurtypeview.grdCurType.Column1</parent>
		<properties>Alignment = 2
Caption = "Âàëþòà"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L414B3NZ</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmcurtypeview.grdCurType.Column1</parent>
		<properties>Enabled = .T.
Left = 104
ReadOnly = .F.
Top = 114
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FC0PYQEY</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmcurtypeview.grdCurType.Column2</parent>
		<properties>Alignment = 2
Caption = "Îáîçíà÷åíèå"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FD0QKHUP</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmcurtypeview.grdCurType.Column2</parent>
		<properties>Left = 53
Top = 30
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmcurtypeview</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10BTEI</uniqueid>
		<timestamp>0</timestamp>
		<class>frm</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmmeasureunitedit</objname>
		<parent/>
		<properties>Height = 175
Width = 415
DoCreate = .T.
AutoCenter = .T.
Caption = "Åäèíèöà èçìåðåíèÿ"
Closable = .F.
MaxButton = .F.
MinButton = .F.
KeyPreview = .T.
WindowType = 1
cmeasureunitlist = 
Name = "frmmeasureunitedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Height = 17
cstmsghandler.Width = 15
cstmsghandler.Name = "cstmsghandler"
cstresizable.Top = 0
cstresizable.Left = 22
cstresizable.Height = 17
cstresizable.Width = 15
cstresizable.Name = "cstresizable"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*-------------------------------------------------------
* Project.........: Basis.PJX
* Library.........: Tovar_v1.vcx
* Class.Module....: frmMeasureUnitEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*-------------------------------------------------------
LPARAMETERS tcMessage

WITH This

*02.04.2004 16:51 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*02.04.2004 16:51 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK]

	*07.07.2004 17:29 -&gt; Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*07.07.2004 17:35 -&gt;Óäàëèì çàïèñü
		DELETE IN lvMeasureUnitEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*07.07.2004 12:09 -&gt;Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå î ïàðàìåòðå âûáîðêè
		llDataWasChanged = .cstDataWork.DataChanged([lvMeasureUnitEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*02.04.2004 16:51 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ ïàðàìåòðà âûáîðêè
	IF llDataWasChanged
		
		*02.04.2004 16:59 -&gt;Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvMeasureUnitEdit])
		*------------------------------------------------------------------------------
		
		*02.04.2004 17:00 -&gt;Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvMeasureUnitEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvMeasureUnitEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------
	
	ENDIF
	*------------------------------------------------------------------------------

	*04.04.2005 11:57 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*08.07.2004 15:23 -&gt;Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvMeasureUnitEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*04.07.2005 18:02 -&gt;Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*13.01.2005 14:38 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvMeasureUnitEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*13.01.2005 14:37 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Destroy
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmMeasureUnitEdit.Destroy
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

*12.01.2006 11:48 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL   lcIndependetFNM, ;
		lcDependetFNM
*------------------------------------------------------------------------------

WITH This

lcIndependetFNM = LEFT(.cMeasureUnitList,AT([;],.cMeasureUnitList)-1)
lcDependetFNM	= RIGHT(.cMeasureUnitList,LEN(.cMeasureUnitList)-AT([;],.cMeasureUnitList))

*11.01.2006 17:05 -&gt;Çàêðîåì ñïðàâî÷íèê áàçîâûõ ÅÈ
USE IN SELECT([lvMeasureUnitBaseList])
*------------------------------------------------------------------------------

*12.01.2006 11:53 -&gt;Óäàëèì ñïðàâî÷íèêè
IF FILE([tmp\]+lcIndependetFNM+[.dbf])
ERASE ([tmp\]+lcIndependetFNM+[.dbf])
ENDIF
***
IF FILE([tmp\]+lcDependetFNM+[.dbf])
ERASE ([tmp\]+lcDependetFNM+[.dbf])
ENDIF
*------------------------------------------------------------------------------

ENDWITH

*11.01.2006 17:05 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: MeasureUnit_v1.vcx
* Class.Module....: frmMeasureUnitEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation, tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*-------------------------------------------------------
LPARAMETERS tcRequestedOperation, tuParam1

*01.03.2005 14:04 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*01.03.2005 14:04 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*01.03.2005 14:04 -&gt; Ñîõðàíèì êîìàíäó (ðåæèì ðàáîòû ñ äàííûìè)
.cRequestedOperation = UPPER(ALLTRIM(tcRequestedOperation))
*------------------------------------------------------------------------------

*01.03.2005 14:04 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation==[ADD]
		
		*01.03.2005 14:04 -&gt; Äîáàâèì ïóñòóþ çàïèñü
		APPEND BLANK IN lvMeasureUnitEdit
		***
		_PARAM = .NULL.
		*------------------------------------------------------------------------------
		
	CASE INLIST(.cRequestedOperation,[EDIT],[INFO],[DELE])
		
		*01.03.2005 14:05 -&gt; Çàãðóçèì äàííûå ñóùåñòâóþùåé åäèíèöû èçìåðåíèÿ
		_PARAM = .Null.
		_PARAM = tuParam1
		***
		REQUERY([lvMeasureUnitEdit])
		*------------------------------------------------------------------------------

ENDCASE
*------------------------------------------------------------------------------

*11.01.2006 17:03 -&gt;Çàãðóçèì ñïðàâî÷íèê áàçîâûõ ÅÈ
.cMeasureUnitList = spGetBaseMsuList(_PARAM )
USE (LEFT(.cMeasureUnitList,AT([;],.cMeasureUnitList)-1)) IN 0 ALIAS [lvMeasureUnitBaseList]
*------------------------------------------------------------------------------

*01.03.2005 14:06 -&gt; Îïðåäåëèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = .Caption + [ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])

	CASE .cRequestedOperation == [EDIT]
		.Caption = .Caption + [ - Ðåäàêòèðîâàíèå]
		.Icon = FULLPATH([frmedit.ico])

	CASE .cRequestedOperation == [INFO]
		.Caption = .Caption + [ - Ïðîñìîòð]
		.Icon = FULLPATH([frminfo.ico])
		.cntCancelSaveHandled.cmdOk.Enabled = .F.

	CASE .cRequestedOperation == [DELE]
		.Caption = .Caption + [ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]

ENDCASE
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: MeasureUnit_v1.vcx
* Class.Module....: frmMeasureUnitEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà äàííûõ äëÿ ôîðìû.
*-------------------------------------------------------

*01.03.2005 14:09 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*01.03.2005 14:09 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------
USE lvMsuType IN 0
USE lvMsuList IN 0

*01.03.2005 14:09 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ òèïîâ äîêóìåíòîâ (ïóñòîé)
USE lvMeasureUnitEdit IN 0 NODATA
CURSORSETPROP([BUFFERING],3,[lvMeasureUnitEdit])
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>14</reserved2>
		<reserved3>uretval &lt;public/runtime&gt; Çíà÷åíèå, êîòîðîå âîçâðàùàåòñÿ âî âûçûâàâøóþ ïðîöåäóðó ïîñëå ñêðûòèÿ ôîðìû.
crequestedoperation &lt;public/runtime&gt; Ðåæèì ðàáîòû ôîðìû (ADD/EDIT/INFO/DELE)
cmeasureunitlist ñïèñîê òàáëèö ñî ñïðàâî÷íèêîì çàâèñèìûõ è íåçàâèñèìûõ ÅÈ
*_handlecntcancelsaveevent &lt;public/user/nodefault&gt; Îáðàáîòêà íàæàòèÿ íà êëàâèøè êîíòåéíåðà CntCancelSave. Ôîðìèðîâàíèå çíà÷åíèÿ ñâîéñòâ .uRetVal ïåðåä ñêðûòèåì ôîðìû.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Ðåäàêò åäèíèöó èçìåðåíèÿ</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1GN0RC7IZ</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblMsuUnitNM</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>FontBold = .T.
Caption = "Ïîëíîå íàèìåíîâàíèå:"
Height = 17
Left = 5
Top = 36
Width = 138
TabIndex = 8
ZOrderSet = 0
Name = "lblMsuUnitNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB0UFKZR</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenMsuUnitNM</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>Top = 33
Left = 160
Height = 23
TabIndex = 2
ZOrderSet = 1
Name = "cntTxtCalcLenMsuUnitNM"
txtText.ControlSource = "lvMeasureUnitEdit.MsuNM"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblMsuUnitNM
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblMsuUnitShortNM</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>FontBold = .T.
Caption = "Êîðîòêîå íàèìåíîâàíèå:"
Height = 17
Left = 5
Top = 64
Width = 146
TabIndex = 9
ZOrderSet = 2
Name = "lblMsuUnitShortNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenMsuUnitShortNM</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>Top = 61
Left = 160
Height = 23
TabIndex = 3
ZOrderSet = 3
Name = "cntTxtCalcLenMsuUnitShortNM"
txtText.ControlSource = "lvMeasureUnitEdit.MsuShortNM"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblMsuUnitShortNM
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblBaseMsu</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>FontBold = .T.
Caption = "Áàçîâàÿ åä. èçìåðåíèÿ:"
Height = 17
Left = 5
Top = 92
Width = 141
TabIndex = 10
ZOrderSet = 4
Name = "lblBaseMsu"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1RW0NFR4R</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>Cntidctlgrid2</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>Top = 89
Left = 160
TabIndex = 4
ZOrderSet = 5
_controlsource = lvMeasureUnitEdit.BaseMsuID
_controlsourcetype = 1
_rsaliasname = lvMsuList
_rsfieldnameid = MsuID
_rsfieldnametext = MsuNM
Name = "Cntidctlgrid2"
txtText._highlightobject = .Parent.Parent.lblBaseMsu
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods>PROCEDURE _handleanychange
IF This.Value = 0
	ThisForm.txtMsuQnt.Value = 0
ENDIF
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlBaseMSU</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>Top = 89
Left = 160
Enabled = .F.
Visible = .F.
TabIndex = 7
ZOrderSet = 5
_controlsource = lvMeasureUnitEdit.BaseMsuID
_controlsourcetype = 1
_rsaliasname = lvMeasureUnitBaseList
_rsfieldnameid = MsuID
_rsfieldnametext = MsuNM
Name = "cntIdCtlBaseMSU"
txtText._highlightobject = .Parent.Parent.lblBaseMsu
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods>PROCEDURE _handleanychange
IF This.Value = 0
	ThisForm.txtMsuQnt.Value = 0
ENDIF
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1PH0VQ3J6</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblMsuQnt</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>FontBold = .T.
Caption = "Êîëè÷åñòâî:"
Height = 17
Left = 5
Top = 120
Width = 74
TabIndex = 12
ZOrderSet = 6
Name = "lblMsuQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1PH0V0ZDR</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtMsuQnt</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>ControlSource = "lvMeasureUnitEdit.MsuQnt"
Height = 23
Left = 160
TabIndex = 5
Top = 117
Width = 200
ZOrderSet = 7
_highlightobject = .Parent.lblMsuQnt
Name = "txtMsuQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB13G3TM</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>Top = 145
Left = 205
TabIndex = 6
ZOrderSet = 8
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1RW0MJKFQ</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl1</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>FontBold = .T.
Caption = "Òèï èçìåðÿìîé âåëè÷èíû:"
Height = 17
Left = 5
Top = 8
Width = 156
TabIndex = 11
ZOrderSet = 4
Name = "Lbl1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1RW0MJKFR</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>Cntidctlgrid1</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>Top = 5
Left = 160
TabIndex = 1
ZOrderSet = 5
_controlsource = lvMeasureUnitEdit.MsuType
_controlsourcetype = 1
_rsaliasname = lvMsuType
_rsfieldnameid = MsuTypeID
_rsfieldnametext = MsuTypeName
Name = "Cntidctlgrid1"
txtText._highlightobject = .Parent.Parent.lblBaseMsu
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods>PROCEDURE _handleanychange
IF This.Value = 0
	ThisForm.txtMsuQnt.Value = 0
ENDIF
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_15C17ZLMD</uniqueid>
		<timestamp>0</timestamp>
		<class>cstdatawork</class>
		<classloc>datawork_v1.vcx</classloc>
		<baseclass>custom</baseclass>
		<objname>cstDataWork</objname>
		<parent>frmmeasureunitedit</parent>
		<properties>Top = 0
Left = 44
Height = 17
Width = 15
Name = "cstDataWork"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmmeasureunitedit</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10B7SL</uniqueid>
		<timestamp>0</timestamp>
		<class>scrfrmview</class>
		<classloc>basis.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmmeasureunitview</objname>
		<parent/>
		<properties>Top = 0
Left = 0
Height = 341
Width = 560
DoCreate = .T.
Caption = "Ñïðàâî÷íèê åäèíèö èçìåðåíèÿ"
_standarttoolbar = tlbStandart;basetoolbar_v1.vcx
_allowsaveandrestorelayout = .T.
Name = "frmmeasureunitview"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
</properties>
		<protected/>
		<methods>PROCEDURE Load
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: FormType_v1.vcx
* Class.Module....: frmFormTypeView.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû (îòêðûòèå ñïðàâî÷íèêîâ)
*-------------------------------------------------------
DODEFAULT()

*01.04.2004 15:09 -&gt;Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*01.03.2005 12:00 -&gt; Îòêðûâàåì Local View äëÿ Grid-à
USE lvMeasureUnitView IN 0
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>10</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Ñïðàâî÷íèê åäèíèö èçì</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB11DWJS</uniqueid>
		<timestamp>0</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdMsuUnit</objname>
		<parent>frmmeasureunitview</parent>
		<properties>ColumnCount = 4
HeaderHeight = 33
Height = 331
Left = 5
Panel = 1
RecordSource = "lvMeasureUnitView"
Top = 5
Width = 550
_activerowhighlight = .T.
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;EDIT;INFO;DELE
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Ðåäàêòèðîâàòü;Ïðîñìîòð;Óäàëèòü
Name = "grdMsuUnit"
Column1.ControlSource = "lvMeasureUnitView.MsuNM"
Column1.CurrentControl = "Txtgrd1"
Column1.Width = 240
Column1.ReadOnly = .T.
Column1.Name = "Column1"
Column2.ControlSource = "lvMeasureUnitView.MsuShortNM"
Column2.CurrentControl = "Txtgrd1"
Column2.Width = 100
Column2.Name = "Column2"
Column3.ControlSource = "lvMeasureUnitView.BaseMsuNM"
Column3.Width = 100
Column3.Name = "Column3"
Column4.ControlSource = "lvMeasureUnitView.MsuQnt"
Column4.Name = "Column4"
</properties>
		<protected/>
		<methods>PROCEDURE _add
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: MeasureUnit_v1.vcx
* Class.Module....: grdMsuUnit._Add
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Add()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå íîâîé åäèíèöû èçìåðåíèÿ.
*-------------------------------------------------------

*01.03.2005 12:34 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnResAdding
*------------------------------------------------------------------------------

*01.03.2005 12:34 -&gt; Âûïîëíèì îïåðàöèþ äîáàâëåíèÿ íîâîé åäèíèöû èçìåðåíèÿ
lnResAdding = oMgrTovar.Do([MSU],[ADD])
*------------------------------------------------------------------------------

*01.03.2005 12:34 -&gt; Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ çàïèñè
IF TYPE([lnResAdding])==[N]&amp;&amp;çàïèñü äîáàâëåíà
		
	*01.03.2005 12:34 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias, ;
			lnMsuId
	***
	lcOldAlias = ALIAS()
	lnMsuId = lnResAdding
	*------------------------------------------------------------------------------
	
	*11.04.2005 10:30 -&gt; Îáíîâèì Local View
	REQUERY([lvMeasureUnitView])
	*------------------------------------------------------------------------------

	*01.03.2005 12:37 -&gt; Ïåðåõîäèì íà äîáàâëåííûé ýëåìåíò
	SELECT lvMeasureUnitView
	LOCATE FOR lvMeasureUnitView.MsuID = lnMsuID
	*------------------------------------------------------------------------------

	*01.03.2005 12:37 -&gt; Âûçîâåì ìåòîä îáíîâëåíèÿ RunTime ñâîéñòâ, ñ ïðèíóäèòåëüíûì
	*01.03.2005 12:37 -&gt; âûçîâîì îáðàáîò÷èêîâ, äàæå åñëè ñâîéñòâî íå èçìåíèëîñü
	This.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	*01.03.2005 12:37 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _dele
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: MeasureUnit_v1.vcx
* Class.Module....: grdMsuUnit._Dele
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå åäèíèöû èçìåðåíèÿ.
*-------------------------------------------------------

*01.03.2005 12:27 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnMsuId, ;
		luResDele
***
lnMsuId = lvMeasureUnitView.MsuId
*------------------------------------------------------------------------------

*01.03.2005 12:27 -&gt; Âûïîëíèì îïåðàöèþ óäàëåíèÿ åäèíèöû èçìåðåíèÿ
luResDele = oMgrTovar.Do([MSU],[DELE],lnMsuId)
*------------------------------------------------------------------------------

*01.03.2005 12:27 -&gt; Îáðàáîòàåì ðåçóëüòàòû óäàëåíèÿ
IF TYPE([luResDele])==[L] AND luResDele
	
	*11.04.2005 10:30 -&gt; Îáíîâèì Local View
	REQUERY([lvMeasureUnitView])
	*------------------------------------------------------------------------------

	*01.03.2005 12:28 -&gt; Âûçîâåì ìåòîä äëÿ ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	This.Refresh(.T.)
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _edit
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: MeasureUnit_v1.vcx
* Class.Module....: grdMsuUnit._Edit
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Edit()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ðåäàêòèðîâàíèå åäèíèöû èçìåðåíèÿ.
*-------------------------------------------------------

*01.03.2005 12:23 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnMsuId, ;
		luResEditing
***
lnMsuId = lvMeasureUnitView.MsuId
*------------------------------------------------------------------------------

*01.03.2005 12:23 -&gt; Âûïîëíèì îïåðàöèþ ðåäàêòèðîâàíèÿ åäèíèöû èçìåðåíèÿ
luResEditing = oMgrTovar.Do([MSU],[EDIT],lnMsuId)
*------------------------------------------------------------------------------

*01.03.2005 12:24 -&gt; Îáðàáîòàåì ðåçóëüòàòû ðåäàêòèðîâàíèÿ
IF TYPE([luResEditing])==[L] AND luResEditing &amp;&amp;äàííûå îá åäèíèöå èçìåðåíèÿ èçìåíåíû
	
	*01.03.2005 12:30 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias
	***
	lcOldAlias = ALIAS()
	*------------------------------------------------------------------------------
	
	*11.04.2005 10:30 -&gt; Îáíîâèì Local View
	REQUERY([lvMeasureUnitView])
	*------------------------------------------------------------------------------

	*01.03.2005 12:37 -&gt; Ïåðåõîäèì íà îòðåäàêòèðîâàííûé ýëåìåíò
	SELECT lvMeasureUnitView
	LOCATE FOR lvMeasureUnitView.MsuID = lnMsuID
	*------------------------------------------------------------------------------

	*01.03.2005 12:31 -&gt; Âûçîâåì ìåòîä îáíîâëåíèÿ RunTime ñâîéñòâ, ñ ïðèíóäèòåëüíûì
	*01.03.2005 12:31 -&gt; âûçîâîì îáðàáîò÷èêîâ, äàæå åñëè ñâîéñòâî íå èçìåíèëîñü
	This.Refresh(.T.)
	*------------------------------------------------------------------------------
		
	*01.03.2005 12:31 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _info
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: MeasureUnit_v1.vcx
* Class.Module....: grdMsuUnit._Info
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïðîñìîòð åäèíèöû èçìåðåíèÿ.
*-------------------------------------------------------

*01.03.2005 12:20 -&gt; Âûïîëíèì îïåðàöèþ ïðîñìîòðà åäèíèöû èçìåðåíèÿ
oMgrTovar.Do([MSU],[INFO],lvMeasureUnitView.MsuId)
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB11ZRUO</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmmeasureunitview.grdMsuUnit.Column1</parent>
		<properties>Alignment = 2
Caption = "Íàèìåíîâàíèå"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FD0QH02X</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmmeasureunitview.grdMsuUnit.Column1</parent>
		<properties>Left = 32
Top = 30
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FC0PYQEY</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmmeasureunitview.grdMsuUnit.Column2</parent>
		<properties>Alignment = 2
Caption = "Êîðîòêîå íàèìåíîâàíèå"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FD0QKHUP</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmmeasureunitview.grdMsuUnit.Column2</parent>
		<properties>Left = 53
Top = 30
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1PH0SISU9</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmmeasureunitview.grdMsuUnit.Column3</parent>
		<properties>Alignment = 6
Caption = "Áàçîâàÿ åä. èçìåðåíèÿ"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE Click
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1PH0XF0XJ</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmmeasureunitview.grdMsuUnit.Column3</parent>
		<properties>Left = 62
Top = 42
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1PH0SISUB</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmmeasureunitview.grdMsuUnit.Column4</parent>
		<properties>Alignment = 2
Caption = "Êîëè÷åñòâî"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1PH0XF0XK</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmmeasureunitview.grdMsuUnit.Column4</parent>
		<properties>Left = 45
Top = 42
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmmeasureunitview</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1ST11F3KI</uniqueid>
		<timestamp>0</timestamp>
		<class>frmtvrfastadd</class>
		<classloc>tovar_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmmnufastadd</objname>
		<parent/>
		<properties>Height = 148
Width = 365
DoCreate = .T.
BorderStyle = 2
Caption = "Èíôîðìàöèÿ î ãðóïïå ìåíþ - Áûñòðîå äîáàâëåíèå"
Name = "frmmnufastadd"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
cstdatawork.Name = "cstdatawork"
lblTvrType.TabIndex = 6
lblTvrType.ZOrderSet = 13
lblTvrType.Name = "lblTvrType"
cntIdCtlGridTvrType.txtText.Name = "txtText"
cntIdCtlGridTvrType.cmdShow.Name = "cmdShow"
cntIdCtlGridTvrType.cmdClear.Name = "cmdClear"
cntIdCtlGridTvrType.TabIndex = 5
cntIdCtlGridTvrType.ZOrderSet = 14
cntIdCtlGridTvrType.Name = "cntIdCtlGridTvrType"
lblTvrParent.TabIndex = 7
lblTvrParent.ZOrderSet = 15
lblTvrParent.Name = "lblTvrParent"
cntIdCtlTreeTvrParent.txtText.Name = "txtText"
cntIdCtlTreeTvrParent.cmdShow.Name = "cmdShow"
cntIdCtlTreeTvrParent.cmdClear.Name = "cmdClear"
cntIdCtlTreeTvrParent.TabIndex = 1
cntIdCtlTreeTvrParent.ZOrderSet = 16
cntIdCtlTreeTvrParent.Name = "cntIdCtlTreeTvrParent"
lblTvrNM.Left = 5
lblTvrNM.TabIndex = 8
lblTvrNM.ZOrderSet = 17
lblTvrNM.Name = "lblTvrNM"
cntTxtCalcLenTvrNM.txtText.ControlSource = "lvTvrEdit.TvrNM"
cntTxtCalcLenTvrNM.txtText.Name = "txtText"
cntTxtCalcLenTvrNM.lblLen.Name = "lblLen"
cntTxtCalcLenTvrNM.Left = 110
cntTxtCalcLenTvrNM.TabIndex = 2
cntTxtCalcLenTvrNM.ZOrderSet = 18
cntTxtCalcLenTvrNM.Name = "cntTxtCalcLenTvrNM"
lblMsu.Enabled = .F.
lblMsu.Left = 5
lblMsu.Top = 8
lblMsu.Visible = .F.
lblMsu.TabIndex = 10
lblMsu.ZOrderSet = 0
lblMsu.Name = "lblMsu"
cntIdCtlGridMsu.txtText.Enabled = .F.
cntIdCtlGridMsu.txtText.Visible = .F.
cntIdCtlGridMsu.txtText.Name = "txtText"
cntIdCtlGridMsu.cmdShow.Enabled = .F.
cntIdCtlGridMsu.cmdShow.Visible = .F.
cntIdCtlGridMsu.cmdShow.Name = "cmdShow"
cntIdCtlGridMsu.cmdClear.Enabled = .F.
cntIdCtlGridMsu.cmdClear.Visible = .F.
cntIdCtlGridMsu.cmdClear.Name = "cmdClear"
cntIdCtlGridMsu.Top = 5
cntIdCtlGridMsu.Left = 110
cntIdCtlGridMsu.Enabled = .F.
cntIdCtlGridMsu.Visible = .F.
cntIdCtlGridMsu.TabIndex = 11
cntIdCtlGridMsu.ZOrderSet = 1
cntIdCtlGridMsu.Name = "cntIdCtlGridMsu"
lblMaker.Enabled = .F.
lblMaker.Left = 5
lblMaker.Top = 36
lblMaker.Visible = .F.
lblMaker.TabIndex = 12
lblMaker.ZOrderSet = 2
lblMaker.Name = "lblMaker"
cntIdCtlGridMakerClt.txtText.Enabled = .F.
cntIdCtlGridMakerClt.txtText.Visible = .F.
cntIdCtlGridMakerClt.txtText.Name = "txtText"
cntIdCtlGridMakerClt.cmdShow.Enabled = .F.
cntIdCtlGridMakerClt.cmdShow.Visible = .F.
cntIdCtlGridMakerClt.cmdShow.Name = "cmdShow"
cntIdCtlGridMakerClt.cmdClear.Enabled = .F.
cntIdCtlGridMakerClt.cmdClear.Visible = .F.
cntIdCtlGridMakerClt.cmdClear.Name = "cmdClear"
cntIdCtlGridMakerClt.Top = 33
cntIdCtlGridMakerClt.Left = 110
cntIdCtlGridMakerClt.Enabled = .F.
cntIdCtlGridMakerClt.Visible = .F.
cntIdCtlGridMakerClt.TabIndex = 13
cntIdCtlGridMakerClt.ZOrderSet = 3
cntIdCtlGridMakerClt.Name = "cntIdCtlGridMakerClt"
lblTvrVATRate.Enabled = .F.
lblTvrVATRate.Left = 5
lblTvrVATRate.Top = 64
lblTvrVATRate.Visible = .F.
lblTvrVATRate.TabIndex = 14
lblTvrVATRate.ZOrderSet = 4
lblTvrVATRate.Name = "lblTvrVATRate"
txtTvrVATRate.Enabled = .F.
txtTvrVATRate.Left = 110
txtTvrVATRate.TabIndex = 15
txtTvrVATRate.Top = 61
txtTvrVATRate.Visible = .F.
txtTvrVATRate.ZOrderSet = 5
txtTvrVATRate.Name = "txtTvrVATRate"
lblPrice.Enabled = .F.
lblPrice.Left = 5
lblPrice.Top = 53
lblPrice.Visible = .F.
lblPrice.TabIndex = 18
lblPrice.ZOrderSet = 6
lblPrice.Name = "lblPrice"
Lbl1.Enabled = .F.
Lbl1.Left = 5
Lbl1.Top = 25
Lbl1.Visible = .F.
Lbl1.TabIndex = 16
Lbl1.ZOrderSet = 7
Lbl1.Name = "Lbl1"
cntcancelsavehandled.cmdCancel.Name = "cmdCancel"
cntcancelsavehandled.cmdOk.Name = "cmdOk"
cntcancelsavehandled.Top = 117
cntcancelsavehandled.Left = 155
cntcancelsavehandled.TabIndex = 4
cntcancelsavehandled.ZOrderSet = 19
cntcancelsavehandled.Name = "cntcancelsavehandled"
txtTvrPrc.Enabled = .F.
txtTvrPrc.Left = 110
txtTvrPrc.TabIndex = 19
txtTvrPrc.Top = 50
txtTvrPrc.Visible = .F.
txtTvrPrc.ZOrderSet = 8
txtTvrPrc.Name = "txtTvrPrc"
ñntctlGridTvrDiscID.txtText.Enabled = .F.
ñntctlGridTvrDiscID.txtText.Visible = .F.
ñntctlGridTvrDiscID.txtText.Name = "txtText"
ñntctlGridTvrDiscID.cmdShow.Enabled = .F.
ñntctlGridTvrDiscID.cmdShow.Visible = .F.
ñntctlGridTvrDiscID.cmdShow.Name = "cmdShow"
ñntctlGridTvrDiscID.cmdClear.Enabled = .F.
ñntctlGridTvrDiscID.cmdClear.Visible = .F.
ñntctlGridTvrDiscID.cmdClear.Name = "cmdClear"
ñntctlGridTvrDiscID.Top = 22
ñntctlGridTvrDiscID.Left = 110
ñntctlGridTvrDiscID.Enabled = .F.
ñntctlGridTvrDiscID.Visible = .F.
ñntctlGridTvrDiscID.TabIndex = 17
ñntctlGridTvrDiscID.ZOrderSet = 9
ñntctlGridTvrDiscID.Name = "ñntctlGridTvrDiscID"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrFastAdd._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*26.12.2005 18:23 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llResSave, ;
		lnTvrID
*------------------------------------------------------------------------------

*21.12.2005 15:40 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage = [OK]

	*******************************************************************************
	*1. Ñîõðàíåíèå èíôîðìàöèè î òîâàðå											  *	
	*******************************************************************************
	
	*26.12.2005 18:23 -&gt; Ïðîèçâîäèì ñîõðàíåíèå
	llResSave = .cstDataWork.Save([lvTvrEdit])
	*------------------------------------------------------------------------------

	*26.12.2005 18:24 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
	IF !llResSave
		IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
			RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
		ELSE	
			MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
			.cstDataWork.Restore([lvTvrEdit])
		ENDIF	
	ENDIF
	*------------------------------------------------------------------------------


ELSE

	*21.01.2004 20:01 -&gt; Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrEdit])
	*------------------------------------------------------------------------------

	*21.12.2005 15:39 -&gt; Âåðíåì False
	.uRetVal = .F.
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*21.12.2005 11:07 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrFastAdd.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*-------------------------------------------------------

*26.12.2005 17:35 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
FRM::INIT()
*------------------------------------------------------------------------------

WITH This

*26.12.2005 17:47 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvTvrEdit
APPEND BLANK IN lvTvrEdit
REPLACE lvTvrEdit.TvrTypeId WITH 7
*------------------------------------------------------------------------------

*09.08.2005 17:02 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvPriceEdit
*APPEND BLANK IN lvPriceEdit
*------------------------------------------------------------------------------

*28.04.2004 12:17 -&gt; Âûáåðåì òèï öåíû ïî óìîë÷àíèþ
*SELECT lvPrcTypeList
*LOCATE FOR PrcTypeIsDef
***
*REPLACE PrcTypeID WITH lvPrcTypeList.PrcTypeID IN lvPriceEdit
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>3</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Ãðóïïà ìåíþ: áûñòðîå äîáàâëåíèå</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SW0VW8GK</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl2</objname>
		<parent>frmmnufastadd</parent>
		<properties>FontBold = .T.
Caption = "Âåñ ãðóïïû:"
Left = 5
Top = 92
TabIndex = 9
ZOrderSet = 25
Name = "Lbl2"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SW0VW8GL</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txt1</objname>
		<parent>frmmnufastadd</parent>
		<properties>ControlSource = "lvTvrEdit.TvrVATRate"
Format = "99999"
InputMask = "99999"
Left = 110
TabIndex = 3
Top = 89
ZOrderSet = 26
_highlightobject = .parent.lblTvrVATRate
_usedbfieldproperty = .T.
Name = "Txt1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmmnufastadd</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>0</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmprctypeedit</objname>
		<parent/>
		<properties>Height = 119
Width = 355
DoCreate = .T.
BorderStyle = 2
Caption = "Òèï ïðàéñà"
crequestedoperation = 
Name = "frmprctypeedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Top = 0
CSTRESIZABLE.Left = 24
CSTRESIZABLE.Name = "CSTRESIZABLE"
CSTDATAWORK.Top = 0
CSTDATAWORK.Left = 48
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmPrcTypeEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*09.08.2005 18:30 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*09.08.2005 18:30 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK]

	*09.08.2005 18:30 -&gt; Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*09.08.2005 18:30 -&gt; Óäàëèì çàïèñü
		DELETE IN lvPrcTypeEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*09.08.2005 18:31 -&gt; Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå
		llDataWasChanged = .cstDataWork.DataChanged([lvPrcTypeEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*09.08.2005 18:31 -&gt; Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ
	IF llDataWasChanged
		
		*09.08.2005 18:31 -&gt; Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvPrcTypeEdit])
		*------------------------------------------------------------------------------
		
		*09.08.2005 18:31 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvPrcTypeEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*09.08.2005 18:31 -&gt; Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvPrcTypeEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

	*09.08.2005 18:31 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*09.08.2005 18:31 -&gt; Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvPrcTypeEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*09.08.2005 18:31 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*09.08.2005 18:31 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*09.08.2005 18:32 -&gt; Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvPrcTypeEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*09.08.2005 18:32 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmPrcTypeEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation,tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*------------------------------------------------------------------------------
LPARAMETERS	tcRequestedOperation,tuParam1

*09.08.2005 18:28 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*09.08.2005 18:28 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*09.08.2005 18:29 -&gt; Ñîõðàíèì îïåðàöèþ
.cRequestedOperation = tcRequestedOperation
*------------------------------------------------------------------------------

*09.08.2005 18:29 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation == [ADD]
			
		*09.08.2005 18:29 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvPrcTypeEdit
		APPEND BLANK IN lvPrcTypeEdit
		*------------------------------------------------------------------------------

		*09.08.2005 18:30 -&gt; Âûáåðåì òèï âàëþòû
		.cntIdCtlTreeCurType.SetValue(lvCurTypeList.CurTypeID)
		*------------------------------------------------------------------------------
		
	CASE INLIST(.cRequestedOperation,[EDIT],[INFO],[DELE])
		
		*09.08.2005 18:30 -&gt; Çàãðóçèì äàííûå â lvPrcTypeEdit
		_PARAM = tuParam1
		REQUERY([lvPrcTypeEdit])
		*------------------------------------------------------------------------------
		
ENDCASE
*------------------------------------------------------------------------------

*09.08.2005 18:30 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = ALLTRIM(.Caption)+[ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])
	CASE .cRequestedOperation == [EDIT]
		.Caption = ALLTRIM(.Caption)+[ - Ðåäàêòèðîâàíèå]
		.Icon = FULLPATH([frmedit.ico])
	CASE .cRequestedOperation == [INFO]
		.Caption = ALLTRIM(.Caption)+[ - Ïðîñìîòð]
		.Icon = FULLPATH([frminfo.ico])
		.cntCancelSaveHandled.cmdOk.Enabled = .F.
	CASE .cRequestedOperation == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
*------------------------------------------------------------------------------

*24.08.2005 14:00 -&gt; Çàáëîêèðóåì ïîëå Èñïîëüçóåòñÿ ïî óìîë÷àíèþ
IF !lvPrcTypeEdit.PrcTypeIsDef
	ThisForm.chkPrcTypeIsDef.Enabled = !_spMainMarked([PrcType],[PrcTypeIsDef])
ENDIF
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmPrcTypeEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*------------------------------------------------------------------------------

*09.08.2005 18:28 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*09.08.2005 18:28 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*09.08.2005 18:28 -&gt; Îòêðûâàåì ñïðàâî÷íèêè
USE lvCurTypeList IN 0
*------------------------------------------------------------------------------

*09.08.2005 18:28 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ
USE lvPrcTypeEdit IN 0 NODATA
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>7</reserved2>
		<reserved3>crequestedoperation &lt;public/runtime&gt; Îïåðàöèÿ, êîòîðóþ äîëæåí âûïîëíèòü äàííûé îáúåêò.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Òèï ñïèñêà öåí</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1B4NYC</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeCurType</objname>
		<parent>frmprctypeedit</parent>
		<properties>Top = 33
Left = 100
TabIndex = 4
_controlsource = lvPrcTypeEdit.CurTypeID
_controlsourcetype = 1
_rsaliasname = lvCurTypeList
_rsfieldnameid = CurTypeID
_rsfieldnametext = CurTypeNM
Name = "cntIdCtlTreeCurType"
txtText._highlightobject = .Parent.Parent.lblCurType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L413QD6Q</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenPrcTypeNM</objname>
		<parent>frmprctypeedit</parent>
		<properties>Top = 5
Left = 100
Height = 23
ZOrderSet = 4
Name = "cntTxtCalcLenPrcTypeNM"
txtText.ControlSource = "lvPrcTypeEdit.PrcTypeNM"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblPrcTypeNM
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HF0Z6S64</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmprctypeedit</parent>
		<properties>Top = 89
Left = 145
TabIndex = 2
ZOrderSet = 17
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1BE4FO</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblCurType</objname>
		<parent>frmprctypeedit</parent>
		<properties>FontBold = .T.
Caption = "Òèï âàëþòû:"
Left = 5
Top = 36
TabIndex = 3
ZOrderSet = 7
Name = "lblCurType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblPrcTypeNM</objname>
		<parent>frmprctypeedit</parent>
		<properties>FontBold = .T.
Caption = "Íàèìåíîâàíèå:"
Left = 5
Top = 8
TabIndex = 3
ZOrderSet = 7
Name = "lblPrcTypeNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L413QD6R</uniqueid>
		<timestamp>0</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>chkPrcTypeIsDef</objname>
		<parent>frmprctypeedit</parent>
		<properties>Top = 64
Left = 5
FontBold = .T.
Caption = "Èñïîëüçóåòñÿ ïî óìîë÷àíèþ"
ControlSource = "lvPrcTypeEdit.PrcTypeIsDef"
Name = "chkPrcTypeIsDef"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmprctypeedit</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10B7SL</uniqueid>
		<timestamp>0</timestamp>
		<class>scrfrmview</class>
		<classloc>basis.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmprctypeview</objname>
		<parent/>
		<properties>Top = -3
Left = 8
Height = 341
Width = 410
DoCreate = .T.
Caption = "Ñïðàâî÷íèê òèïîâ ïðàéñîâ"
_standarttoolbar = tlbStandart;basetoolbar_v1.vcx
_allowsaveandrestorelayout = .T.
Name = "frmprctypeview"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
</properties>
		<protected/>
		<methods>PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmPrcTypeView.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*------------------------------------------------------------------------------

*09.08.2005 17:45 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*09.08.2005 17:45 -&gt; Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*09.08.2005 17:45 -&gt; Îòêðûâàåì Local View äëÿ Grid-à
USE lvPrcTypeView IN 0
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>8</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Òèïû ïðàéñîâ</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB11DWJS</uniqueid>
		<timestamp>0</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdPrcType</objname>
		<parent>frmprctypeview</parent>
		<properties>ColumnCount = 3
Height = 331
Left = 5
Panel = 1
RecordSource = "lvPrcTypeView"
Top = 5
Width = 400
_activerowhighlight = .T.
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;EDIT;INFO;DELE
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Ðåäàêòèðîâàòü;Ïðîñìîòð;Óäàëèòü
Name = "grdPrcType"
Column1.ColumnOrder = 1
Column1.ControlSource = "lvPrcTypeView.PrcTypeIsDef"
Column1.CurrentControl = "Chk1"
Column1.Enabled = .F.
Column1.Width = 15
Column1.Resizable = .F.
Column1.ReadOnly = .T.
Column1.Sparse = .F.
Column1.Name = "Column1"
Column2.ControlSource = "lvPrcTypeView.PrcTypeNM"
Column2.CurrentControl = "Txtgrd1"
Column2.Width = 200
Column2.Name = "Column2"
Column3.ControlSource = "lvPrcTypeView.CurTypeNM"
Column3.Width = 150
Column3.Name = "Column3"
</properties>
		<protected/>
		<methods>PROCEDURE _add
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdPrcType._Add
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Add()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå òèïîâ ïðàéñîâ
*------------------------------------------------------------------------------

*09.08.2005 18:10 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnResAdding
*------------------------------------------------------------------------------

*09.08.2005 18:10 -&gt; Âûïîëíèì îïåðàöèþ äîáàâëåíèÿ
lnResAdding = oMgrTovar.Do([PRCTYPE],[ADD])
*------------------------------------------------------------------------------

*09.08.2005 18:11 -&gt; Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ çàïèñè
IF TYPE([lnResAdding])==[N]
		
	*09.08.2005 18:11 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias, ;
			lnPrcTypeId
	***
	lcOldAlias = ALIAS()
	lnPrcTypeId = lnResAdding
	*------------------------------------------------------------------------------
	
	*09.08.2005 18:11 -&gt; Îáíîâèì Local View
	REQUERY([lvPrcTypeView])
	*------------------------------------------------------------------------------

	*09.08.2005 18:11 -&gt; Ïåðåõîäèì íà äîáàâëåííûé ýëåìåíò
	SELECT lvPrcTypeView
	LOCATE FOR lvPrcTypeView.PrcTypeID = lnPrcTypeID
	*------------------------------------------------------------------------------

	*09.08.2005 18:12 -&gt; Âûçîâåì ìåòîä äëÿ ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	This.Refresh(.T.)
	*------------------------------------------------------------------------------

	*09.08.2005 18:12 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _dele
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdPrcType._Dele
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå òèïîâ ïðàéñîâ
*------------------------------------------------------------------------------

*09.08.2005 18:13 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnPrcTypeId, ;
		luResDele
***
lnPrcTypeId = lvPrcTypeView.PrcTypeId
*------------------------------------------------------------------------------

*09.08.2005 18:13 -&gt; Âûïîëíèì îïåðàöèþ óäàëåíèÿ
luResDele = oMgrTovar.Do([PRCTYPE],[DELE],lnPrcTypeId)
*------------------------------------------------------------------------------

*09.08.2005 18:13 -&gt; Îáðàáîòàåì ðåçóëüòàòû óäàëåíèÿ
IF TYPE([luResDele])==[L] AND luResDele
	
	*09.08.2005 18:14 -&gt; Îáíîâèì Local View
	REQUERY([lvPrcTypeView])
	*------------------------------------------------------------------------------

	*09.08.2005 18:14 -&gt; Âûçîâåì ìåòîä äëÿ ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	This.Refresh(.T.)
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _edit
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdPrcType._Edit
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ðåäàêòèðîâàíèå òèïîâ ïðàéñîâ
*------------------------------------------------------------------------------

*09.08.2005 18:15 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnPrcTypeId, ;
		luResEditing
***
lnPrcTypeId = lvPrcTypeView.PrcTypeId
*------------------------------------------------------------------------------

*09.08.2005 18:15 -&gt; Âûïîëíèì îïåðàöèþ ðåäàêòèðîâàíèÿ
luResEditing = oMgrTovar.Do([PRCTYPE],[EDIT],lnPrcTypeId)
*------------------------------------------------------------------------------

*09.08.2005 18:16 -&gt; Îáðàáîòàåì ðåçóëüòàòû ðåäàêòèðîâàíèÿ
IF TYPE([luResEditing])==[L] AND luResEditing
	
	*09.08.2005 18:16 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias
	***
	lcOldAlias = ALIAS()
	*------------------------------------------------------------------------------
	
	*09.08.2005 18:16 -&gt; Îáíîâèì Local View
	REQUERY([lvPrcTypeView])
	*------------------------------------------------------------------------------

	*09.08.2005 18:16 -&gt; Ïåðåõîäèì íà îòðåäàêòèðîâàííûé ýëåìåíò
	SELECT lvPrcTypeView
	LOCATE FOR lvPrcTypeView.PrcTypeID = lnPrcTypeID
	*------------------------------------------------------------------------------

	*09.08.2005 18:14 -&gt; Âûçîâåì ìåòîä äëÿ ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	This.Refresh(.T.)
	*------------------------------------------------------------------------------

	*09.08.2005 18:16 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _info
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdPrcType._Info
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïðîñìîòð òèïîâ ïðàéñîâ
*------------------------------------------------------------------------------

*09.08.2005 18:17 -&gt; Âûïîëíèì îïåðàöèþ ïðîñìîòðà
oMgrTovar.Do([PRCTYPE],[INFO],lvPrcTypeView.PrcTypeId)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB11ZRUO</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmprctypeview.grdPrcType.Column1</parent>
		<properties>Caption = " "
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L412PXBQ</uniqueid>
		<timestamp>0</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>Chk1</objname>
		<parent>frmprctypeview.grdPrcType.Column1</parent>
		<properties>Top = 30
Left = 8
Name = "Chk1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FC0PYQEY</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmprctypeview.grdPrcType.Column2</parent>
		<properties>Alignment = 2
Caption = "Òèï ïðàéñà"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FD0QKHUP</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmprctypeview.grdPrcType.Column2</parent>
		<properties>Left = 53
Top = 30
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L412PXBR</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmprctypeview.grdPrcType.Column3</parent>
		<properties>Alignment = 2
Caption = "Âàëþòà"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L412PXBS</uniqueid>
		<timestamp>0</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmprctypeview.grdPrcType.Column3</parent>
		<properties>BorderStyle = 0
Margin = 0
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmprctypeview</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>0</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtluindptedit</objname>
		<parent/>
		<properties>Height = 90
Width = 350
DoCreate = .T.
BorderStyle = 2
Caption = "Ïðèâÿçêà ê îòäåëó"
crequestedoperation = 
Name = "frmtluindptedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Top = 0
CSTRESIZABLE.Left = 24
CSTRESIZABLE.Name = "CSTRESIZABLE"
CSTDATAWORK.Top = 0
CSTDATAWORK.Left = 48
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTluIdDptEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*09.08.2005 17:25 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*09.08.2005 17:26 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK]

	*09.08.2005 17:26 -&gt; Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*09.08.2005 17:26 -&gt; Óäàëèì çàïèñü
		DELETE IN lvTLUInStorageDepartEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*09.08.2005 17:26 -&gt; Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå
		llDataWasChanged = .cstDataWork.DataChanged([lvTLUInStorageDepartEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*09.08.2005 17:27 -&gt; Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ
	IF llDataWasChanged
		
		*09.08.2005 17:27 -&gt; Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTLUInStorageDepartEdit])
		*------------------------------------------------------------------------------
		
		*09.08.2005 17:27 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTLUInStorageDepartEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*09.08.2005 17:27 -&gt; Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTLUInStorageDepartEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

	*09.08.2005 17:27 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF INLIST(.cRequestedOperation,[ADD],[EDIT])

			*09.08.2005 17:27 -&gt; Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvTLUInStorageDepartEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*09.08.2005 17:27 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*09.08.2005 17:28 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*09.08.2005 17:28 -&gt; Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTLUInStorageDepartEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*09.08.2005 17:28 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmfrmTluInDptEditEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation,tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*------------------------------------------------------------------------------
LPARAMETERS	tcRequestedOperation,tuParam1

*09.08.2005 17:02 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*09.08.2005 17:02 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*09.08.2005 17:02 -&gt; Ñîõðàíèì îïåðàöèþ
.cRequestedOperation = tcRequestedOperation
*------------------------------------------------------------------------------

*09.08.2005 17:02 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation == [ADD]
			
		*09.08.2005 17:02 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvTLUInStorageDepartEdit
		APPEND BLANK IN lvTLUInStorageDepartEdit
		*------------------------------------------------------------------------------

		*09.08.2005 17:02 -&gt; Ïîäñòàâèì ïåðåäàííûé èäåíòèôèêàòîð ïðèâÿçêè
		SELECT lvTLUInStorageDepartEdit
		REPLACE TluInDptTLUId WITH tuParam1
		*------------------------------------------------------------------------------
		
		*28.04.2004 12:17 -&gt; Âûáåðåì ìàãàçèí óìîë÷àíèþ
		SELECT lvStorageView
		GO TOP
		***
		.cntIdCtlGridStorage.SetValue(lvStorageView.StorageID)
		*------------------------------------------------------------------------------
		
	CASE INLIST(.cRequestedOperation,[EDIT],[INFO],[DELE])
		
		*09.08.2005 17:03 -&gt; Çàãðóçèì äàííûå â lvTLUInStorageDepartEdit
		_PARAM = tuParam1
		REQUERY([lvTLUInStorageDepartEdit])
		*------------------------------------------------------------------------------
		
		*13.10.2005 15:31 -&gt;Óçíàåì èäåíòèôèêàòîð ìàãàçèíà
		_PARAM = lvTLUInStorageDepartEdit.TluInDptStorageDepartmentID
		USE lvStorageByDep IN 0
		*------------------------------------------------------------------------------
		
		*13.10.2005 15:31 -&gt;Ïîêàæåì ìàãàçèí
		.cntIdCtlGridStorage.SetValue(lvStorageByDep.StorageID)
		*------------------------------------------------------------------------------
		
		*13.10.2005 15:32 -&gt;Ïîêàæåì îòäåë
		.cntIdCtlGridDepart.SetValue(lvTLUInStorageDepartEdit.TluInDptStorageDepartmentID)
		*------------------------------------------------------------------------------
		
ENDCASE
*------------------------------------------------------------------------------

*09.08.2005 17:03 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = ALLTRIM(.Caption)+[ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])
	CASE .cRequestedOperation == [EDIT]
		.Caption = ALLTRIM(.Caption)+[ - Ðåäàêòèðîâàíèå]
		.Icon = FULLPATH([frmedit.ico])
	CASE .cRequestedOperation == [INFO]
		.Caption = ALLTRIM(.Caption)+[ - Ïðîñìîòð]
		.Icon = FULLPATH([frminfo.ico])
		.cntCancelSaveHandled.cmdOk.Enabled = .F.
	CASE .cRequestedOperation == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTluInDptEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*------------------------------------------------------------------------------

*09.08.2005 17:00 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*09.08.2005 17:01 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*09.08.2005 17:09 -&gt; Îòêðûâàåì ñïðàâî÷íèêè
USE lvStorageView IN 0
USE lvStorageDepartmentView IN 0 NODATA
*------------------------------------------------------------------------------

*09.08.2005 17:01 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ
USE lvTLUInStorageDepartEdit IN 0 NODATA
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>6</reserved2>
		<reserved3>crequestedoperation &lt;public/runtime&gt; Îïåðàöèÿ, êîòîðóþ äîëæåí âûïîëíèòü äàííûé îáúåêò.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTovar</objname>
		<parent>frmtluindptedit</parent>
		<properties>FontBold = .T.
Caption = "Ìàãàçèí:"
Left = 5
Top = 8
TabIndex = 1
ZOrderSet = 3
Name = "lblTovar"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MX0U0ERH</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridStorage</objname>
		<parent>frmtluindptedit</parent>
		<properties>Top = 5
Left = 70
Width = 274
Height = 23
TabIndex = 2
ZOrderSet = 4
_rsaliasname = lvStorageView
_rsfieldnameid = StorageID
_rsfieldnametext = StorageNM
Name = "cntIdCtlGridStorage"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 226
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 228
cmdShow.Height = 23
cmdShow.Width = 23
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 251
cmdClear.Height = 23
cmdClear.Width = 23
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods>PROCEDURE _refreshrelatedobjects
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: CntIDCtlGridStorage._RefreshRelatedObjects()
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

*13.10.2005 14:02 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	_PARAM
*------------------------------------------------------------------------------

*02.09.2005 12:00 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*04.08.2005 11:01 -&gt;Îáíîâèì Control ñ îòäåëàìè
ThisForm.cntIdCtlGridDepart.Enabled =(This.Value # 0)
***
IF This.Value # 0
	_PARAM = This.Value
	REQUERY([lvStorageDepartmentView])
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1BE4FO</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblPrcType</objname>
		<parent>frmtluindptedit</parent>
		<properties>FontBold = .T.
Caption = "Îòäåë:"
Left = 5
Top = 36
TabIndex = 3
ZOrderSet = 5
Name = "lblPrcType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MX0U0ERI</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridDepart</objname>
		<parent>frmtluindptedit</parent>
		<properties>Top = 33
Left = 71
Width = 274
Height = 23
TabIndex = 4
ZOrderSet = 6
_rsaliasname = lvStorageDepartmentView
_rsfieldnameid = StorageDepartmentID
_rsfieldnametext = StorageDepartmentNM
_controlsource = lvTLUInStorageDepartEdit.TluInDptStorageDepartmentID
_controlsourcetype = 1
Name = "cntIdCtlGridDepart"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 226
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 228
cmdShow.Height = 23
cmdShow.Width = 23
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 251
cmdClear.Height = 23
cmdClear.Width = 23
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HF0Z6S64</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtluindptedit</parent>
		<properties>Top = 61
Left = 140
TabIndex = 5
ZOrderSet = 7
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtluindptedit</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0QD9RK</uniqueid>
		<timestamp>0</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrconstraintedit</objname>
		<parent/>
		<properties>Height = 150
Width = 355
DoCreate = .T.
Caption = "Îãðàíè÷åíèå òîâàðíîãî àññîðòèìåíòà"
crequestedoperation = 
Name = "frmtvrconstraintedit"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
cstdatawork.Name = "cstdatawork"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrConstraintEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS tcMessage

WITH This

*02.04.2004 16:51 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*02.04.2004 16:51 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK]

	*07.07.2004 17:29 -&gt; Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*07.07.2004 17:35 -&gt; Óäàëèì çàïèñü
		DELETE IN lvTvrConstraintEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*07.07.2004 12:09 -&gt; Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå
		llDataWasChanged = .cstDataWork.DataChanged([lvTvrConstraintEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*02.04.2004 16:51 -&gt; Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ
	IF llDataWasChanged
		
		*02.04.2004 16:59 -&gt; Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrConstraintEdit])
		*------------------------------------------------------------------------------
		
		*02.04.2004 17:00 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrConstraintEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*21.01.2004 20:01 -&gt; Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrConstraintEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------
	
	ENDIF
	*------------------------------------------------------------------------------

	*04.04.2005 11:57 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*08.07.2004 15:23 -&gt; Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = spGetLastIncrementedID([lvTvrConstraintEdit])
			*------------------------------------------------------------------------------

		ELSE

			*04.07.2005 18:02 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*13.01.2005 14:38 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*21.01.2004 20:01 -&gt; Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrConstraintEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*13.01.2005 14:37 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrConstraintEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation, tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*------------------------------------------------------------------------------
LPARAMETERS tcRequestedOperation, tuParam1

*01.03.2005 14:04 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*01.03.2005 14:04 -&gt; Ñîõðàíèì êîìàíäó (ðåæèì ðàáîòû ñ äàííûìè)
.cRequestedOperation = UPPER(ALLTRIM(tcRequestedOperation))
*------------------------------------------------------------------------------

*01.03.2005 14:04 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*19.06.2006 11:16 -&gt;Çàãðóçèì ñïðàâî÷íèê ïîäðàçäåëåíèé
_PARAM = oApp.nUserKod
***
REQUERY([lvOuOperateList])
*------------------------------------------------------------------------------

*14.06.2006 13:47 -&gt; Çàáëîêèðóåì ïîëå "Òîâàð" è "Ïîäðàçäåëåíèå"
IF .cRequestedOperation # [ADD]
	.cntIdCtlTvrGrid.SetEnabled(.F.)
	.cntIdCtlGridDepart.SetEnabled(.F.)
	*01.03.2005 14:05 -&gt; Çàãðóçèì äàííûå ñóùåñòâóþùåãî îãðàíè÷åíèÿ
	_PARAM = tuParam1
	***
	REQUERY([lvTvrConstraintEdit])
	*------------------------------------------------------------------------------
ELSE
	APPEND BLANK IN lvTvrConstraintEdit
ENDIF
*------------------------------------------------------------------------------
		
*01.03.2005 14:06 -&gt; Îïðåäåëèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = .Caption + [ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])

	CASE .cRequestedOperation == [EDIT]
		.Caption = .Caption + [ - Ðåäàêòèðîâàíèå]
		.Icon = FULLPATH([frmedit.ico])

	CASE .cRequestedOperation == [INFO]
		.Caption = .Caption + [ - Ïðîñìîòð]
		.Icon = FULLPATH([frminfo.ico])
		.cntCancelSaveHandled.cmdOk.Enabled = .F.

	CASE .cRequestedOperation == [DELE]
		.Caption = .Caption + [ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]

ENDCASE
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrConstraintEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà äàííûõ äëÿ ôîðìû
*------------------------------------------------------------------------------

*01.03.2005 14:09 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*01.03.2005 14:09 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*14.06.2006 12:22 -&gt; Çàãðóæàåì ñïðàâî÷íèêè
USE lvTvrOnlyList IN 0
USE lvOuOperateList IN 0 NODATA
*------------------------------------------------------------------------------

*14.06.2006 12:22 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ
USE lvTvrConstraintEdit IN 0 NODATA
CURSORSETPROP([BUFFERING],3,[lvTvrConstraintEdit])
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>10</reserved2>
		<reserved3>crequestedoperation
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TR0QGFYT</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvr</objname>
		<parent>frmtvrconstraintedit</parent>
		<properties>FontBold = .T.
Caption = "Òîâàð:"
Height = 17
Left = 5
Top = 8
Width = 40
TabIndex = 1
ZOrderSet = 4
Name = "lblTvr"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TR0QGFYX</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTvrGrid</objname>
		<parent>frmtvrconstraintedit</parent>
		<properties>Top = 5
Left = 100
TabIndex = 2
ZOrderSet = 5
_controlsource = lvTvrConstraintEdit.TvrID
_controlsourcetype = 1
_rsaliasname = lvTvrOnlyList
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
Name = "cntIdCtlTvrGrid"
txtText._highlightobject = .Parent.Parent.lblTvr
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TW0NQKAF</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblPrcType</objname>
		<parent>frmtvrconstraintedit</parent>
		<properties>FontBold = .T.
Caption = "Îòäåë:"
Left = 5
Top = 36
TabIndex = 3
ZOrderSet = 5
Name = "lblPrcType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TW0NQKAH</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridDepart</objname>
		<parent>frmtvrconstraintedit</parent>
		<properties>Top = 33
Left = 100
Width = 251
Height = 23
TabIndex = 4
ZOrderSet = 6
_rsaliasname = lvOuOperateList
_rsfieldnameid = ID
_rsfieldnametext = NM
_controlsource = lvTvrConstraintEdit.OUID
_controlsourcetype = 1
Name = "cntIdCtlGridDepart"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 200
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 205
cmdShow.Height = 23
cmdShow.Width = 23
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 228
cmdClear.Height = 23
cmdClear.Width = 23
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrMinQnt</objname>
		<parent>frmtvrconstraintedit</parent>
		<properties>FontBold = .T.
Caption = "Ìèí.êîë-âî:"
Height = 17
Left = 5
Top = 64
Width = 71
TabIndex = 5
ZOrderSet = 6
Name = "lblTvrMinQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TR0QGFZ7</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrMaxQnt</objname>
		<parent>frmtvrconstraintedit</parent>
		<properties>FontBold = .T.
Caption = "Ìàêñ.êîë-âî:"
Height = 17
Left = 5
Top = 92
Width = 77
TabIndex = 7
ZOrderSet = 6
Name = "lblTvrMaxQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TR0QGFZ9</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrMaxQnt</objname>
		<parent>frmtvrconstraintedit</parent>
		<properties>ControlSource = "lvTvrConstraintEdit.TvrMaxQnt"
Height = 23
Left = 100
TabIndex = 8
Top = 89
Width = 200
ZOrderSet = 7
_highlightobject = .Parent.lblTvrMaxQnt
Name = "txtTvrMaxQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TR0QGFYR</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>Cntcancelsavehandled</objname>
		<parent>frmtvrconstraintedit</parent>
		<properties>Top = 117
Left = 145
TabIndex = 9
ZOrderSet = 8
Name = "Cntcancelsavehandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrMinQnt</objname>
		<parent>frmtvrconstraintedit</parent>
		<properties>ControlSource = "lvTvrConstraintEdit.TvrMinQnt"
Height = 23
Left = 100
TabIndex = 6
Top = 61
Width = 200
ZOrderSet = 7
_highlightobject = .Parent.lblTvrMinQnt
Name = "txtTvrMinQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrconstraintedit</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PDILM</uniqueid>
		<timestamp>0</timestamp>
		<class>scrfrmview</class>
		<classloc>basis.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrconstraintview</objname>
		<parent/>
		<properties>Top = 0
Left = 0
Height = 355
Width = 620
DoCreate = .T.
Caption = "Îãðàíè÷åíèå òîâàðíîãî àññîðòèìåíòà"
_standarttoolbar = tlbStandart;basetoolbar_v1.vcx
Name = "frmtvrconstraintview"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
</properties>
		<protected/>
		<methods>PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrConstraintView.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tnScrFrmID&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*------------------------------------------------------------------------------
LPARAMETERS	tnScrFrmID, tnTvrID

*04.05.2004 23:30 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT(tnScrFrmID)
*------------------------------------------------------------------------------

WITH This

*25.05.2004 23:11 -&gt; Çàãðóçèì ôèëüòðû äëÿ òåêóùåé ôîðìû
.cntQueryParam.ParamObjectCreate(__QPOTYPE_SCRFRM,.nScrFrmID)
***
IF PCOUNT() = 2
	.cntQueryParam.ParamObjectCreateHidden([TvrID],tnTvrID)
ENDIF
*------------------------------------------------------------------------------

*13.06.2006 12:43 -&gt; Ïðèìåíÿåì ôèëüòðû
.cntQueryParam.QueryParamSet()
***
ThisForm.grdTvrConstraintView._RSRequery()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrConstraintView.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îòêðûòèå ôîðìû (çàãðóçêà äàííûõ)
*------------------------------------------------------------------------------

*04.05.2004 19:46 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

*21.04.2004 14:06 -&gt; Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*02.12.2004 16:59 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcUniqueName
*------------------------------------------------------------------------------

*21.04.2004 14:05 -&gt; Âûïîëíèì õðàíèìóþ ïðîöåäóðó äëÿ ïîëó÷åíèÿ ïóñòîé òàáëèöû
lcUniqueName = spTvrConstraintView([NODATA])
*------------------------------------------------------------------------------

*21.04.2004 14:08 -&gt; Òåïåðü îòêðîåì äàííûé Alias
USE (lcUniqueName) IN 0 ALIAS TvrConstraintView
CURSORSETPROP([BUFFERING],3,[TvrConstraintView])
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Unload
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrConstraintView.Unload
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;sysevent&gt; Âûãðóçêà ôîðìû
*------------------------------------------------------------------------------

*04.05.2004 19:46 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

*27.05.2004 17:57 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcUniqueFilePath
*------------------------------------------------------------------------------

*27.05.2004 17:53 -&gt; Çàêðîåì Alias è óäàëèì âðåìåííóþ òàáëèöó
lcUniqueFilePath = DBF([TvrConstraintView])
***
USE IN TvrConstraintView
***
IF FILE(lcUniqueFilePath)
	ERASE (lcUniqueFilePath)
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>14</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8>..\include\qryparparobjtypes.h</reserved8>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGGQ</uniqueid>
		<timestamp>0</timestamp>
		<class>cntqueryparam</class>
		<classloc>queryparamio_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntQueryParam</objname>
		<parent>frmtvrconstraintview</parent>
		<properties>Top = 300
Left = 275
Width = 345
Height = 50
ZOrderSet = 3
Name = "cntQueryParam"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGHW</uniqueid>
		<timestamp>0</timestamp>
		<class>cmd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdUpdate</objname>
		<parent>frmtvrconstraintview</parent>
		<properties>Top = 325
Left = 5
Height = 25
Caption = "Îáíîâèòü"
ZOrderSet = 5
Name = "cmdUpdate"
</properties>
		<protected/>
		<methods>PROCEDURE Click
ThisForm.cntQueryParam.QueryParamSet()
ThisForm.grdTvrConstraintView._RSRequery()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGGV</uniqueid>
		<timestamp>0</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTvrConstraintView</objname>
		<parent>frmtvrconstraintview</parent>
		<properties>ColumnCount = 5
Height = 290
Left = 5
Panel = 1
RecordSource = "TvrConstraintView"
ScrollBars = 2
Top = 5
Width = 615
ZOrderSet = 4
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Ðåäàêòèðîâàòü;Ïðîñìîòð;Óäàëèòü;\-;Ïå÷àòü îò÷åòà;\-;Ýêñïîðò â Excel
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;EDIT;INFO;DELE;;PRNREP;;EXCEL
Name = "grdTvrConstraintView"
Column1.ControlSource = "TvrConstraintView.TvrNM"
Column1.CurrentControl = "Txtgrd1"
Column1.Width = 200
Column1.ReadOnly = .T.
Column1.Name = "Column1"
Column2.ColumnOrder = 2
Column2.ControlSource = "TvrConstraintView.MsuNM"
Column2.CurrentControl = "Txtgrd1"
Column2.Width = 80
Column2.ReadOnly = .T.
Column2.Name = "Column2"
Column3.ControlSource = "TvrConstraintView.TvrMinQnt"
Column3.CurrentControl = "Txtgrd1"
Column3.Width = 100
Column3.ReadOnly = .T.
Column3.Name = "Column3"
Column4.ControlSource = "TvrConstraintView.TvrMaxQnt"
Column4.CurrentControl = "Txtgrd1"
Column4.Width = 100
Column4.ReadOnly = .T.
Column4.Name = "Column4"
Column5.ControlSource = "TvrConstraintView.TvrCurQnt"
Column5.Width = 100
Column5.ReadOnly = .T.
Column5.DynamicBackColor = "IIF(TvrConstraintView.TvrCurQnt&lt;=TvrConstraintView.TvrMinQnt OR (TvrConstraintView.TvrCurQnt&gt;=TvrConstraintView.TvrMaxQnt AND TvrConstraintView.TvrMaxQnt # 0),RGB(255,0,0),RGB(255,255,255))"
Column5.Name = "Column5"
</properties>
		<protected/>
		<methods>PROCEDURE _add
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrConstraintView._Add
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå îãðàíè÷åíèÿ
*------------------------------------------------------------------------------

*12.05.2004 03:25 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luResAdding
*------------------------------------------------------------------------------

*12.05.2004 03:26 -&gt; Âûïîëíÿåì îïåðàöèþ äîáàâëåíèÿ îãðàíè÷åíèÿ
luResAdding = oMgrTovar.Do([TVRCONSTRAINT],[ADD])
*------------------------------------------------------------------------------

*12.05.2004 03:26 -&gt; Îáðàáàòûâàåì ðåçóëüòàò äîáàâëåíèÿ
IF TYPE([luResAdding])==[N] AND !EMPTY(luResAdding)
	
	*22.12.2004 15:16 -&gt; Îáíîâëÿåì çàïèñü
	This._RSRequeryOne(luResAdding)
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _dele
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrConstraintView._Dele
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå îãðàíè÷åíèÿ
*------------------------------------------------------------------------------

*12.05.2004 03:25 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTvrCID, ;
		luResDeleting
***
lnTvrCID = TvrConstraintView.TvrCID
*------------------------------------------------------------------------------

*12.05.2004 03:26 -&gt; Âûïîëíÿåì îïåðàöèþ óäàëåíèÿ îãðàíè÷åíèÿ
luResDeleting = oMgrTovar.Do([TVRCONSTRAINT],[DELE],lnTvrCID)
*------------------------------------------------------------------------------

*12.05.2004 03:26 -&gt; Îáðàáàòûâàåì ðåçóëüòàò óäàëåíèÿ
IF TYPE([luResDeleting])==[L] AND luResDeleting
	
	*22.12.2004 15:16 -&gt; Îáíîâëÿåì çàïèñü
	This._RSRequeryOne(lnTvrCID)
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _edit
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrConstraintView._Edit
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ðåäàêòèðîâàíèå îãðàíè÷åíèÿ
*------------------------------------------------------------------------------

*12.05.2004 03:25 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTvrCID, ;
		luResEditing
***
lnTvrCID = TvrConstraintView.TvrCID
*------------------------------------------------------------------------------

*12.05.2004 03:26 -&gt; Âûïîëíÿåì îïåðàöèþ ðåäàêòèðîâàíèÿ îãðàíè÷åíèÿ
luResEditing = oMgrTovar.Do([TVRCONSTRAINT],[EDIT],lnTvrCID)
*------------------------------------------------------------------------------

*12.05.2004 03:26 -&gt; Îáðàáàòûâàåì ðåçóëüòàò ðåäàêòèðîâàíèÿ
IF TYPE([luResEditing])==[L] AND luResEditing
	
	*22.12.2004 15:16 -&gt; Îáíîâëÿåì çàïèñü
	This._RSRequeryOne(lnTvrCID)
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _info
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrConstraintView._Info
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïðîñìîòð îãðàíè÷åíèÿ
*------------------------------------------------------------------------------

*12.05.2004 03:26 -&gt; Âûïîëíÿåì îïåðàöèþ ïðîñìîòðà îãðàíè÷åíèÿ
oMgrTovar.Do([TVRCONSTRAINT],[INFO],TvrConstraintView.TvrCID)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _prnrep
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrConstraintView._PrnRep
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïå÷àòü îò÷åòà ïî îãðàíè÷åíèþ òîâàðíîãî àññîðòèìåíòà
*------------------------------------------------------------------------------

*21.05.2004 22:39 -&gt;Âûïîëíèì ìåòîä ìåíåäæåðà äëÿ ïå÷àòè îò÷¸òà
oApp.ExecuteScrFormReportByID(ThisForm.nScrFrmID)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _rsrequery
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrConstraintView._RSRequery
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

*27.05.2004 17:57 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcUniqueName, ;
		lcUniqueFilePath
*------------------------------------------------------------------------------

WITH THIS

*19.09.2005 16:05 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*19.09.2005 16:05 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*27.05.2004 17:53 -&gt; Çàêðîåì Alias è óäàëèì âðåìåííóþ òàáëèöó
lcUniqueFilePath = DBF([TvrConstraintView])
***
USE IN TvrConstraintView
***
IF FILE(lcUniqueFilePath)
	ERASE (lcUniqueFilePath)
ENDIF
*------------------------------------------------------------------------------

*21.04.2004 14:05 -&gt; Âûïîëíèì õðàíèìóþ ïðîöåäóðó äëÿ ïîëó÷åíèÿ äàííûõ
lcUniqueName = spTvrConstraintView(ThisForm.cntQueryParam.cQryParSID)
*------------------------------------------------------------------------------

*21.04.2004 14:08 -&gt; Òåïåðü îòêðîåì äàííûé Alias
USE (lcUniqueName) IN 0 ALIAS TvrConstraintView
CURSORSETPROP([BUFFERING],3,[TvrConstraintView])
*------------------------------------------------------------------------------

*05.05.2004 01:36 -&gt;Âîññòàíàâëèâàåì Alias
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _rsrequeryone
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrConstraintView._RSRequeryOne
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;tnTvrID,tlNoRefreshRelatedObjects&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïåðå÷èòûâàíèå îäíîé çàïèñè
*------------------------------------------------------------------------------
LPARAMETERS tnTvrCID,tlNoRefreshRelatedObjects

*14.06.2006 12:58 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcOldAlias, ;
		lcUniqueFileName, ;
		llOldRefreshRelatedObjectsOnRSRecNoChange
LOCAL ARRAY laReplaceArray[1]
***
lcOldAlias = ALIAS()
*------------------------------------------------------------------------------

*12.05.2004 03:27 -&gt; Âûïîëíÿåì çàïðîñ ñòðîêè
lcUniqueFileName = spTvrConstraintView(tnTvrCID)
*------------------------------------------------------------------------------

*22.12.2004 15:47 -&gt;Åñëè óêàçàí ôëàã "Íå îáíîâëÿòü ñâÿçàííûå îáúåêòû" - çàáëîêèðóåì îáíîâëåíèå
IF tlNoRefreshRelatedObjects
	llOldRefreshRelatedObjectsOnRSRecNoChange = This._RefreshRelatedObjectsOnRSRecNoChange
	This._RefreshRelatedObjectsOnRSRecNoChange = .F.
ENDIF
*------------------------------------------------------------------------------

*12.05.2004 03:35 -&gt;Îòêëþ÷àåì èñòî÷íèê äàííûõ
This.SourceKeep()
This.SourceReset()
*------------------------------------------------------------------------------

*22.12.2004 15:05 -&gt;Äîáàâëÿåì/îáíîâëÿåì/óäàëÿåì çàïèñü
USE (lcUniqueFileName) IN 0 ALIAS TvrConstraintViewReq
SELECT TvrConstraintViewReq
***
IF RECCOUNT([TvrConstraintViewReq]) == 1

	*22.12.2004 15:10 -&gt; Îáíîâëÿåì çàïèñü
	SCATTER TO laReplaceArray
	SELECT TvrConstraintView
	LOCATE FOR TvrConstraintView.TvrCID = tnTvrCID
	IF !FOUND()
		APPEND BLANK IN TvrConstraintView
	ENDIF
	GATHER FROM laReplaceArray
	TABLEUPDATE(.T.)
	*------------------------------------------------------------------------------
	
ELSE

	SELECT TvrConstraintView
	LOCATE FOR TvrConstraintView.TvrCID = tnTvrCID
	IF FOUND()
		*22.12.2004 15:11 -&gt;Óäàëÿåì çàïèñü
		DELETE IN TvrConstraintView
		TABLEUPDATE(.T.)
		*------------------------------------------------------------------------------
	ENDIF
	
ENDIF
*------------------------------------------------------------------------------

*12.05.2004 03:37 -&gt;Âîññòàíàâëèâàåì èñòî÷íèê äàííûõ
This.SourceRecall()
*------------------------------------------------------------------------------

*22.12.2004 15:09 -&gt;Óäàëÿåì ðåçóëüòàò çàïðîñà
USE IN TvrConstraintViewReq
ERASE ([tmp\]+lcUniqueFileName+[.dbf])
*------------------------------------------------------------------------------

*22.12.2004 15:35 -&gt;Âîññòàíîâèì òåêóùèé Alias
IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
	SELECT(lcOldAlias)
ENDIF
*------------------------------------------------------------------------------

*22.12.2004 15:47 -&gt;Åñëè óêàçàí ôëàã "Íå îáíîâëÿòü ñâÿçàííûå îáúåêòû" - ðàçáëîêèðóåì îáíîâëåíèå
IF tlNoRefreshRelatedObjects
	This._RefreshRelatedObjectsOnRSRecNoChange = llOldRefreshRelatedObjectsOnRSRecNoChange
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGHJ</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrconstraintview.grdTvrConstraintView.Column1</parent>
		<properties>Alignment = 6
Caption = "Òîâàð"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGHK</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrconstraintview.grdTvrConstraintView.Column1</parent>
		<properties>Left = 20
ReadOnly = .T.
Top = 47
Width = 12
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGHM</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrconstraintview.grdTvrConstraintView.Column2</parent>
		<properties>Alignment = 6
Caption = "Åä. èçì."
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGHN</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrconstraintview.grdTvrConstraintView.Column2</parent>
		<properties>Left = 98
ReadOnly = .T.
Top = 47
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGHP</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrconstraintview.grdTvrConstraintView.Column3</parent>
		<properties>Alignment = 6
Caption = "Ìèí. êîë-âî"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGHR</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrconstraintview.grdTvrConstraintView.Column3</parent>
		<properties>Left = 43
ReadOnly = .T.
Top = 47
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGHT</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrconstraintview.grdTvrConstraintView.Column4</parent>
		<properties>Alignment = 6
Caption = "Ìàêñ. êîë-âî"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TQ0PUGHU</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrconstraintview.grdTvrConstraintView.Column4</parent>
		<properties>Left = 28
ReadOnly = .T.
Top = 47
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TW0L3U1W</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrconstraintview.grdTvrConstraintView.Column5</parent>
		<properties>Caption = "Òåêóùåå êîë-âî"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1TW0L3U1Y</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrconstraintview.grdTvrConstraintView.Column5</parent>
		<properties>Left = 20
ReadOnly = .T.
Top = 30
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrconstraintview</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1></reserved1>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>0</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrdiscedit</objname>
		<parent/>
		<properties>Height = 62
Width = 360
DoCreate = .T.
Caption = "Ñêèäêà íà òîâàð"
Icon = ..\graphic\frmtvredit.ico
ntovarid = 0
Name = "frmtvrdiscedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Name = "CSTRESIZABLE"
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrDiscEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*10.11.2005 16:26 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luRetVal
*------------------------------------------------------------------------------

*10.11.2005 16:48 -&gt;Óñòàíîâêà ñêèäêè íà òîâàð/ãðóïïó òîâàðîâ
IF tcMessage = [OK]
	luRetVal = spSetTvrDisc(.nTovarID,.ñntctlGridTvrDiscID.Value)
ENDIF
*------------------------------------------------------------------------------

.cstDataWork.Restore([lvTvrEdit])
.uRetVal = luRetVal
.Hide()

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrDiscEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tnTovarId&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*-------------------------------------------------------
LPARAMETERS	tnTovarId,tnDiscID

*10.11.2005 17:22 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL   _PARAM
*------------------------------------------------------------------------------

*10.11.2005 16:44 -&gt;Default Action
DODEFAULT()
*------------------------------------------------------------------------------

*10.11.2005 16:44 -&gt;Èäåíòèôèêàòîð òîâàðîâ
This.nTovarID	= tnTovarId
*------------------------------------------------------------------------------

*10.11.2005 17:00 -&gt;Ïåð÷èòàåì Alias äëÿ ðåäàêòèðîâàíèÿ òîâàðîâ
_PARAM = tnTovarId
REQUERY([lvTvrEdit])
*------------------------------------------------------------------------------

***********************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrDiscEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcCommand,tnTovarId&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû (îòêðûòèå ñïðàâî÷íèêîâ è LV äëÿ ðåäàêòèðîâàíèÿ)
*-------------------------------------------------------
DODEFAULT()

*10.11.2005 16:24 -&gt;Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS
*------------------------------------------------------------------------------

*10.11.2005 16:24 -&gt;Îòêðûâàåì ñïðàâî÷íèêè
USE lvDiscView IN 0
*------------------------------------------------------------------------------

*01.04.2004 11:49 -&gt;Îòêðîåì Alias äëÿ ðåäàêòèðîâàíèÿ òîâàðà
USE lvTvrEdit IN 0 NODATA
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>4</reserved2>
		<reserved3>ntovarid Èäåíòèôèêàòîð òîâàðà/ãðóïïû
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_155143UH8</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvrdiscedit</parent>
		<properties>Top = 33
Left = 145
TabIndex = 2
ZOrderSet = 19
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1NP0Z4NCD</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl1</objname>
		<parent>frmtvrdiscedit</parent>
		<properties>FontBold = .T.
Caption = "Ñêèäêà:"
Left = 8
Top = 8
TabIndex = 11
ZOrderSet = 17
Name = "Lbl1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1NP0Z4NCE</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>ñntctlGridTvrDiscID</objname>
		<parent>frmtvrdiscedit</parent>
		<properties>Top = 5
Left = 100
TabIndex = 12
ZOrderSet = 16
_rsaliasname = lvDiscView
_rsfieldnameid = DiscID
_rsfieldnametext = DiscNM
_showtextempty = Íå îïðåäåëåíà
_controlsource = lvTvrEdit.TvrDiscID
_controlsourcetype = 1
Name = "ñntctlGridTvrDiscID"
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrdiscedit</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SW0VMKXT</uniqueid>
		<timestamp>0</timestamp>
		<class>frmtvrcntedit</class>
		<classloc>tovar_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrmnu</objname>
		<parent/>
		<properties>Height = 127
Width = 370
DoCreate = .T.
BorderStyle = 2
Caption = "Èíôîðìàöèÿ î ãðóïïå ìåíþ"
Name = "frmtvrmnu"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
cstdatawork.Name = "cstdatawork"
lblTvrParent.TabIndex = 5
lblTvrParent.Name = "lblTvrParent"
cntIdCtlTreeTvrParent.txtText.Name = "txtText"
cntIdCtlTreeTvrParent.cmdShow.Name = "cmdShow"
cntIdCtlTreeTvrParent.cmdClear.Name = "cmdClear"
cntIdCtlTreeTvrParent.TabIndex = 1
cntIdCtlTreeTvrParent.Name = "cntIdCtlTreeTvrParent"
lblTvrNM.Left = 5
lblTvrNM.TabIndex = 6
lblTvrNM.Name = "lblTvrNM"
cntTxtCalcLenTvrNM.txtText.Name = "txtText"
cntTxtCalcLenTvrNM.lblLen.Name = "lblLen"
cntTxtCalcLenTvrNM.Left = 115
cntTxtCalcLenTvrNM.TabIndex = 2
cntTxtCalcLenTvrNM.Name = "cntTxtCalcLenTvrNM"
cntcancelsavehandled.cmdCancel.Name = "cmdCancel"
cntcancelsavehandled.cmdOk.Name = "cmdOk"
cntcancelsavehandled.Top = 93
cntcancelsavehandled.Left = 160
cntcancelsavehandled.TabIndex = 4
cntcancelsavehandled.Name = "cntcancelsavehandled"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>3</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SW0VQ6QN</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrVATRate</objname>
		<parent>frmtvrmnu</parent>
		<properties>FontBold = .T.
Caption = "Âåñ ãðóïïû:"
Left = 5
Top = 65
TabIndex = 7
ZOrderSet = 25
Name = "lblTvrVATRate"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SW0VQ6QO</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrVATRate</objname>
		<parent>frmtvrmnu</parent>
		<properties>ControlSource = "lvTvrEdit.TvrVATRate"
Format = "99999"
InputMask = "99999"
Left = 115
TabIndex = 3
Top = 62
ZOrderSet = 26
_highlightobject = .parent.lblTvrVATRate
_usedbfieldproperty = .T.
Name = "txtTvrVATRate"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrmnu</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KW10H0J3</uniqueid>
		<timestamp>0</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrselect</objname>
		<parent/>
		<properties>Height = 63
Width = 260
DoCreate = .T.
Caption = "Âûáîð òîâàðà"
Icon = ..\imgico\frmedit.ico
Name = "frmtvrselect"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
cstdatawork.Name = "cstdatawork"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSelect._HandleCntCancelSaveEvent
* Called by.......: &lt;.cntCancelSave.cmdCancel.Click();.cntCancelSave.cmdOk.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*------------------------------------------------------------------------------
LPARAMETERS tcMessage

WITH ThisForm

*01.08.2005 17:38 -&gt; Îáðàáîòàåì ñîáûòèå
IF tcMessage = .cntCancelSave._OkMsg
	
	*01.08.2005 17:44 -&gt; Ïðîâåðèì, ÷òîáû áûë âûáðàí òîâàð
	IF .cntIdCtlGridTvr.Value = 0
		=MESSAGEBOX([Íåîáõîäèìî âûáðàòü òîâàð],48,[Ïðåäóïðåæäåíèå])
		RETURN .F.
	ENDIF
	*------------------------------------------------------------------------------
	
	*01.08.2005 17:40 -&gt; Ñîõðàíèì èäåíòèôèêàòîð òîâàðà â êà÷åñòâå âîçâðàùàåìîãî çíà÷åíèÿ
	.uRetVal = .cntIdCtlGridTvr.Value
	*------------------------------------------------------------------------------
	
ELSE
	
	*01.08.2005 17:39 -&gt;Ñîõðàíèì .F. â êà÷åñòâå âîçâðàùàåìîãî çíà÷åíèÿ
	.uRetVal = .F.
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*14.06.2006 13:55 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------
	
ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************

ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSelect.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*------------------------------------------------------------------------------

*14.06.2006 13:53 -&gt; Âûñòàâèì çíà÷åíèå ïî óìîë÷àíèþ
ThisForm.cntIdCtlGridTvr.SetValue(lvTvrOnlyList.TvrID)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************

ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSelect.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*------------------------------------------------------------------------------

*01.08.2005 17:04 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*01.08.2005 17:04 -&gt; Îòêðîåì ñïðàâî÷íèê òîâàðîâ
USE Basis!lvTvrOnlyList IN 0
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************

ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>3</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KW11Q91F</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridTvr</objname>
		<parent>frmtvrselect</parent>
		<properties>Top = 5
Left = 5
ZOrderSet = 3
_rsaliasname = lvTvrOnlyList
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
Name = "cntIdCtlGridTvr"
txtText.Width = 223
txtText.Name = "txtText"
cmdShow.Left = 227
cmdShow.Name = "cmdShow"
cmdClear.Left = 227
cmdClear.Visible = .F.
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KW11Q91E</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSave</objname>
		<parent>frmtvrselect</parent>
		<properties>Top = 33
Left = 50
ZOrderSet = 4
Name = "cntCancelSave"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrselect</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10BTEI</uniqueid>
		<timestamp>0</timestamp>
		<class>frm</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrsetedit</objname>
		<parent/>
		<properties>Height = 185
Width = 360
DoCreate = .T.
AutoCenter = .T.
Caption = "Íàáîð òîâàðîâ"
Closable = .F.
MaxButton = .F.
MinButton = .F.
KeyPreview = .T.
WindowType = 1
crequestedoperation = 
Name = "frmtvrsetedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Height = 17
cstmsghandler.Width = 15
cstmsghandler.Name = "cstmsghandler"
cstresizable.Top = 0
cstresizable.Left = 22
cstresizable.Height = 17
cstresizable.Width = 15
cstresizable.Name = "cstresizable"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: frmTvrSetEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*-------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*26.07.2005 17:23 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*26.07.2005 17:24 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK]

	*26.07.2005 17:24 -&gt; Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*26.07.2005 17:24 -&gt; Óäàëèì çàïèñü
		DELETE IN lvTvrSetEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------

	ELSE
		
		*26.07.2005 17:24 -&gt; Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå
		llDataWasChanged = .cstDataWork.DataChanged([lvTvrSetEdit],.T.)
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------	

	*26.07.2005 17:24 -&gt; Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ
	IF llDataWasChanged

		*26.07.2005 17:26 -&gt; Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrSetEdit])
		*------------------------------------------------------------------------------
		
		*26.07.2005 17:27 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrSetEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE
		
		*19.07.2005 18:57 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrSetEdit])
		llResSave = .F.		
		*------------------------------------------------------------------------------
		
	ENDIF	
	*------------------------------------------------------------------------------

	*04.04.2005 11:57 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*08.07.2004 15:23 -&gt;Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvTvrSetEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*04.07.2005 18:02 -&gt;Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*13.01.2005 14:38 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*26.07.2005 17:29 -&gt; Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrSetEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*26.07.2005 17:23 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: frmTvrSetEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcCommand, tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*-------------------------------------------------------
LPARAMETERS tcCommand, tuParam1

*26.07.2005 17:11 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*26.07.2005 17:11 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*26.07.2005 17:11 -&gt; Ñîõðàíèì êîìàíäó (ðåæèì ðàáîòû ñ äàííûìè)
.cRequestedOperation = UPPER(ALLTRIM(tcCommand))
*------------------------------------------------------------------------------

*26.07.2005 17:12 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation == [ADD]
		
		*26.07.2005 17:12 -&gt; Äîáàâèì ïóñòóþ çàïèñü
		APPEND BLANK IN lvTvrSetEdit
		*------------------------------------------------------------------------------
		
	CASE INLIST(.cRequestedOperation,[EDIT],[INFO],[DELE])
		
		*26.07.2005 17:12 -&gt; Çàãðóçèì äàííûå ñóùåñòâóþùåãî íàáîðà
		_PARAM = tuParam1
		***
		REQUERY([lvTvrSetEdit])
		*------------------------------------------------------------------------------

ENDCASE
*------------------------------------------------------------------------------

*03.08.2005 12:09 -&gt; Îáíîâëÿþ ñîñòîÿíèå chkFilterByTLUType â çàâèñèìîñòè îò BindTLU
.chkFilterByTLUType.Enabled = lvTvrSetEdit.BindTLU
***
IF !.chkFilterByTLUType.Enabled
	.chkFilterByTLUType.Value = .F.
ENDIF
*------------------------------------------------------------------------------

*26.07.2005 17:12 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = .Caption + [ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])

	CASE .cRequestedOperation == [EDIT]
		.Caption = .Caption + [ - Ðåäàêòèðîâàíèå]
		.Icon = FULLPATH([frmedit.ico])

	CASE .cRequestedOperation == [INFO]
		.Caption = .Caption + [ - Ïðîñìîòð]
		.Icon = FULLPATH([frminfo.ico])
		.cntCancelSaveHandled.cmdOk.Enabled = .F.

	CASE .cRequestedOperation == [DELE]
		.Caption = .Caption + [ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]

ENDCASE
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: frmTvrSetEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*-------------------------------------------------------

*26.07.2005 17:09 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*26.07.2005 17:09 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*26.07.2005 17:10 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ
USE lvTvrSetEdit IN 0 NODATA
CURSORSETPROP([BUFFERING],3,[lvTvrSetEdit])
*------------------------------------------------------------------------------

*18.04.2006 13:17 -&gt;Îòêðîåì ñïðàâî÷íèê ïðàéñ-ëèñòîâ
USE lvTvrSetTypeList IN 0
USE lvPrcTypeList IN 0
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>12</reserved2>
		<reserved3>uretval &lt;public/runtime&gt; Çíà÷åíèå, êîòîðîå âîçâðàùàåòñÿ âî âûçûâàâøóþ ïðîöåäóðó ïîñëå ñêðûòèÿ ôîðìû.
crequestedoperation &lt;public/runtime&gt; Ðåæèì ðàáîòû ôîðìû (ADD/EDIT/INFO/DELE)
*_handlecntcancelsaveevent &lt;public/user/nodefault&gt; Îáðàáîòêà íàæàòèÿ íà êëàâèøè êîíòåéíåðà CntCancelSave. Ôîðìèðîâàíèå çíà÷åíèÿ ñâîéñòâ .uRetVal ïåðåä ñêðûòèåì ôîðìû.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>ðåäàêòèðîâàíèå àòðèáóòîâ íàáîðà òîâàðîâ</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB13G3TM</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvrsetedit</parent>
		<properties>Top = 156
Left = 145
TabIndex = 1
ZOrderSet = 0
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_15C17ZLMD</uniqueid>
		<timestamp>0</timestamp>
		<class>cstdatawork</class>
		<classloc>datawork_v1.vcx</classloc>
		<baseclass>custom</baseclass>
		<objname>cstDataWork</objname>
		<parent>frmtvrsetedit</parent>
		<properties>Top = 0
Left = 44
Height = 17
Width = 15
Name = "cstDataWork"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KQ10RGLR</uniqueid>
		<timestamp>0</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenTvrSetNM</objname>
		<parent>frmtvrsetedit</parent>
		<properties>Top = 5
Left = 108
Height = 23
TabIndex = 2
ZOrderSet = 12
Name = "cntTxtCalcLenTvrSetNM"
txtText.ControlSource = "lvTvrSetEdit.TvrSetNM"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblTvrSetNM
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>chkBindTLU</objname>
		<parent>frmtvrsetedit</parent>
		<properties>Top = 61
Left = 5
FontBold = .T.
Alignment = 0
Caption = "Ïðèêðåïëÿòü øòðèõ-êîä ê òîâàðó"
Value = .F.
ControlSource = "lvTvrSetEdit.BindTLU"
Name = "chkBindTLU"
</properties>
		<protected/>
		<methods>PROCEDURE _handleanychange
ThisForm.chkFilterByTLUType.Enabled = This.Value
***
IF !ThisForm.chkFilterByTLUType.Enabled
	ThisForm.chkFilterByTLUType.Value = .F.
ENDIF
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KQ10RGLQ</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrSetNM</objname>
		<parent>frmtvrsetedit</parent>
		<properties>FontBold = .T.
Caption = "Íàèìåíîâàíèå:"
Height = 17
Left = 5
Top = 8
Width = 91
TabIndex = 1
ZOrderSet = 7
Name = "lblTvrSetNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>chkFilterByTLUType</objname>
		<parent>frmtvrsetedit</parent>
		<properties>Top = 83
Left = 5
FontBold = .T.
Alignment = 0
Caption = "Îãðàíè÷èâàòü ïî ñïèñêó òèïîâ èäåíòèôèêàòîðîâ"
Value = .F.
ControlSource = "lvTvrSetEdit.FilterByTLUType"
Name = "chkFilterByTLUType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>chkFilterByTvrType</objname>
		<parent>frmtvrsetedit</parent>
		<properties>Top = 105
Left = 5
FontBold = .T.
Alignment = 0
Caption = "Îãðàíè÷èâàòü ïî ñïèñêó òèïîâ òîâàðîâ"
Value = .F.
ControlSource = "lvTvrSetEdit.FilterByTvrType"
Name = "chkFilterByTvrType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrType</objname>
		<parent>frmtvrsetedit</parent>
		<properties>FontBold = .T.
Caption = "Òèï ïðàéñ-ëèñòà:"
Left = 5
Top = 130
TabIndex = 11
ZOrderSet = 11
Name = "lblTvrType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridPrcType</objname>
		<parent>frmtvrsetedit</parent>
		<properties>Top = 127
Left = 108
TabIndex = 12
_controlsourcetype = 1
_controlsource = lvTvrSetEdit.PrcTypeID
_rsaliasname = lvPrcTypeList
_rsfieldnameid = PrcTypeID
_rsfieldnametext = PrcTypeNM
Name = "cntIdCtlGridPrcType"
txtText._highlightobject = .Parent.Parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S60W8HKL</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblSetType</objname>
		<parent>frmtvrsetedit</parent>
		<properties>FontBold = .T.
Caption = "Òèï íàáîðà:"
Left = 5
Top = 36
TabIndex = 11
ZOrderSet = 11
Name = "lblSetType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S60W8HKM</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridSetType</objname>
		<parent>frmtvrsetedit</parent>
		<properties>Top = 33
Left = 108
TabIndex = 12
_controlsourcetype = 1
_controlsource = lvTvrSetEdit.TvrSetTypeID
_rsaliasname = lvTvrSetTypeList
_rsfieldnameid = ID
_rsfieldnametext = NM
Name = "cntIdCtlGridSetType"
txtText._highlightobject = .Parent.Parent.lblSetType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrsetedit</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KW10H0J3</uniqueid>
		<timestamp>0</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrsetselect</objname>
		<parent/>
		<properties>Height = 63
Width = 260
DoCreate = .T.
Caption = "Âûáîð íàáîðà"
Icon = ..\imgico\frmedit.ico
Name = "frmtvrsetselect"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
cstdatawork.Name = "cstdatawork"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetSelect._HandleCntCancelSaveEvent
* Called by.......: &lt;.cntCancelSave.cmdCancel.Click();.cntCancelSave.cmdOk.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
*------------------------------------------------------------------------------
LPARAMETERS tcMessage

WITH ThisForm

*01.08.2005 17:38 -&gt;Îáðàáîòàåì ñîáûòèå
IF tcMessage = .cntCancelSave._OkMsg
	
	*01.08.2005 17:44 -&gt;Ïðîâåðèì, ÷òîáû áûë âûáðàí íàáîð òîâàðîâ
	IF .cntIdCtlGridTvrSet.Value = 0
		=MESSAGEBOX([Íåîáõîäèìî âûáðàòü íàáîð òîâàðîâ],48,[Ïðåäóïðåæäåíèå])
		RETURN .F.
	ENDIF
	*------------------------------------------------------------------------------
	
	*01.08.2005 17:40 -&gt;Ñîõðàíèì èäåíòèôèêàòîð íàáîðà òîâàðîâ â êà÷åñòâå âîçâðàùàåìîãî çíà÷åíèÿ
	.uRetVal = .cntIdCtlGridTvrSet.Value
	.Hide()
	*------------------------------------------------------------------------------
	
ELSE
	
	*01.08.2005 17:39 -&gt;Ñîõðàíèì .F. â êà÷åñòâå âîçâðàùàåìîãî çíà÷åíèÿ
	.uRetVal = .F.
	.Hide()
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************

ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetSelect.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
*------------------------------------------------------------------------------

*01.08.2005 17:42 -&gt;Âûñòàâèì çíà÷åíèå ïî óìîë÷àíèþ
ThisForm.cntIdCtlGridTvrSet.SetValue(lvTvrSetList.ID)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************

ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetSelect.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
*------------------------------------------------------------------------------

*01.08.2005 17:04 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*01.08.2005 17:04 -&gt;Îòêðîåì ñïðàâî÷íèê íàáîðîâ òîâàðîâ
USE Basis!lvTvrSetList IN 0
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************


ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>3</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KW11Q91F</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridTvrSet</objname>
		<parent>frmtvrsetselect</parent>
		<properties>Top = 5
Left = 5
ZOrderSet = 3
_rsaliasname = lvTvrSetList
_rsfieldnameid = Id
_rsfieldnametext = Nm
Name = "cntIdCtlGridTvrSet"
txtText.Width = 223
txtText.Name = "txtText"
cmdShow.Left = 227
cmdShow.Name = "cmdShow"
cmdClear.Left = 227
cmdClear.Visible = .F.
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KW11Q91E</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSave</objname>
		<parent>frmtvrsetselect</parent>
		<properties>Top = 33
Left = 50
ZOrderSet = 4
Name = "cntCancelSave"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrsetselect</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10BTEI</uniqueid>
		<timestamp>0</timestamp>
		<class>frm</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrsettlutypeedit</objname>
		<parent/>
		<properties>Height = 63
Width = 391
DoCreate = .T.
AutoCenter = .T.
Caption = "Ïðèâÿçêà òèïà èäåíòèôèêàòîðà ê íàáîðó"
Closable = .F.
MaxButton = .F.
MinButton = .F.
KeyPreview = .T.
WindowType = 1
crequestedoperation = 
Name = "frmtvrsettlutypeedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Height = 17
cstmsghandler.Width = 15
cstmsghandler.Name = "cstmsghandler"
cstresizable.Top = 0
cstresizable.Left = 22
cstresizable.Height = 17
cstresizable.Width = 15
cstresizable.Name = "cstresizable"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetTLUTypeEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*-------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*02.04.2004 16:51 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*02.04.2004 16:51 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage = [OK]

	*07.07.2004 17:29 -&gt; Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*07.07.2004 17:35 -&gt;Óäàëèì çàïèñü
		DELETE IN lvTvrSetTLUTypeEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*07.07.2004 12:09 -&gt;Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå î ïàðàìåòðå âûáîðêè
		llDataWasChanged = .cstDataWork.DataChanged([lvTvrSetTLUTypeEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*02.04.2004 16:51 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ ïàðàìåòðà âûáîðêè
	IF llDataWasChanged
		
		*02.04.2004 16:59 -&gt;Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrSetTLUTypeEdit])
		*------------------------------------------------------------------------------
		
		*02.04.2004 17:00 -&gt;Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrSetTLUTypeEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrSetTLUTypeEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------
	
	ENDIF
	*------------------------------------------------------------------------------

	*04.04.2005 11:57 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*08.07.2004 15:23 -&gt;Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvTvrSetTLUTypeEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*04.07.2005 18:02 -&gt;Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*13.01.2005 14:38 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrSetTLUTypeEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*13.01.2005 14:37 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetTLUTypeEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation,tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*-------------------------------------------------------
LPARAMETERS	tcRequestedOperation,tuParam1

*12.05.2004 00:34 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*12.05.2004 00:30 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*07.07.2004 17:25 -&gt; Ñîõðàíèì îïåðàöèþ
.cRequestedOperation = UPPER(ALLTRIM(tcRequestedOperation))
*------------------------------------------------------------------------------

*12.05.2004 00:33 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation == [ADD]
			
		*12.05.2004 00:32 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvTvrSetTLUTypeEdit
		APPEND BLANK IN lvTvrSetTLUTypeEdit
		*------------------------------------------------------------------------------

		*04.04.2005 11:11 -&gt; Ïîäñòàâèì ïåðåäàííûé èäåíòèôèêàòîð íàáîðà òîâàðîâ
		SELECT lvTvrSetTLUTypeEdit
		REPLACE TvrSetID WITH tuParam1
		*------------------------------------------------------------------------------
		
		*28.04.2004 12:17 -&gt; Ïåðåéäåì ê òåêóùåìó òèïó èäåíòèôèêàòîðà (øòðèõ-êîäà) è ïðîèçâåä¸ì ñîîòâåòñòâóþùèå èçìåíåíèÿ
		SELECT lvTLUTypeList
		LOCATE FOR IsDefault
		***
		.cntIdCtlGridTLUType.SetValue(lvTLUTypeList.TLUTypeID)
		*------------------------------------------------------------------------------
		
	CASE .cRequestedOperation == [DELE]
		
		*12.05.2004 00:31 -&gt; Çàãðóçèì äàííûå â lvTvrSetTLUTypeEdit
		_PARAM = tuParam1
		REQUERY([lvTvrSetTLUTypeEdit])
		*------------------------------------------------------------------------------
		
ENDCASE
*------------------------------------------------------------------------------

*07.04.2005 16:29 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = ALLTRIM(.Caption)+[ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])
	CASE .cRequestedOperation == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetTLUTypeEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà äàííûõ äëÿ ôîðìû.
*-------------------------------------------------------

*13.01.2005 17:32 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*13.01.2005 17:32 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*12.01.2005 18:46 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ
USE lvTvrSetTLUTypeEdit IN 0 NODATA
CURSORSETPROP([BUFFERING],3,[lvTvrSetTLUTypeEdit])
*------------------------------------------------------------------------------

*13.01.2005 17:31 -&gt; Îòêðîåì ñïðàâî÷íèê
USE lvTLUTypeList IN 0
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>5</reserved2>
		<reserved3>uretval &lt;public/runtime&gt; Çíà÷åíèå, êîòîðîå âîçâðàùàåòñÿ âî âûçûâàâøóþ ïðîöåäóðó ïîñëå ñêðûòèÿ ôîðìû.
crequestedoperation &lt;public/runtime&gt; Ðåæèì ðàáîòû ôîðìû (ADD/EDIT)
*_handlecntcancelsaveevent &lt;public/user/nodefault&gt; Îáðàáîòêà íàæàòèÿ íà êëàâèøè êîíòåéíåðà CntCancelSave. Ôîðìèðîâàíèå çíà÷åíèÿ ñâîéñòâ .uRetVal ïåðåä ñêðûòèåì ôîðìû.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB13G3TM</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvrsettlutypeedit</parent>
		<properties>Top = 33
Left = 181
TabIndex = 1
ZOrderSet = 0
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_15C17ZLMD</uniqueid>
		<timestamp>0</timestamp>
		<class>cstdatawork</class>
		<classloc>datawork_v1.vcx</classloc>
		<baseclass>custom</baseclass>
		<objname>cstDataWork</objname>
		<parent>frmtvrsettlutypeedit</parent>
		<properties>Top = 0
Left = 5
Height = 17
Width = 15
Name = "cstDataWork"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HN0ZLHOK</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTLUType</objname>
		<parent>frmtvrsettlutypeedit</parent>
		<properties>FontBold = .T.
Caption = "Òèï èäåíòèôèêàòîðà:"
Left = 5
Top = 8
TabIndex = 11
ZOrderSet = 11
Name = "lblTLUType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HN0ZLHOO</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridTLUType</objname>
		<parent>frmtvrsettlutypeedit</parent>
		<properties>Top = 5
Left = 135
TabIndex = 12
_controlsourcetype = 1
_controlsource = lvTvrSetTLUTypeEdit.TLUTypeID
_rsaliasname = lvTLUTypeList
_rsfieldnameid = TLUTypeID
_rsfieldnametext = TLUTypeNM
Name = "cntIdCtlGridTLUType"
txtText._highlightobject = .Parent.Parent.lblTLUType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrsettlutypeedit</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10BTEI</uniqueid>
		<timestamp>0</timestamp>
		<class>frm</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrsettvrtypeedit</objname>
		<parent/>
		<properties>Height = 63
Width = 391
DoCreate = .T.
AutoCenter = .T.
Caption = "Ïðèâÿçêà òèïà òîâàðà ê íàáîðó"
Closable = .F.
MaxButton = .F.
MinButton = .F.
KeyPreview = .T.
WindowType = 1
crequestedoperation = 
Name = "frmtvrsettvrtypeedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Height = 17
cstmsghandler.Width = 15
cstmsghandler.Name = "cstmsghandler"
cstresizable.Top = 0
cstresizable.Left = 22
cstresizable.Height = 17
cstresizable.Width = 15
cstresizable.Name = "cstresizable"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetTvrTypeEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*-------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*02.04.2004 16:51 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*02.04.2004 16:51 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage = [OK]

	*07.07.2004 17:29 -&gt; Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*07.07.2004 17:35 -&gt;Óäàëèì çàïèñü
		DELETE IN lvTvrSetTvrTypeEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*07.07.2004 12:09 -&gt;Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå î ïàðàìåòðå âûáîðêè
		llDataWasChanged = .cstDataWork.DataChanged([lvTvrSetTvrTypeEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*02.04.2004 16:51 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ ïàðàìåòðà âûáîðêè
	IF llDataWasChanged
		
		*02.04.2004 16:59 -&gt;Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrSetTvrTypeEdit])
		*------------------------------------------------------------------------------
		
		*02.04.2004 17:00 -&gt;Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrSetTvrTypeEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrSetTvrTypeEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------
	
	ENDIF
	*------------------------------------------------------------------------------

	*04.04.2005 11:57 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*08.07.2004 15:23 -&gt;Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvTvrSetTvrTypeEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*04.07.2005 18:02 -&gt;Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*13.01.2005 14:38 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrSetTvrTypeEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*13.01.2005 14:37 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetTvrTypeEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation,tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*-------------------------------------------------------
LPARAMETERS	tcRequestedOperation,tuParam1

*12.05.2004 00:34 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*12.05.2004 00:30 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*07.07.2004 17:25 -&gt; Ñîõðàíèì îïåðàöèþ
.cRequestedOperation = UPPER(ALLTRIM(tcRequestedOperation))
*------------------------------------------------------------------------------

*12.05.2004 00:33 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation == [ADD]
			
		*12.05.2004 00:32 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvTvrSetTvrTypeEdit
		APPEND BLANK IN lvTvrSetTvrTypeEdit
		*------------------------------------------------------------------------------

		*04.04.2005 11:11 -&gt; Ïîäñòàâèì ïåðåäàííûé èäåíòèôèêàòîð íàáîðà òîâàðîâ
		SELECT lvTvrSetTvrTypeEdit
		REPLACE TvrSetID WITH tuParam1
		*------------------------------------------------------------------------------
		
		*28.04.2004 12:17 -&gt; Ïåðåéäåì ê òåêóùåìó òèïó èäåíòèôèêàòîðà (øòðèõ-êîäà) è ïðîèçâåä¸ì ñîîòâåòñòâóþùèå èçìåíåíèÿ
		SELECT lvTvrTypeList
		LOCATE
		***
		.cntIdCtlGridTvrType.SetValue(lvTvrTypeList.TvrTypeID)
		*------------------------------------------------------------------------------
		
	CASE .cRequestedOperation == [DELE]
		
		*12.05.2004 00:31 -&gt; Çàãðóçèì äàííûå â lvTvrSetTvrTypeEdit
		_PARAM = tuParam1
		REQUERY([lvTvrSetTvrTypeEdit])
		*------------------------------------------------------------------------------
		
ENDCASE
*------------------------------------------------------------------------------

*07.04.2005 16:29 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = ALLTRIM(.Caption)+[ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])
	CASE .cRequestedOperation == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetTvrTypeEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà äàííûõ äëÿ ôîðìû.
*-------------------------------------------------------

*13.01.2005 17:32 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*13.01.2005 17:32 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*12.01.2005 18:46 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ
USE lvTvrSetTvrTypeEdit IN 0 NODATA
CURSORSETPROP([BUFFERING],3,[lvTvrSetTvrTypeEdit])
*------------------------------------------------------------------------------

*13.01.2005 17:31 -&gt; Îòêðîåì ñïðàâî÷íèê
USE lvTvrTypeList IN 0
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>5</reserved2>
		<reserved3>uretval &lt;public/runtime&gt; Çíà÷åíèå, êîòîðîå âîçâðàùàåòñÿ âî âûçûâàâøóþ ïðîöåäóðó ïîñëå ñêðûòèÿ ôîðìû.
crequestedoperation &lt;public/runtime&gt; Ðåæèì ðàáîòû ôîðìû (ADD/EDIT)
*_handlecntcancelsaveevent &lt;public/user/nodefault&gt; Îáðàáîòêà íàæàòèÿ íà êëàâèøè êîíòåéíåðà CntCancelSave. Ôîðìèðîâàíèå çíà÷åíèÿ ñâîéñòâ .uRetVal ïåðåä ñêðûòèåì ôîðìû.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB13G3TM</uniqueid>
		<timestamp>0</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvrsettvrtypeedit</parent>
		<properties>Top = 33
Left = 181
TabIndex = 1
ZOrderSet = 0
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_15C17ZLMD</uniqueid>
		<timestamp>0</timestamp>
		<class>cstdatawork</class>
		<classloc>datawork_v1.vcx</classloc>
		<baseclass>custom</baseclass>
		<objname>cstDataWork</objname>
		<parent>frmtvrsettvrtypeedit</parent>
		<properties>Top = 0
Left = 5
Height = 17
Width = 15
Name = "cstDataWork"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HN0ZLHOK</uniqueid>
		<timestamp>0</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrType</objname>
		<parent>frmtvrsettvrtypeedit</parent>
		<properties>FontBold = .T.
Caption = "Òèï èäåíòèôèêàòîðà:"
Left = 5
Top = 8
TabIndex = 11
ZOrderSet = 11
Name = "lblTvrType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HN0ZLHOO</uniqueid>
		<timestamp>0</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridTvrType</objname>
		<parent>frmtvrsettvrtypeedit</parent>
		<properties>Top = 5
Left = 135
TabIndex = 12
_controlsourcetype = 1
_controlsource = lvTvrSetTvrTypeEdit.TvrTypeID
_rsaliasname = lvTvrTypeList
_rsfieldnameid = TvrTypeID
_rsfieldnametext = TvrTypeNM
Name = "cntIdCtlGridTvrType"
txtText._highlightobject = .Parent.Parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrsettvrtypeedit</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70LIXJP</uniqueid>
		<timestamp>0</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdaction</objname>
		<parent/>
		<properties>ColumnCount = 2
DeleteMark = .F.
Height = 150
Panel = 1
ReadOnly = .T.
RecordSource = "lvTvrActRuleView"
Width = 345
ntvrid = 0
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;EDIT;INFO;DELE
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Ðåäàêòèðîâàòü;Ïðîñìîòð;Óäàëèòü
Name = "grdaction"
Column1.ColumnOrder = 2
Column1.ControlSource = "lvTvrActRuleView.actionrulenm"
Column1.Width = 157
Column1.ReadOnly = .T.
Column1.Name = "Column1"
Column2.ColumnOrder = 1
Column2.ControlSource = "lvTvrActRuleView.cashnm"
Column2.Width = 153
Column2.ReadOnly = .T.
Column2.Name = "Column2"
</properties>
		<protected>ntvrid
</protected>
		<methods>PROCEDURE _add
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdAction._Add
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Add()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå èäåíòèôèêàòîðà òîâàðà
*-------------------------------------------------------

*08.07.2004 13:47 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luAddRes
*------------------------------------------------------------------------------

*04.03.2005 11:39 -&gt; Ïåðåéäåì ê lvTvrActRuleView
SELECT lvTvrActRuleView
*------------------------------------------------------------------------------

*08.07.2004 13:50 -&gt;Âûïîëíèì îïåðàöèþ ñîçäàíèÿ íîâîãî èäåíòèôèêàòîðà òîâàðà
luAddRes = oMgrTovar.Do([ACC],[ADD],This.nTvrID)
*------------------------------------------------------------------------------

*08.07.2004 14:06 -&gt;Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ
IF TYPE([luAddRes])==[N]
	
	WITH This
	
	*08.07.2004 14:06 -&gt;Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*08.07.2004 14:06 -&gt;Ïåðå÷èòàåì ñïèñîê èäåíòèôèêàòîðîâ òîâàðà
	._RSRequery(.nTvrID)
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:49 -&gt;Ïåðåõîäèì íà äîáàâëåííûé ýëåìåíò
	SELECT lvTvrActRuleView
	LOCATE FOR lvTvrActRuleView.AccPrintID = luAddRes
	*------------------------------------------------------------------------------

	*05.04.2004 17:49 -&gt;Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*05.04.2004 17:49 -&gt;Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
		
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _dele
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPLU._Dele
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Dele()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå èäåíòèôèêàòîðà òîâàðà
*-------------------------------------------------------

*08.07.2004 13:47 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luDeleRes
*------------------------------------------------------------------------------

*08.07.2004 13:50 -&gt;Âûïîëíèì îïåðàöèþ óäàëåíèÿ
luDeleRes = oMgrTovar.Do([ACC],[DELE],lvTvrActRuleView.AccPrintID)
*------------------------------------------------------------------------------

*08.07.2004 14:06 -&gt;Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ
IF TYPE([luDeleRes])==[L] AND luDeleRes
	
	WITH This
	
	*08.07.2004 14:06 -&gt;Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*08.07.2004 14:06 -&gt;Ïåðå÷èòàåì ñïèñîê èäåíòèôèêàòîðîâ
	._RSRequery(.nTvrID)
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:49 -&gt;Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*05.04.2004 17:49 -&gt;Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
		
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _edit
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPLU._Edit
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Edit()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ðåäàêòèðîâàíèå èäåíòèôèêàòîðà òîâàðà
*-------------------------------------------------------

*08.07.2004 13:47 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTLUID, ;
		luEditRes
***
lnTLUID = lvTvrActRuleView.AccPrintID
*------------------------------------------------------------------------------

*08.07.2004 13:50 -&gt;Âûïîëíèì îïåðàöèþ ðåäàêòèðîâàíèÿ
luEditRes = oMgrTovar.Do([ACC],[EDIT],lnTLUID)
*------------------------------------------------------------------------------

*08.07.2004 14:06 -&gt;Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ
IF TYPE([luEditRes])==[L] AND luEditRes
	
	WITH This
	
	*08.07.2004 14:06 -&gt;Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*08.07.2004 14:06 -&gt;Ïåðå÷èòàåì ñïèñîê èäåíòèôèêàòîðîâ
	._RSRequery(.nTvrID)
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:49 -&gt;Ïåðåõîäèì íà îòðåäàêòèðîâàíííûé ýëåìåíò
	SELECT lvTvrActRuleView
	LOCATE FOR lvTvrActRuleView.AccPrintID = lnTLUID
	*------------------------------------------------------------------------------

	*05.04.2004 17:49 -&gt;Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*05.04.2004 17:49 -&gt;Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
	
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _gethandledstandartmsglist
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPLU._GetHandledStandartMsgList
* Called by.......: &lt;.RefreshHandledStandartMsgList();.RightClick()&gt;
* Returns.........: &lt;lcHandledStandartMsgList&gt;
* Notes...........: Çàïðåòèì âñå ñòàíäàðòíûå îïåðàöèè, åñëè êîä òîâàðà 0 (ïðè ðàáîòå ñ ãðóïïîé)
*-------------------------------------------------------
RETURN IIF(This.nTvrID#0,DODEFAULT(),[])
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************

ENDPROC
PROCEDURE _info
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPlu._Info
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïðîñìîòð èäåíòèôèêàòîðà òîâàðà
*-------------------------------------------------------

*01.04.2004 18:49 -&gt;Âûïîëíèì îïåðàöèþ ïðîñìîòðà èäåíòèôèêàòîðà òîâàðà
oMgrTovar.Do([ACC],[INFO],lvTvrActRuleView.AccPrintID)
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _rsrequery
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPLU._RSRequery
* Called by.......: &lt;ThisForm.GrdTovar._HandleChangeRSRecNo()&gt;
* Parameters......: &lt;tnTovarId&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïåðå÷èòûâàíèå Alias-à Grid-à
*-------------------------------------------------------
LPARAMETERS	tnTovarId

*11.01.2004 17:15 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE	_PARAM
*------------------------------------------------------------------------------

WITH This

*11.01.2004 17:44 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*08.07.2004 14:20 -&gt;Ñîõðàíèì èäåíòèôèêàòîð òîâàðà
.nTvrID = tnTovarID
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Ïåðå÷èòàåì Local View
IF .nTvrID = 0

	*12.01.2004 19:09 -&gt;Îòêðûâàåì LocalView ïóñòûì
	USE IN lvTvrActRuleView
	USE Basis!lvTvrActRuleView IN 0 NODATA
	*------------------------------------------------------------------------------
	
ELSE

	*25.03.2004 12:13 -&gt;Îòêðûâàåì ñ äàííûìè äëÿ òåêóùåãî òîâàðà
	_PARAM = .nTvrID
	REQUERY([lvTvrActRuleView])
	*------------------------------------------------------------------------------
	
ENDIF	
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Âîññòàíàâëèâàåì RecordSource
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************

ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>5</reserved2>
		<reserved3>ntvrid &lt;protected/runtime&gt; Èäåíòèôèêàòîð òîâàðà, äëÿ êîòîðîãî îòîáðàæàþòñÿ èäåíòèôèêàòîðû (øòðèõ-êîäà).
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70M4SAI</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>grdaction.Column1</parent>
		<properties>Alignment = 2
Caption = "Äåéñòâèå"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70NZ9AJ</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>grdaction.Column1</parent>
		<properties>ControlSource = "lvTvrActRuleView.ActionRuleNm"
Left = 43
Top = 23
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S40NBDBS</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>grdaction.Column2</parent>
		<properties>Caption = "Çàäàíèå ñ"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S40NBDBT</uniqueid>
		<timestamp>0</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>grdaction.Column2</parent>
		<properties>BorderStyle = 0
ControlSource = "lvTvrActRuleView.cashnm"
Margin = 0
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>grdaction</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40Z74DN</uniqueid>
		<timestamp>0</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdprice</objname>
		<parent/>
		<properties>ColumnCount = 3
DeleteMark = .F.
Height = 100
Panel = 1
ReadOnly = .T.
RecordSource = "lvTvrPriceView"
Width = 345
ZOrderSet = 3
ntvrid = 0
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;EDIT;INFO;DELE
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Ðåäàêòèðîâàòü;Ïðîñìîòð;Óäàëèòü
Name = "grdprice"
Column1.ControlSource = "lvTvrPriceView.price"
Column1.ReadOnly = .T.
Column1.Name = "Column1"
Column2.ControlSource = "lvTvrPriceView.PrcTypeNM"
Column2.Width = 163
Column2.ReadOnly = .T.
Column2.Name = "Column2"
Column3.ControlSource = "lvTvrPriceView.CurTypeNM"
Column3.ReadOnly = .T.
Column3.Name = "Column3"
</properties>
		<protected>ntvrid
</protected>
		<methods>PROCEDURE _add
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdPrice._Add
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Add()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå öåíû òîâàðà
*-------------------------------------------------------

*09.08.2005 16:46 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luAddRes
*------------------------------------------------------------------------------

*09.08.2005 16:47 -&gt; Âûïîëíèì îïåðàöèþ äîáàâëåíèÿ
luAddRes = oMgrTovar.Do([PRICE],[ADD],This.nTvrID)
*------------------------------------------------------------------------------

*09.08.2005 16:47 -&gt; Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ
IF TYPE([luAddRes])==[N]
	
	WITH This
	
	*09.08.2005 16:47 -&gt; Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:48 -&gt; Ïåðå÷èòàåì ñïèñîê èäåíòèôèêàòîðîâ òîâàðà
	._RSRequery(.nTvrID)
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:48 -&gt; Ïåðåõîäèì íà äîáàâëåííûé ýëåìåíò
	SELECT lvTvrPriceView
	LOCATE FOR lvTvrPriceView.PrcID = luAddRes
	*------------------------------------------------------------------------------

	*09.08.2005 16:48 -&gt; Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*09.08.2005 16:48 -&gt; Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
		
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _dele
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdPrice._Dele
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Dele()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå öåíû òîâàðà
*-------------------------------------------------------

*09.08.2005 16:45 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luDeleRes
*------------------------------------------------------------------------------

*09.08.2005 16:45 -&gt; Âûïîëíèì îïåðàöèþ óäàëåíèÿ
luDeleRes = oMgrTovar.Do([PRICE],[DELE],lvTvrPriceView.PrcID)
*------------------------------------------------------------------------------

*09.08.2005 16:45 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luDeleRes])==[L] AND luDeleRes
	
	WITH This
	
	*09.08.2005 16:45 -&gt; Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:45 -&gt; Ïåðå÷èòàåì ñïèñîê öåí
	._RSRequery(.nTvrID)
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:46 -&gt; Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*09.08.2005 16:46 -&gt; Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
		
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _edit
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdPrice._Edit
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Edit()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ðåäàêòèðîâàíèå öåíû òîâàðà
*-------------------------------------------------------

*09.08.2005 16:43 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnPrcID, ;
		luEditRes
***
lnPrcID = lvTvrPriceView.PrcID
*------------------------------------------------------------------------------

*09.08.2005 16:43 -&gt; Âûïîëíèì îïåðàöèþ ðåäàêòèðîâàíèÿ
luEditRes = oMgrTovar.Do([PRICE],[EDIT],lnPrcID)
*------------------------------------------------------------------------------

*09.08.2005 16:43 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luEditRes])==[L] AND luEditRes
	
	WITH This
	
	*09.08.2005 16:43 -&gt; Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:44 -&gt; Ïåðå÷èòàåì ñïèñîê öåí
	._RSRequery(.nTvrID)
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:44 -&gt; Ïåðåõîäèì íà îòðåäàêòèðîâàíííûé ýëåìåíò
	SELECT lvTvrPriceView
	LOCATE FOR lvTvrPriceView.PrcID = lnPrcID
	*------------------------------------------------------------------------------

	*09.08.2005 16:44 -&gt; Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*09.08.2005 16:44 -&gt; Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
	
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _gethandledstandartmsglist
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdPrice._GetHandledStandartMsgList
* Called by.......: &lt;.RefreshHandledStandartMsgList();.RightClick()&gt;
* Returns.........: &lt;lcHandledStandartMsgList&gt;
* Notes...........: Çàïðåòèì âñå ñòàíäàðòíûå îïåðàöèè, åñëè êîä òîâàðà 0 (ïðè ðàáîòå ñ ãðóïïîé)
*------------------------------------------------------------------------------
RETURN IIF(This.nTvrID#0,DODEFAULT(),[])
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _info
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdPrice._Info
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïðîñìîòð öåíû òîâàðà
*------------------------------------------------------------------------------

*09.08.2005 16:38 -&gt; Âûïîëíèì îïåðàöèþ
oMgrTovar.Do([PRICE],[INFO],lvTvrPriceView.PrcID)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _rsrequery
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdPrice._RSRequery
* Called by.......: &lt;ThisForm.grdTovar._RefreshRelatedObject()&gt;
* Parameters......: &lt;tnTovarId&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïåðå÷èòûâàíèå Alias-à Grid-à
*------------------------------------------------------------------------------
LPARAMETERS	tnTovarId

*01.04.2004 10:29 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE	_PARAM
*------------------------------------------------------------------------------

WITH This

*01.04.2004 10:29 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*01.04.2004 10:29 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*09.08.2005 16:53 -&gt; Ñîõðàíèì èäåíòèôèêàòîð òîâàðà
.nTvrID = tnTovarID
*------------------------------------------------------------------------------

*01.04.2004 10:29 -&gt;Ïåðå÷èòàåì Local View
IF .nTvrID = 0

	*01.04.2004 10:29 -&gt;Îòêðûâàåì LocalView ïóñòûì
	USE IN lvTvrPriceView
	USE Basis!lvTvrPriceView IN 0 NODATA
	*------------------------------------------------------------------------------

ELSE

	*01.04.2004 10:29 -&gt;Îòêðûâàåì ñ äàííûìè äëÿ òåêóùåãî òîâàðà
	_PARAM = .nTvrID
	REQUERY([lvTvrPriceView])
	*------------------------------------------------------------------------------

ENDIF	
*------------------------------------------------------------------------------

*01.04.2004 10:29 -&gt;Âîññòàíàâëèâàåì RecordSource
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>7</reserved2>
		<reserved3>ntvrid &lt;protected/runtime&gt; Èäåíòèôèêàòîð òîâàðà, äëÿ êîòîðîãî îòîáðàæàþòñÿ öåíû.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40Z74DO</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>grdprice.Column1</parent>
		<properties>Alignment = 2
Caption = "Öåíà"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L411IC1T</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>grdprice.Column1</parent>
		<properties>Left = 49
Top = 23
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40Z74E3</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>grdprice.Column2</parent>
		<properties>Alignment = 2
Caption = "Òèï öåíû"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L411IC1U</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>grdprice.Column2</parent>
		<properties>Left = 93
Top = 47
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40Z74E5</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>grdprice.Column3</parent>
		<properties>Alignment = 2
Caption = "Âàëþòà"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L411IC28</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>grdprice.Column3</parent>
		<properties>Left = 37
Top = 47
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>grdprice</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MX0OK8ZU</uniqueid>
		<timestamp>0</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdtluindpt</objname>
		<parent/>
		<properties>ColumnCount = 2
Height = 95
RecordSource = "lvTLUInStorageDepartView"
ScrollBars = 2
Width = 380
ntluid = 0
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;EDIT;INFO;DELE
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Ðåäàêòèðîâàòü;Ïðîñìîòð;Óäàëèòü
Name = "grdtluindpt"
Column1.ControlSource = "lvTLUInStorageDepartView.StorageNM"
Column1.Width = 150
Column1.Name = "Column1"
Column2.ControlSource = "lvTLUInStorageDepartView.StorageDepartmentNM"
Column2.Width = 199
Column2.Name = "Column2"
</properties>
		<protected/>
		<methods>PROCEDURE _add
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTluInDpt._Add
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Add()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå ïðèâÿçêè TLU ê îòäåëó ìàãàçèíà
*-------------------------------------------------------

*09.08.2005 16:46 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luAddRes
*------------------------------------------------------------------------------

*09.08.2005 16:47 -&gt; Âûïîëíèì îïåðàöèþ äîáàâëåíèÿ
luAddRes = oMgrTovar.Do([TLUINDPT],[ADD],This.nTluID)
*------------------------------------------------------------------------------

*09.08.2005 16:47 -&gt; Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ
IF TYPE([luAddRes])==[N]
	
	WITH This
	
	*09.08.2005 16:47 -&gt; Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:48 -&gt; Ïåðå÷èòàåì ñïèñîê îòäåëîâ
	._RSRequery(.nTluID)
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:48 -&gt; Ïåðåõîäèì íà äîáàâëåííûé ýëåìåíò
	SELECT lvTLUInStorageDepartView
	LOCATE FOR lvTLUInStorageDepartView.TluInDptID = luAddRes
	*------------------------------------------------------------------------------

	*09.08.2005 16:48 -&gt; Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*09.08.2005 16:48 -&gt; Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
		
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _dele
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTluInDpt._Dele
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Dele()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå ïðèâÿçêè TLU ê îòäåëó ìàãàçèíà
*-------------------------------------------------------

*09.08.2005 16:45 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luDeleRes
*------------------------------------------------------------------------------

*09.08.2005 16:45 -&gt; Âûïîëíèì îïåðàöèþ óäàëåíèÿ
luDeleRes = oMgrTovar.Do([TLUINDPT],[DELE],lvTLUInStorageDepartView.TluInDptID)
*------------------------------------------------------------------------------

*09.08.2005 16:45 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luDeleRes])==[L] AND luDeleRes
	
	WITH This
	
	*09.08.2005 16:45 -&gt; Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:45 -&gt; Ïåðå÷èòàåì ñïèñîê öåí
	._RSRequery(.nTluID)
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:46 -&gt; Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*09.08.2005 16:46 -&gt; Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
		
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _edit
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTluInDpt._Edit
* Called by.......: &lt;n/a&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ðåäàêòèðîâàíèå ïðèâÿçêè TLU ê îòäåëó ìàãàçèíà
*-------------------------------------------------------

*09.08.2005 16:43 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luEditRes
***
lnTluInDptID = lvTLUInStorageDepartView.TluInDptID
*------------------------------------------------------------------------------

*09.08.2005 16:43 -&gt; Âûïîëíèì îïåðàöèþ ðåäàêòèðîâàíèÿ
luEditRes = oMgrTovar.Do([TLUINDPT],[EDIT],lvTLUInStorageDepartView.TluInDptID)
*------------------------------------------------------------------------------

*09.08.2005 16:43 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luEditRes])==[N] AND luEditRes &gt; 0
	
	WITH This
	
	*09.08.2005 16:43 -&gt; Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:44 -&gt; Ïåðå÷èòàåì ñïèñîê öåí
	._RSRequery(.nTluID)
	*------------------------------------------------------------------------------
	
	*09.08.2005 16:44 -&gt; Ïåðåõîäèì íà îòðåäàêòèðîâàíííûé ýëåìåíò
	SELECT lvTLUInStorageDepartView
	LOCATE FOR lvTLUInStorageDepartView.TluInDptID = luEditRes
	*------------------------------------------------------------------------------

	*09.08.2005 16:44 -&gt; Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*09.08.2005 16:44 -&gt; Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
	
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _info
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTluInDpt._Info
* Called by.......: &lt;n/a&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïðîñìîòð ïðèâÿçêè TLU ê îòäåëó ìàãàçèíà
*------------------------------------------------------------------------------

*09.08.2005 16:38 -&gt; Âûïîëíèì îïåðàöèþ
oMgrTovar.Do([TLUINDPT],[INFO],lvTLUInStorageDepartView.TluInDptID)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _rsrequery
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTluInDpt._RSRequery
* Called by.......: &lt;n/a&gt;
* Parameters......: &lt;tnTLUID&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïåðå÷èòûâàíèå Alias-à Grid-à
*------------------------------------------------------------------------------
LPARAMETERS	tnTLUID

*01.04.2004 10:29 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE	_PARAM
*------------------------------------------------------------------------------

WITH This

*01.04.2004 10:29 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*01.04.2004 10:29 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*09.08.2005 16:53 -&gt; Ñîõðàíèì èäåíòèôèêàòîð TLU
.nTLUID = tnTLUID
*------------------------------------------------------------------------------

*01.04.2004 10:29 -&gt;Ïåðå÷èòàåì Local View
IF .nTLUID = 0

	*01.04.2004 10:29 -&gt;Îòêðûâàåì LocalView ïóñòûì
	USE IN lvTLUInStorageDepartView
	USE Basis!lvTLUInStorageDepartView IN 0 NODATA
	*------------------------------------------------------------------------------

ELSE

	*01.04.2004 10:29 -&gt;Îòêðûâàåì ñ äàííûìè äëÿ òåêóùåãî TLU
	_PARAM = .nTLUID
	REQUERY([lvTLUInStorageDepartView])
	*------------------------------------------------------------------------------

ENDIF	
*------------------------------------------------------------------------------

*01.04.2004 10:29 -&gt;Âîññòàíàâëèâàåì RecordSource
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>5</reserved2>
		<reserved3>ntluid
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MX0ORC1P</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>grdtluindpt.Column1</parent>
		<properties>FontBold = .T.
Alignment = 2
Caption = "Ìàãàçèí"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MX0ORC24</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>grdtluindpt.Column1</parent>
		<properties>Left = 73
Top = 83
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MX0ORC25</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>grdtluindpt.Column2</parent>
		<properties>FontBold = .T.
Alignment = 2
Caption = "Îòäåë"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MX0ORC26</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>grdtluindpt.Column2</parent>
		<properties>Left = 102
Top = 59
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>grdtluindpt</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1LU0JPA19</uniqueid>
		<timestamp>0</timestamp>
		<class>tlbfrm</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>toolbar</baseclass>
		<objname>tlbtvrfrm</objname>
		<parent/>
		<properties>Height = 28
Left = 0
Top = 0
Width = 53
Name = "tlbtvrfrm"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>3</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1LU0JPQTF</uniqueid>
		<timestamp>0</timestamp>
		<class>cmdtlbfrm</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdTvrAcc</objname>
		<parent>tlbtvrfrm</parent>
		<properties>Top = 3
Left = 5
Picture = ..\graphic\tvrmove.bmp
ToolTipText = "Äâèæåíèå òîâàðà"
ZOrderSet = 0
_msg = TVRACC
Name = "cmdTvrAcc"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1LU0JPQTG</uniqueid>
		<timestamp>0</timestamp>
		<class>cmdtlbfrm</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdTvrStock</objname>
		<parent>tlbtvrfrm</parent>
		<properties>Top = 3
Left = 26
Picture = ..\graphic\tvrstock.bmp
ToolTipText = "Îñòàòêè òîâàðà"
ZOrderSet = 1
_msg = TVRSTOCK
Name = "cmdTvrStock"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>tlbtvrfrm</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>926306382</timestamp>
		<class>frmidctltree</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmidctltreetovar</objname>
		<parent/>
		<properties>Height = 273
Width = 414
DoCreate = .T.
Name = "frmidctltreetovar"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
CSTDATAWORK.Name = "CSTDATAWORK"
oleimagelist.Top = 252
oleimagelist.Left = 135
oleimagelist.Height = 100
oleimagelist.Width = 100
oleimagelist.Name = "oleimagelist"
oletreeview.Top = 0
oletreeview.Left = 0
oletreeview.Height = 243
oletreeview.Width = 412
oletreeview._rsaliasname = lvTvrCntTreeView
oletreeview._rsfieldnameid = TvrID
oletreeview._rsfieldnameparentid = TvrParID
oletreeview._rsfieldnametext = TvrNM
oletreeview._imagelistobject = .parent.Oleimagelist.object
oletreeview._rsfieldnameparentflag = TvrIsCnt
oletreeview._imgalias = lvTvrBmps
oletreeview._imgfieldnamefilename = BmpFileNM
oletreeview._imgfieldnameindex = BmpId
oletreeview._rsfieldnameimageindex = BmpId
oletreeview._rsfieldnameimageselectedindex = SelBmpId
oletreeview.Name = "oletreeview"
cntcancelsavehandled.cmdCancel.Name = "cmdCancel"
cntcancelsavehandled.cmdOK.Name = "cmdOK"
cntcancelsavehandled.Top = 247
cntcancelsavehandled.Left = 208
cntcancelsavehandled.Name = "cntcancelsavehandled"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>1</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmidctltreetovar</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90PLTT9</uniqueid>
		<timestamp>926306972</timestamp>
		<class>scrfrmview</class>
		<classloc>basis.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrstock</objname>
		<parent/>
		<properties>Top = 2
Left = 3
Height = 385
Width = 800
DoCreate = .T.
Caption = "Îñòàòêè òîâàðà"
WindowState = 0
cfilelist = 
_standarttoolbar = tlbStandart;basetoolbar_v1.vcx
_customtoolbarparamstring = 
_customtoolbarinstancenm = 
_customtoolbar = 
Name = "frmtvrstock"
cstmsghandler.Top = 0
cstmsghandler.Name = "cstmsghandler"
cstresizable.Top = 0
cstresizable.Name = "cstresizable"
</properties>
		<protected/>
		<methods>PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: FRMTVRACC.INIT
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tnTvrID&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------
LPARAMETERS tnScrFrm, tnTvrID

*22.09.2005 11:15 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL  _PARAM
*------------------------------------------------------------------------------

WITH This

*19.09.2005 13:59 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT(tnScrFrm)
*------------------------------------------------------------------------------

*25.05.2004 23:11 -&gt;Çàãðóçèì ôèëüòðû äëÿ òåêóùåé ôîðìû
.cntQueryParam.ParamObjectCreate(__QPOTYPE_SCRFRM, .nScrFrmID)
*------------------------------------------------------------------------------

*20.09.2005 17:03 -&gt;Çàïèøåì äîïîëíèòåëüíûé ïàðàìåòð ôèëüòðàöèè
luQryParDateEnabled = oQryParMgr.ParamSet(.cntQueryParam.cQryParSID,[qpnTvrID],tnTvrID,[N])
*------------------------------------------------------------------------------

*22.09.2005 11:16 -&gt;Ïîëó÷èì èíôîðìóöèþ î òîâàðå
_PARAM = tnTvrID
_PARAM_PRCTYPE = 1 &amp;&amp;.FrmPrcType  &amp;&amp; ïðîâåðèòü ïðàâèëüíîñòü
REQUERY([lvTovarInfo])
*------------------------------------------------------------------------------

*30.09.2005 09:19 -&gt; îáíîâëåíèå ãðèäà
.cntQueryParam.QueryParamSet()
.grdTvrStock._RSRequery()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
******************************** END PROCEDURE ********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrAcc.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

*19.09.2005 16:01 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*19.09.2005 14:46 -&gt;Îòêðîåì ÁÄ
IF !USED([Basis])
	OPEN DATABASE Basis SHARED
ENDIF
***
SET DATABASE TO Basis
*------------------------------------------------------------------------------

*******************************************************************************
* Çàãðóçèì ïóñòîé Alias äëÿ ïðîñìîòðà ñîäåðæèìîãî êàðòî÷êè                    *
*******************************************************************************

*02.12.2004 16:59 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcUniqueName
*------------------------------------------------------------------------------

*21.04.2004 14:05 -&gt;Âûïîëíèì õðàíèìóþ ïðîöåäóðó äëÿ ïîëó÷åíèÿ ïóñòîé òàáëèöû
lcUniqueName = spStockTvr([NODATA])	&amp;&amp; ïðîöåäóðà ïîëó÷åíèÿ îñòàòêîâ
ThisForm.cFileList = lcUniqueName
*------------------------------------------------------------------------------

*21.04.2004 14:08 -&gt;Òåïåðü îòêðîåì äàííûé Alias
USE (lcUniqueName) IN 0 ALIAS TvrStockView
*------------------------------------------------------------------------------

*22.09.2005 10:59 -&gt;Îòêðîåì LV äëÿ ïðîñìîòðà èíôîðìàöèè î òîâàðå
USE lvTovarInfo IN 0 NODATA
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Unload
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: FRMTVRACC.DESTROY
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

WITH This

USE IN IIF(USED([TvrStockView]),[TvrStockView],0)
*------------------------------------------------------------------------------

*22.09.2005 14:07 -&gt;Óäàëè ôàéëû ñôîðìèðîâàííûå ÕÏ ïîäãîòîâêè äàííûõ
IF !EMPTY(.cFileList)

	*22.09.2005 14:08 -&gt;Óäàëÿåì ôàéë
	IF FILE([tmp\]+.cFileList)
		ERASE ([tmp\]+.cFileList)
	ENDIF	
	*------------------------------------------------------------------------------
		
ENDIF
*------------------------------------------------------------------------------

*20.09.2005 11:50 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>25</reserved2>
		<reserved3>cfilelist ñïèñîê ôàéëîâ, êîòîðûé âîçâðàùàåò ÕÏ ïîäãîòîâêè äàííûõ
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Îñòàòêè ïî òîâàðó</reserved7>
		<reserved8>..\include\qryparparobjtypes.h</reserved8>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90TY53D</uniqueid>
		<timestamp>926306972</timestamp>
		<class>cntqueryparam</class>
		<classloc>queryparamio_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntQueryParam</objname>
		<parent>frmtvrstock</parent>
		<properties>Top = 328
Left = 451
Width = 345
Height = 51
ZOrderSet = 3
Name = "cntQueryParam"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>926306924</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTvrStock</objname>
		<parent>frmtvrstock</parent>
		<properties>ColumnCount = 6
HeaderHeight = 38
Height = 290
Left = 5
Panel = 1
ReadOnly = .F.
RecordSource = "TvrStockView"
ScrollBars = 2
Top = 36
Width = 790
ZOrderSet = 4
_handledstandartmsgpromptlist = ;;;;Ïîäãîòîâèòü îò÷åò
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;PRNREP
Name = "grdTvrStock"
Column1.ColumnOrder = 2
Column1.ControlSource = "TvrStockView.DateIn"
Column1.CurrentControl = "Txtgrd1"
Column1.Width = 103
Column1.ReadOnly = .T.
Column1.Name = "Column1"
Column2.ColumnOrder = 1
Column2.ControlSource = "TvrStockView.Ounm"
Column2.CurrentControl = "Txtgrd1"
Column2.Width = 214
Column2.ReadOnly = .T.
Column2.Name = "Column2"
Column3.ControlSource = "TvrStockView.TvrBuy"
Column3.CurrentControl = "Txtgrd1"
Column3.Width = 80
Column3.ReadOnly = .T.
Column3.Name = "Column3"
Column4.ControlSource = "TvrStockView.TvrSale"
Column4.CurrentControl = "Txtgrd1"
Column4.Width = 80
Column4.ReadOnly = .T.
Column4.Name = "Column4"
Column5.ControlSource = "TvrStockView.TvrQnt"
Column5.CurrentControl = "Txtgrd1"
Column5.Width = 77
Column5.ReadOnly = .T.
Column5.Name = "Column5"
Column6.ControlSource = "TvrStockView.CltNm"
Column6.CurrentControl = "Txtgrd1"
Column6.Width = 193
Column6.ReadOnly = .T.
Column6.Name = "Column6"
</properties>
		<protected/>
		<methods>PROCEDURE _prnrep
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrMove._PrnRep
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïå÷àòü îò÷åòà î äâèæåíèè òîâàðà
*------------------------------------------------------------------------------

*21.05.2004 22:39 -&gt;Âûïîëíèì ìåòîä ìåíåäæåðà äëÿ ïå÷àòè îò÷¸òà
oApp.ExecuteScrFormReportByID(ThisForm.nScrFrmID)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _rsrequery
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrMove._RSRequery
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

*19.09.2005 16:05 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcUniqueName, ;
		lcUniqueFilePath, ;
		lnCurrTvrQnt, ;
		lnCurrTvrSum
*------------------------------------------------------------------------------

WITH THIS

*19.09.2005 16:05 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*19.09.2005 16:05 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*19.09.2005 16:05 -&gt;Çàêðîåì Alias è óäàëèì âðåìåííóþ òàáëèöó
lcUniqueFilePath = DBF([TvrStockView])
***
USE IN TvrStockView
*------------------------------------------------------------------------------

*19.09.2005 16:07 -&gt;Âûïîëíèì õðàíèìóþ ïðîöåäóðó äëÿ ïîëó÷åíèÿ äàííûõ
lcUniqueName = spStockTvr(ThisForm.cntQueryParam.cQryParSID)
ThisForm.cFileList = lcUniqueName
*------------------------------------------------------------------------------

*21.04.2004 14:08 -&gt;Òåïåðü îòêðîåì äàííûé Alias
USE (lcUniqueName) IN 0 ALIAS TvrStockView
*------------------------------------------------------------------------------

*05.05.2004 01:36 -&gt;Âîññòàíàâëèâàåì Alias
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>926306924</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrstock.grdTvrStock.Column1</parent>
		<properties>Alignment = 2
Caption = "Äàòà ïàðòèè"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10B7SL</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrstock.grdTvrStock.Column1</parent>
		<properties>Left = 20
Top = 47
Width = 12
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB11DWJS</uniqueid>
		<timestamp>926306924</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrstock.grdTvrStock.Column2</parent>
		<properties>Alignment = 2
Caption = "Îòäåë"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FB11ZRUO</uniqueid>
		<timestamp>0</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrstock.grdTvrStock.Column2</parent>
		<properties>BorderStyle = 0
Margin = 0
ReadOnly = .T.
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FD0QH02X</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrstock.grdTvrStock.Column2</parent>
		<properties>Left = 98
Top = 47
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FC0PYQEY</uniqueid>
		<timestamp>926306924</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrstock.grdTvrStock.Column3</parent>
		<properties>Alignment = 6
Caption = "Öåíà ïîñòóïëåíèÿ"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1FD0QKHUP</uniqueid>
		<timestamp>0</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrstock.grdTvrStock.Column3</parent>
		<properties>BorderStyle = 0
Margin = 0
ReadOnly = .T.
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrstock.grdTvrStock.Column3</parent>
		<properties>Left = 43
Top = 47
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70LIXJP</uniqueid>
		<timestamp>926306924</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrstock.grdTvrStock.Column4</parent>
		<properties>Alignment = 2
Caption = "Öåíà ïðîäàæè"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70M4SAG</uniqueid>
		<timestamp>0</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrstock.grdTvrStock.Column4</parent>
		<properties>BorderStyle = 0
Margin = 0
ReadOnly = .T.
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70NZ9AH</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrstock.grdTvrStock.Column4</parent>
		<properties>Left = 28
Top = 47
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70M4SAI</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrstock.grdTvrStock.Column5</parent>
		<properties>Alignment = 6
Caption = "Êîëè÷åñòâî"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70NZ9AJ</uniqueid>
		<timestamp>0</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrstock.grdTvrStock.Column5</parent>
		<properties>BorderStyle = 0
Margin = 0
ReadOnly = .T.
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70M4SAK</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrstock.grdTvrStock.Column5</parent>
		<properties>Left = 37
Top = 47
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70NZ9AL</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrstock.grdTvrStock.Column6</parent>
		<properties>Alignment = 6
Caption = "Ïîñòàâùèê"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrstock.grdTvrStock.Column6</parent>
		<properties>BorderStyle = 0
Margin = 0
ReadOnly = .T.
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrstock.grdTvrStock.Column6</parent>
		<properties>Left = 43
Top = 47
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>0</timestamp>
		<class>cmd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdUpdate</objname>
		<parent>frmtvrstock</parent>
		<properties>Top = 354
Left = 5
Caption = "Îáíîâèòü"
ZOrderSet = 5
Name = "cmdUpdate"
</properties>
		<protected/>
		<methods>PROCEDURE Click
ThisForm.cntQueryParam.QueryParamSet()
ThisForm.grdTvrStock._RSRequery()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MC0OE712</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrNM</objname>
		<parent>frmtvrstock</parent>
		<properties>ControlSource = "lvTovarInfo.TvrNM"
Enabled = .F.
Height = 23
Left = 5
Top = 5
Width = 245
DisabledForeColor = 0,0,0
ZOrderSet = 6
Name = "txtTvrNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_26Q0LVOJQ</uniqueid>
		<timestamp>926306704</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>TxtMsuNm</objname>
		<parent>frmtvrstock</parent>
		<properties>ControlSource = "lvTovarInfo.MsuNm"
Enabled = .F.
Height = 23
Left = 488
Top = 5
Width = 184
DisabledForeColor = 0,0,0
ZOrderSet = 6
Name = "TxtMsuNm"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MC0OFCZW</uniqueid>
		<timestamp>926306704</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrID</objname>
		<parent>frmtvrstock</parent>
		<properties>ControlSource = "lvTovarInfo.TvrID"
Enabled = .F.
Left = 295
Top = 5
DisabledForeColor = 0,0,0
ZOrderSet = 7
Name = "txtTvrID"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MC0OIW24</uniqueid>
		<timestamp>926306972</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl1</objname>
		<parent>frmtvrstock</parent>
		<properties>Caption = "Êîä:"
Left = 254
Top = 8
ZOrderSet = 8
Name = "Lbl1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrstock</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1></reserved1>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10B7SL</uniqueid>
		<timestamp>927493627</timestamp>
		<class>scrfrmview</class>
		<classloc>basis.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrsetview</objname>
		<parent/>
		<properties>Top = 0
Left = 0
Height = 448
Width = 776
DoCreate = .T.
Caption = "Íàáîðû òîâàðîâ"
_standarttoolbar = tlbStandart;basetoolbar_v1.vcx
_allowsaveandrestorelayout = .T.
Name = "frmtvrsetview"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
</properties>
		<protected/>
		<methods>PROCEDURE Init
LPARAMETERS	tnScrFrmID

*18.04.2006 17:14 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT(tnScrFrmID)
*------------------------------------------------------------------------------

*18.04.2006 17:14 -&gt;Çàïóñòèì Toolbar ñ ïîëüçîâàòåëüñêèìè ôóíêöèÿìè
This.InitCustomFuncToolbar([grdTvrSet])
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: frmTvrSetView.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*-------------------------------------------------------

*01.08.2005 15:35 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*26.07.2005 16:42 -&gt; Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*26.07.2005 16:42 -&gt; Îòêðûâàåì Local View
USE lvTvrSetView IN 0
*------------------------------------------------------------------------------

*01.04.2004 15:10 -&gt; Îòêðûâàåì Local View'û
USE lvTvrSetTLUTypeView IN 0 NODATA
USE lvTvrSetTvrTypeView IN 0 NODATA
*------------------------------------------------------------------------------	

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>12</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Ïðîñìîòð íàáîðîâ òîâàðîâ</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>927493627</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTvrSetTLUType</objname>
		<parent>frmtvrsetview</parent>
		<properties>ColumnCount = 1
Height = 234
Left = 443
RecordSource = "lvTvrSetTLUTypeView"
ScrollBars = 2
Top = 5
Width = 330
ZOrderSet = 2
_activerowhighlight = .T.
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;DELE
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Óäàëèòü
Name = "grdTvrSetTLUType"
Column1.ControlSource = "lvTvrSetTLUTypeView.TLUTypeNM"
Column1.CurrentControl = "Txtgrd1"
Column1.Width = 300
Column1.ReadOnly = .T.
Column1.Name = "Column1"
</properties>
		<protected/>
		<methods>PROCEDURE _add
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: grdTvrSetTLUType._Add
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Add()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå ïðèâÿçêè ê òèïó èäåíòèôèêàòîðà
*-------------------------------------------------------

*26.07.2005 16:59 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luResAdding
*------------------------------------------------------------------------------

*26.07.2005 16:59 -&gt; Âûïîëíèì îïåðàöèþ
luResAdding = oMgrTovar.Do([TVRSETTLUTYPE],[ADD],lvTvrSetView.TvrSetID)
*------------------------------------------------------------------------------

*26.07.2005 17:00 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luResAdding])==[N]
		
	*26.07.2005 17:00 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias, ;
			lnTvrSetTLUTypeId
	***
	lcOldAlias = ALIAS()
	lnTvrSetTLUTypeId = luResAdding
	*------------------------------------------------------------------------------
	
	*26.07.2005 16:58 -&gt; Îáíîâèì äàííûå
	ThisForm.grdTvrSet._RefreshRelatedObjects()
	*------------------------------------------------------------------------------

	*26.07.2005 17:01 -&gt; Ïåðåõîäèì íà äîáàâëåííûé ýëåìåíò
	SELECT lvTvrSetTLUTypeView
	LOCATE FOR lvTvrSetTLUTypeView.TvrSetTLUTypeID = lnTvrSetTLUTypeId
	*------------------------------------------------------------------------------

	*26.07.2005 17:02 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _dele
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrSetTLUType._Dele
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Dele()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå ïðèâÿçêè ê òèïó èäåíòèôèêàòîðà
*-------------------------------------------------------

*26.07.2005 16:57 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTvrSetTLUTypeId, ;
		luResDele
***
lnTvrSetTLUTypeId = lvTvrSetTLUTypeView.TvrSetTLUTypeId
*------------------------------------------------------------------------------

*26.07.2005 16:57 -&gt; Âûïîëíèì îïåðàöèþ
luResDele = oMgrTovar.Do([TVRSETTLUTYPE],[DELE],lnTvrSetTLUTypeId)
*------------------------------------------------------------------------------

*26.07.2005 16:58 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luResDele])==[L] AND luResDele
	
	*26.07.2005 16:58 -&gt; Îáíîâèì äàííûå
	ThisForm.grdTvrSet._RefreshRelatedObjects()
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _gethandledstandartmsglist
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrSetTLUType._GetHandledStandartMsgList
* Called by.......: &lt;.RefreshHandledStandartMsgList();.RightClick()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;lcHandledStandartMsgList&gt;
* Notes...........: Çàïðåòèì âñå ñòàíäàðòíûå îïåðàöèè, åñëè íàáîð íå èñïîëüçóåò ïðèâÿçêè ê òèïàì èäåíòèôèêàòîðîâ
*-------------------------------------------------------

*01.04.2004 10:32 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
***
_PARAM = lvTvrSetView.TvrSetID
*------------------------------------------------------------------------------

*03.08.2005 12:46 -&gt; Ïîëó÷èì èíôîðìàöèþ î âûáðàííîì íàáîðå
USE IN IIF(USED([lvTvrSetByID]),[lvTvrSetByID],0)
***
USE lvTvrSetByID IN 0
*------------------------------------------------------------------------------

*03.08.2005 12:49 -&gt; Çàïðåòèì âñå ñòàíäàðòíûå îïåðàöèè, åñëè íàáîð íå èñïîëüçóåò ïðèâÿçêè ê òèïàì èäåíòèôèêàòîðîâ
RETURN IIF(lvTvrSetByID.FilterByTLUType,DODEFAULT(),[])
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************

ENDPROC
PROCEDURE _rsrequery
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrSetTLUType._RSRequery
* Called by.......: &lt;External Call's&gt;
* Parameters......: &lt;tnTvrSetId&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïåðå÷èòûâàíèå Alias-à Grid-à
*-------------------------------------------------------
LPARAMETERS	tnTvrSetId

*11.01.2004 17:15 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE	_PARAM
*------------------------------------------------------------------------------

WITH This

*11.01.2004 17:44 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Ïåðå÷èòàåì Local View
IF tnTvrSetId = 0

	*12.01.2004 19:09 -&gt;Îòêðûâàåì LocalView ïóñòûì
	USE IN lvTvrSetTLUTypeView
	USE Basis!lvTvrSetTLUTypeView IN 0 NODATA
	*------------------------------------------------------------------------------
	
ELSE

	*25.03.2004 12:13 -&gt;Îòêðûâàåì ñ äàííûìè äëÿ òåêóùåãî ïàðàìåòðà îò÷åòà
	_PARAM = tnTvrSetId
	REQUERY([lvTvrSetTLUTypeView])
	*------------------------------------------------------------------------------
	
ENDIF	
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Âîññòàíàâëèâàåì RecordSource
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrsetview.grdTvrSetTLUType.Column1</parent>
		<properties>Alignment = 2
Caption = "Òèïû èäåíòèôèêàòîðîâ"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14A10B7SL</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrsetview.grdTvrSetTLUType.Column1</parent>
		<properties>Left = 32
Top = 30
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>927493627</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTvrSetTvrType</objname>
		<parent>frmtvrsetview</parent>
		<properties>ColumnCount = 1
Height = 203
Left = 443
RecordSource = "lvTvrSetTvrTypeView"
ScrollBars = 2
Top = 241
Width = 330
ZOrderSet = 3
_activerowhighlight = .T.
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;DELE
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Óäàëèòü
Name = "grdTvrSetTvrType"
Column1.ControlSource = "lvTvrSetTvrTypeView.TvrTypeNM"
Column1.CurrentControl = "Txtgrd1"
Column1.Width = 300
Column1.ReadOnly = .T.
Column1.Name = "Column1"
</properties>
		<protected/>
		<methods>PROCEDURE _add
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: grdTvrSetTvrType._Add
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Add()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå ïðèâÿçêè ê òèïó òîâàðà
*-------------------------------------------------------

*26.07.2005 16:59 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luResAdding
*------------------------------------------------------------------------------

*26.07.2005 16:59 -&gt; Âûïîëíèì îïåðàöèþ
luResAdding = oMgrTovar.Do([TVRSETTVRTYPE],[ADD],lvTvrSetView.TvrSetID)
*------------------------------------------------------------------------------

*26.07.2005 17:00 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luResAdding])==[N]
		
	*26.07.2005 17:00 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias, ;
			lnTvrSetTvrTypeId
	***
	lcOldAlias = ALIAS()
	lnTvrSetTvrTypeId = luResAdding
	*------------------------------------------------------------------------------
	
	*26.07.2005 16:58 -&gt; Îáíîâèì äàííûå
	ThisForm.grdTvrSet._RefreshRelatedObjects()
	*------------------------------------------------------------------------------

	*26.07.2005 17:01 -&gt; Ïåðåõîäèì íà äîáàâëåííûé ýëåìåíò
	SELECT lvTvrSetTvrTypeView
	LOCATE FOR lvTvrSetTvrTypeView.TvrSetTvrTypeID = lnTvrSetTvrTypeId
	*------------------------------------------------------------------------------

	*26.07.2005 17:02 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _dele
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrSetTvrType._Dele
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Dele()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå ïðèâÿçêè ê òèïó òîâàðà
*-------------------------------------------------------

*26.07.2005 16:57 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTvrSetTvrTypeId, ;
		luResDele
***
lnTvrSetTvrTypeId = lvTvrSetTvrTypeView.TvrSetTvrTypeId
*------------------------------------------------------------------------------

*26.07.2005 16:57 -&gt; Âûïîëíèì îïåðàöèþ
luResDele = oMgrTovar.Do([TVRSETTVRTYPE],[DELE],lnTvrSetTvrTypeId)
*------------------------------------------------------------------------------

*26.07.2005 16:58 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luResDele])==[L] AND luResDele
	
	*26.07.2005 16:58 -&gt; Îáíîâèì äàííûå
	ThisForm.grdTvrSet._RefreshRelatedObjects()
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _gethandledstandartmsglist
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrSetTvrType._GetHandledStandartMsgList
* Called by.......: &lt;.RefreshHandledStandartMsgList();.RightClick()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;lcHandledStandartMsgList&gt;
* Notes...........: Çàïðåòèì âñå ñòàíäàðòíûå îïåðàöèè, åñëè íàáîð íå èñïîëüçóåò ïðèâÿçêè ê òèïàì òîâàðîâ
*-------------------------------------------------------

*01.04.2004 10:32 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
***
_PARAM = lvTvrSetView.TvrSetID
*------------------------------------------------------------------------------

*03.08.2005 12:46 -&gt; Ïîëó÷èì èíôîðìàöèþ î âûáðàííîì íàáîðå
USE IN IIF(USED([lvTvrSetByID]),[lvTvrSetByID],0)
***
USE lvTvrSetByID IN 0
*------------------------------------------------------------------------------

*03.08.2005 12:49 -&gt; Çàïðåòèì âñå ñòàíäàðòíûå îïåðàöèè, åñëè íàáîð íå èñïîëüçóåò ïðèâÿçêè ê òèïàì èäåíòèôèêàòîðîâ
RETURN IIF(lvTvrSetByID.FilterByTvrType,DODEFAULT(),[])
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************

ENDPROC
PROCEDURE _rsrequery
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrSetTvrType._RSRequery
* Called by.......: &lt;External Call's&gt;
* Parameters......: &lt;tnTvrSetId&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïåðå÷èòûâàíèå Alias-à Grid-à
*-------------------------------------------------------
LPARAMETERS	tnTvrSetId

*11.01.2004 17:15 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE	_PARAM
*------------------------------------------------------------------------------

WITH This

*11.01.2004 17:44 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Ïåðå÷èòàåì Local View
IF tnTvrSetId = 0

	*12.01.2004 19:09 -&gt;Îòêðûâàåì LocalView ïóñòûì
	USE IN lvTvrSetTvrTypeView
	USE Basis!lvTvrSetTvrTypeView IN 0 NODATA
	*------------------------------------------------------------------------------
	
ELSE

	*25.03.2004 12:13 -&gt;Îòêðûâàåì ñ äàííûìè äëÿ òåêóùåãî ïàðàìåòðà îò÷åòà
	_PARAM = tnTvrSetId
	REQUERY([lvTvrSetTvrTypeView])
	*------------------------------------------------------------------------------
	
ENDIF	
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Âîññòàíàâëèâàåì RecordSource
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrsetview.grdTvrSetTvrType.Column1</parent>
		<properties>Alignment = 2
Caption = "Òèïû òîâàðîâ"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrsetview.grdTvrSetTvrType.Column1</parent>
		<properties>Left = 32
Top = 30
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>927493627</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTvrSet</objname>
		<parent>frmtvrsetview</parent>
		<properties>ColumnCount = 2
Height = 439
Left = 5
Panel = 1
RecordSource = "lvTvrSetView"
ScrollBars = 2
Top = 5
Width = 436
ZOrderSet = 4
_activerowhighlight = .T.
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;EDIT;INFO;DELE
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Ðåäàêòèðîâàòü;Ïðîñìîòð;Óäàëèòü
Name = "grdTvrSet"
Column1.ControlSource = "lvTvrSetView.TvrSetNM"
Column1.CurrentControl = "Txtgrd1"
Column1.Width = 333
Column1.ReadOnly = .T.
Column1.Name = "Column1"
Column2.ControlSource = "lvTvrSetView.TvrSetID"
Column2.Name = "Column2"
</properties>
		<protected/>
		<methods>PROCEDURE _add
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: grdTvrSet._Add
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Add()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå íàáîðà òîâàðîâ
*-------------------------------------------------------

*26.07.2005 16:59 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luResAdding
*------------------------------------------------------------------------------

*26.07.2005 16:59 -&gt; Âûïîëíèì îïåðàöèþ
luResAdding = oMgrTovar.Do([TVRSET],[ADD])
*------------------------------------------------------------------------------

*26.07.2005 17:00 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luResAdding])==[N]
		
	*26.07.2005 17:00 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias, ;
			lnTvrSetId
	***
	lcOldAlias = ALIAS()
	lnTvrSetId = luResAdding
	*------------------------------------------------------------------------------
	
	*26.07.2005 17:01 -&gt; Îáíîâèì Local View
	REQUERY([lvTvrSetView])
	*------------------------------------------------------------------------------
	
	*26.07.2005 17:01 -&gt; Ïåðåõîäèì íà äîáàâëåííûé ýëåìåíò
	SELECT lvTvrSetView
	LOCATE FOR lvTvrSetView.TvrSetID = lnTvrSetId
	*------------------------------------------------------------------------------

	*26.07.2005 17:01 -&gt; Âûçîâåì ìåòîä îáíîâëåíèÿ RunTime ñâîéñòâ, ñ ïðèíóäèòåëüíûì
	*26.07.2005 17:01 -&gt; âûçîâîì îáðàáîò÷èêîâ, äàæå åñëè ñâîéñòâî íå èçìåíèëîñü
	This.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	*26.07.2005 17:02 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _dele
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: grdTvrSet._Dele
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Dele()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå íàáîðà òîâàðîâ
*-------------------------------------------------------

*26.07.2005 16:57 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTvrSetId, ;
		luResDele
***
lnTvrSetId = lvTvrSetView.TvrSetId
*------------------------------------------------------------------------------

*26.07.2005 16:57 -&gt; Âûïîëíèì îïåðàöèþ
luResDele = oMgrTovar.Do([TVRSET],[DELE],lnTvrSetId)
*------------------------------------------------------------------------------

*26.07.2005 16:58 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luResDele])==[L] AND luResDele
	
	*26.07.2005 16:58 -&gt; Îáíîâèì Local View
	REQUERY([lvTvrSetView])
	*------------------------------------------------------------------------------

	*26.07.2005 16:58 -&gt; Âûçîâåì ìåòîä äëÿ ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	This.Refresh(.T.)
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _edit
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: grdTvrSet._Edit
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Edit()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ðåäàêòèðîâàíèå íàáîðà òîâàðîâ
*-------------------------------------------------------

*26.07.2005 16:52 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTvrSetId, ;
		luResEditing
***
lnTvrSetId = lvTvrSetView.TvrSetId
*------------------------------------------------------------------------------

*26.07.2005 16:53 -&gt; Âûïîëíèì îïåðàöèþ
luResEditing = oMgrTovar.Do([TVRSET],[EDIT],lnTvrSetId)
*------------------------------------------------------------------------------

*26.07.2005 16:53 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luResEditing])==[L] AND luResEditing
	
	*26.07.2005 16:53 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias
	***
	lcOldAlias = ALIAS()
	*------------------------------------------------------------------------------

	*26.07.2005 16:54 -&gt; Îáíîâèì Local View
	REQUERY([lvTvrSetView])
	*------------------------------------------------------------------------------

	*26.07.2005 16:54 -&gt; Ïåðåõîäèì íà îòðåäàêòèðîâàííûé ýëåìåíò
	SELECT lvTvrSetView
	LOCATE FOR lvTvrSetView.TvrSetID = lnTvrSetID
	*------------------------------------------------------------------------------
	
	*26.07.2005 16:55 -&gt; Âûçîâåì ìåòîä îáíîâëåíèÿ RunTime ñâîéñòâ, ñ ïðèíóäèòåëüíûì
	*26.07.2005 16:55 -&gt; âûçîâîì îáðàáîò÷èêîâ, äàæå åñëè ñâîéñòâî íå èçìåíèëîñü
	This.Refresh(.T.)
	*------------------------------------------------------------------------------
		
	*26.07.2005 16:55 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _handlecustommsg
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GRDTVRSET._HANDLECUSTOMMSG
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îáðàáîòêà ïîëüçîâàòåëüñêèõ ñîîáùåíèé
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

*19.04.2006 09:49 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL   lcObjDesc
*------------------------------------------------------------------------------

*18.04.2006 17:16 -&gt;Îáðàáàòûâàåì ïîëüçîâàòåëüñêèå ñîîáùåíèÿ
DO CASE
	CASE tcMessage == [TVRINSET]
		tcMessage = []
		lcObjDesc = IIF(lvTvrSetView.TvrSetTypeID = 1, [frmTvrSetEditTree;Tovar_v1.vcx;Tovar.app], ;
													   [frmTvrSetEditSet;Tovar_v1.vcx;Tovar.app])
		IF 	lvTvrSetView.TvrSetTypeID = 1
			oApp.DoModalFormRetValObj(lcObjDesc,lvTvrSetView.TvrSetID)
		ELSE
			oApp.ExecuteScrFormByObjDesc(lcObjDesc,lvTvrSetView.TvrSetID)
		ENDIF
ENDCASE
*------------------------------------------------------------------------------

RETURN tcMessage
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _info
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: grdTvrSet._Info
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïðîñìîòð íàáîðà òîâàðîâ
*-------------------------------------------------------

*26.07.2005 16:50 -&gt; Âûïîëíèì îïåðàöèþ
oMgrTovar.Do([TVRSET],[INFO],lvTvrSetView.TvrSetId)
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _refreshrelatedobjects
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrSet._RefreshRelatedObjects
* Called by.......: &lt;Object Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îáíîâëåíèå ñâÿçàííûõ îáúåêòîâ
*-------------------------------------------------------

*01.04.2004 10:32 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL lnTvrSetID
***
lnTvrSetID = lvTvrSetView.TvrSetID
*------------------------------------------------------------------------------

*03.08.2005 12:46 -&gt; Ïîëó÷èì èíôîðìàöèþ î âûáðàííîì íàáîðå
USE IN IIF(USED([lvTvrSetByID]),[lvTvrSetByID],0)
***
PRIVATE _PARAM
***
_PARAM = lnTvrSetID
USE lvTvrSetByID IN 0
*------------------------------------------------------------------------------

*01.04.2004 10:35 -&gt; Îáíîâëÿåì äàííûå
ThisForm.grdTvrSetTLUType._RSRequery(IIF(lvTvrSetByID.FilterByTLUType,lnTvrSetID,0))
ThisForm.grdTvrSetTvrType._RSRequery(IIF(lvTvrSetByID.FilterByTvrType,lnTvrSetID,0))
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrsetview.grdTvrSet.Column1</parent>
		<properties>Alignment = 2
Caption = "Íàáîð òîâàðîâ"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrsetview.grdTvrSet.Column1</parent>
		<properties>Left = 32
Top = 30
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2760TL23M</uniqueid>
		<timestamp>927493627</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrsetview.grdTvrSet.Column2</parent>
		<properties>Caption = "Êîä íàáîðà"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2760TL23N</uniqueid>
		<timestamp>927493627</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrsetview.grdTvrSet.Column2</parent>
		<properties>BorderStyle = 0
ControlSource = "lvTvrSetView.TvrSetID"
Margin = 0
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrsetview</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>929403052</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmpriceedit</objname>
		<parent/>
		<properties>Height = 173
Width = 325
DoCreate = .T.
BorderStyle = 3
Caption = "Öåíà òîâàðà"
crequestedoperation = 
Name = "frmpriceedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Top = 0
CSTRESIZABLE.Left = 24
CSTRESIZABLE.Name = "CSTRESIZABLE"
CSTDATAWORK.Top = 0
CSTDATAWORK.Left = 48
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmPriceEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*09.08.2005 17:25 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*09.08.2005 17:26 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK]

	*09.08.2005 17:26 -&gt; Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*09.08.2005 17:26 -&gt; Óäàëèì çàïèñü
		DELETE IN lvPriceEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*09.08.2005 17:26 -&gt; Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå
		llDataWasChanged = .cstDataWork.DataChanged([lvPriceEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*09.08.2005 17:27 -&gt; Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ
	IF llDataWasChanged
		
		*09.08.2005 17:27 -&gt; Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvPriceEdit])
		*------------------------------------------------------------------------------
		
		*09.08.2005 17:27 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvPriceEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*09.08.2005 17:27 -&gt; Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvPriceEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

	*09.08.2005 17:27 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*09.08.2005 17:27 -&gt; Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvPriceEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*09.08.2005 17:27 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*09.08.2005 17:28 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*09.08.2005 17:28 -&gt; Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvPriceEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*09.08.2005 17:28 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE calcsale
WITH This
*2006 VG Ðàñ÷¸ò ïðîöåíòà íàöåíêè
*------------------------------------------------------------------------------
DO CASE
CASE  .txtTvrPrcBuy.Value=0
	  MESSAGEBOX('Íåò ïîñòóïëåíèé ýòîãî òîâàðà',0+64,'Äâèæåíèå òîâàðà',700)
CASE .TxtTvrQnt.Value # 0 AND .txtTvrPrcBuy.Value#0
	  .TxtAccPrc.Value = (.TxtTvrQnt.Value * 100 /.txtTvrPrcBuy.Value) - 100
CASE .TxtAccPrc.Value # 0
	  .TxtTvrQnt.Value = ROUND(.txtTvrPrcBuy.Value * (1+.TxtAccPrc.Value/100),2)
ENDCASE
ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmPriceEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation,tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*------------------------------------------------------------------------------
LPARAMETERS	tcRequestedOperation,tuParam1

*09.08.2005 17:02 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

PRIVATE _PARAM
		_PARAM = tuParam1


*09.08.2005 17:02 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
*------------------------------------------------------------------------------

*09.08.2005 17:02 -&gt; Ñîõðàíèì îïåðàöèþ
.cRequestedOperation = tcRequestedOperation
*------------------------------------------------------------------------------

*09.08.2005 17:02 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation == [ADD]
			
		*09.08.2005 17:02 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvPriceEdit
		APPEND BLANK IN lvPriceEdit
		*------------------------------------------------------------------------------

		*09.08.2005 17:02 -&gt; Ïîäñòàâèì ïåðåäàííûé èäåíòèôèêàòîð òîâàðà
		SELECT lvPriceEdit
		REPLACE TvrID WITH tuParam1
		*------------------------------------------------------------------------------
		
		*28.04.2004 12:17 -&gt; Âûáåðåì òèï öåíû ïî óìîë÷àíèþ
		SELECT lvPrcTypeList
		LOCATE FOR PrcTypeIsDef
		***
		.cntIdCtlTreePrcType.SetValue(lvPrcTypeList.PrcTypeID)
		*------------------------------------------------------------------------------
		
	CASE INLIST(.cRequestedOperation,[EDIT],[INFO],[DELE])
		
		*09.08.2005 17:03 -&gt; Çàãðóçèì äàííûå â lvPriceEdit
		REQUERY([lvPriceEdit])
		*------------------------------------------------------------------------------
		
ENDCASE
*------------------------------------------------------------------------------

*09.08.2005 17:03 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = ALLTRIM(.Caption)+[ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])
	CASE .cRequestedOperation == [EDIT]
		.Caption = ALLTRIM(.Caption)+[ - Ðåäàêòèðîâàíèå]
		.Icon = FULLPATH([frmedit.ico])
	CASE .cRequestedOperation == [INFO]
		.Caption = ALLTRIM(.Caption)+[ - Ïðîñìîòð]
		.Icon = FULLPATH([frminfo.ico])
		.cntCancelSaveHandled.cmdOk.Enabled = .F.
	CASE .cRequestedOperation == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
*------------------------------------------------------------------------------

_PARAM = lvPriceEdit.TvrID
WAIT WINDOW 'Îïðåäåëÿåì ïîñëåäíþþ öåíó ïîñòóïëåíèÿ' NOWAIT
USE basis!lvtvrlastbuy IN 0
WAIT CLEAR
IF RECCOUNT([lvtvrlastbuy]) = 0
		MESSAGEBOX([Öåíà ïîñòóïëåíèÿ íå íàéäåíà...],0+48,[Ïðåäóïðåæäåíèå],450)
	*19.08.2005 11:37 -&gt; ØÊ íå íàéäåí - âûâîäèì ñîîòâåòñòâóþùåå ñîîáùåíèå è âîçâðàùàåì .F.
ENDIF
.txtTvrPrcBuy.Value = lvtvrlastbuy.stocktranstvrprcbuy
USE IN lvtvrlastbuy
	   .calcsale()

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmPriceEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*------------------------------------------------------------------------------

*09.08.2005 17:00 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*09.08.2005 17:01 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*09.08.2005 17:09 -&gt; Îòêðûâàåì ñïðàâî÷íèêè
USE lvPrcTypeList IN 0
USE lvTovarList IN 0
*------------------------------------------------------------------------------

*09.08.2005 17:01 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ
USE lvPriceEdit IN 0 NODATA
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>12</reserved2>
		<reserved3>crequestedoperation &lt;public/runtime&gt; Îïåðàöèÿ, êîòîðóþ äîëæåí âûïîëíèòü äàííûé îáúåêò.
*calcsale 
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Èçìåíåíèå öåí ïðîäàæè</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SS0VXO55</uniqueid>
		<timestamp>929403052</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrPrcBuy</objname>
		<parent>frmpriceedit</parent>
		<properties>FontBold = .T.
Caption = "Öåíà ïîñòóïëåíèÿ:"
Left = 5
Top = 35
TabIndex = 7
ZOrderSet = 1
Name = "lblTvrPrcBuy"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SS0VXO56</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrPrcBuy</objname>
		<parent>frmpriceedit</parent>
		<properties>Enabled = .F.
Left = 136
ReadOnly = .T.
TabIndex = 2
Top = 32
DisabledForeColor = 0,0,0
ZOrderSet = 2
_highlightobject = .parent.lblTvrPrcBuy
_convertcommatopoint = .T.
_usedbfieldproperty = .T.
Name = "txtTvrPrcBuy"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1B4NYC</uniqueid>
		<timestamp>929403052</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreePrcType</objname>
		<parent>frmpriceedit</parent>
		<properties>Top = 58
Left = 70
TabIndex = 3
_controlsource = lvPriceEdit.PrcTypeID
_controlsourcetype = 1
_rsaliasname = lvPrcTypeList
_rsfieldnameid = PrcTypeID
_rsfieldnametext = PrcTypeNM
Name = "cntIdCtlTreePrcType"
txtText._highlightobject = .Parent.Parent.lblPrcType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1BE4FO</uniqueid>
		<timestamp>929403052</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblPrcType</objname>
		<parent>frmpriceedit</parent>
		<properties>FontBold = .T.
Caption = "Òèï öåíû:"
Left = 5
Top = 61
TabIndex = 8
ZOrderSet = 7
Name = "lblPrcType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>929403052</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTovar</objname>
		<parent>frmpriceedit</parent>
		<properties>FontBold = .T.
Caption = "Òîâàð:"
Left = 5
Top = 8
TabIndex = 10
ZOrderSet = 7
Name = "lblTovar"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1IA0L9L0Y</uniqueid>
		<timestamp>929403052</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblPrice</objname>
		<parent>frmpriceedit</parent>
		<properties>FontBold = .T.
Caption = "Öåíà:"
Left = 5
Top = 115
TabIndex = 9
ZOrderSet = 7
Name = "lblPrice"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HF0Z6S64</uniqueid>
		<timestamp>929403052</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmpriceedit</parent>
		<properties>Top = 143
Left = 120
TabIndex = 6
ZOrderSet = 17
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I61255SR</uniqueid>
		<timestamp>929403052</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTovar</objname>
		<parent>frmpriceedit</parent>
		<properties>Top = 5
Left = 70
Enabled = .F.
TabIndex = 1
_controlsource = lvPriceEdit.TvrID
_controlsourcetype = 1
_rsaliasname = lvTovarList
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
Name = "cntIdCtlTreeTovar"
txtText.Enabled = .F.
txtText._highlightobject = .Parent.Parent.lblTovar
txtText.Name = "txtText"
cmdShow.Enabled = .F.
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1IA0L9L0Z</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrQnt</objname>
		<parent>frmpriceedit</parent>
		<properties>ControlSource = "lvPriceEdit.Price"
Height = 23
Left = 70
TabIndex = 5
Top = 112
Width = 200
_highlightobject = .Parent.lblPrice
Name = "txtTvrQnt"
</properties>
		<protected/>
		<methods>PROCEDURE LostFocus
WITH THISFORM
*IF lvPriceEdit.Price # this.Value
	   .calcsale()
*ENDIF


ENDWITH

ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SS0VZR0E</uniqueid>
		<timestamp>928952987</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtAccPrc</objname>
		<parent>frmpriceedit</parent>
		<properties>Alignment = 3
Value =      0.0000
Left = 126
TabIndex = 4
Top = 84
Width = 144
DisabledForeColor = 0,0,0
ZOrderSet = 19
Name = "txtAccPrc"
</properties>
		<protected/>
		<methods>PROCEDURE LostFocus
WITH THISFORM
IF  .TxtTvrQnt.Value=0
	  MESSAGEBOX('Íåò ïîñòóïëåíèé ýòîãî òîâàðà',0+64,'Äâèæåíèå òîâàðà',700)
	 ELSE
	  .TxtTvrQnt.Value = .txtTvrPrcBuy.Value * (1+.TxtAccPrc.Value/100)
	ENDIF
ENDWITH
*ThisForm.CalcSale()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SS0VZR0O</uniqueid>
		<timestamp>929403052</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>LblProcent</objname>
		<parent>frmpriceedit</parent>
		<properties>FontBold = .T.
Caption = "% íàöåíêè:"
Left = 5
Top = 87
TabIndex = 11
ZOrderSet = 26
Name = "LblProcent"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmpriceedit</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_0VL0XXSOC</uniqueid>
		<timestamp>929665050</timestamp>
		<class>custom</class>
		<classloc/>
		<baseclass>custom</baseclass>
		<objname>interface</objname>
		<parent/>
		<properties>Name = "interface"
</properties>
		<protected/>
		<methods>PROCEDURE do
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: Interface.Do
* Called by.......: &lt;Misc External Calls&gt;
* Parameters......: &lt;see below&gt;
* Returns.........: &lt;see below&gt;
* Notes...........: Îñíîâíîé ìåòîä ìåíåäæåðà áèáëèîòåêè òîâàðîâ
*------------------------------------------------------------------------------
LPARAMETERS	tcEntityName, ;
			tcRequestedOperation, ;
			tuParam1, ;
			tuParam2, ;
			tuParam3, ;
			tuParam4, ;			
			tuParam5, ;
			tuParam6, ;
			tuParam7, ;
			tuParam8, ;
			tuParam9, ;
			tuParam10

*19.05.2004 19:23 -&gt;Ïðîâåðÿåì ïåðâûå äâà îáÿçàòåëüíûõ ïàðàìåòðà
IF 	TYPE([tcEntityName])#[C] OR EMPTY([tcEntityName]) OR ;
	TYPE([tcRequestedOperation])#[C] OR EMPTY([tcRequestedOperation])
	*{
	ASSERT .F. MESSAGE [Tovar_v1.Interface.Do: îøèáêà âûçîâà - íåïðàâèëüíûé òèï èëè çíà÷åíèå ïàðàìåòðà]
	RETURN .F.
	*}
ENDIF	
*------------------------------------------------------------------------------

*19.05.2004 19:24 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcEntityName, ;
		lcRequestedOperation, ;
		luOperateResult
***
lcEntityName = UPPER(ALLTRIM(tcEntityName))
lcRequestedOperation = UPPER(ALLTRIM(tcRequestedOperation))
*------------------------------------------------------------------------------

*05.04.2004 19:59 -&gt;Âûïîëíÿåì îïåðàöèþ íàä ñóùíîñòüþ
DO CASE
	
	*******************************************************************************
	*[TVR] &amp;&amp; [VIEW] - çàïóñê ôîðìû äëÿ ðàáîòû c òîâàðàìè						  *
	*******************************************************************************
	CASE lcEntityName == [TVR] AND lcRequestedOperation == [VIEW]

		*05.04.2004 20:07 -&gt;Çàïóñòèì ôîðìó
		oApp.ExecuteScrFormByObjDesc([frmtvrview;tovar_v1.vcx;tovar.app])
		*------------------------------------------------------------------------------
		
		*05.04.2004 20:07 -&gt;Âåðíåì ôëàã óñïåøíîñòè îïåðàöèè
		RETURN .T.
		*------------------------------------------------------------------------------
	
	*******************************************************************************
	*[MSU] &amp;&amp; [VIEW] - ïðîñìîòð ñïðàâî÷íèêà åäèíèö èçìåðåíèÿ					  *
	*******************************************************************************
	CASE lcEntityName == [MSU] AND lcRequestedOperation == [VIEW]
	
		*01.03.2005 11:57 -&gt; Çàïóñòèì ôîðìó äëÿ ïðîñìîòðà ñïðàâî÷íèêà åäèíèö èçìåðåíèÿ
		oApp.ExecuteScrFormByObjDesc([frmmeasureunitview;tovar_v1.vcx;tovar.app])
		*------------------------------------------------------------------------------

		*12.01.2005 16:56 -&gt; Âåðíåì ôëàã óñïåøíîñòè
		RETURN .T.
		*------------------------------------------------------------------------------

	*****************************************************************************
	*[CURTYPE] &amp;&amp; [VIEW] - ïðîñìîòð ñïðàâî÷íèêà òèïîâ âàëþò						*
	*****************************************************************************
	CASE lcEntityName == [CURTYPE] AND lcRequestedOperation == [VIEW]
	
		*09.08.2005 17:42 -&gt; Çàïóñòèì ôîðìó äëÿ ïðîñìîòðà ñïðàâî÷íèêà
		oApp.DoFormObj([frmcurtypeview;tovar_v1.vcx;tovar.app])
		*------------------------------------------------------------------------------

		*09.08.2005 17:43 -&gt; Âåðíåì ôëàã óñïåøíîñòè
		RETURN .T.
		*------------------------------------------------------------------------------

	*****************************************************************************
	*[PRCTYPE] &amp;&amp; [VIEW] - ïðîñìîòð ñïðàâî÷íèêà òèïîâ öåí						*
	*****************************************************************************
	CASE lcEntityName == [PRCTYPE] AND lcRequestedOperation == [VIEW]
	
		*09.08.2005 17:43 -&gt; Çàïóñòèì ôîðìó äëÿ ïðîñìîòðà ñïðàâî÷íèêà
		oApp.DoFormObj([frmprctypeview;tovar_v1.vcx;tovar.app])
		*------------------------------------------------------------------------------

		*09.08.2005 17:43 -&gt; Âåðíåì ôëàã óñïåøíîñòè
		RETURN .T.
		*------------------------------------------------------------------------------

	*******************************************************************************
	*[TVR] &amp;&amp; [ADD] - äîáàâëåíèå íîâîãî òîâàðà									  *
	*******************************************************************************
	CASE lcEntityName == [TVR] AND lcRequestedOperation == [ADD]

		*05.04.2004 20:01 -&gt;Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ äëÿ ýòîé îïåðàöèè
		* tuParam1 (optional) - êîä ðîäèòåëÿ
		*------------------------------------------------------------------------------
		
		*05.04.2004 20:02 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
		LOCAL	luResAddingTov
		*------------------------------------------------------------------------------
		
		*05.04.2004 20:02 -&gt;Çàïóñòèì íà âûïîëíåíèå ôîðìó äîáàâëåíèÿ òîâàðà
		luResAddingTov = oApp.DoModalFormRetValObj([frmtvradd;tovar_v1.vcx;tovar.app],tuParam1)
		*------------------------------------------------------------------------------
		
		*05.04.2004 20:04 -&gt;Ïðåäëîæèï ïîëüçîâàòåëþ ââåñòè äîïîëíèòåëüíûå àòòðèáóòû òîâàðà
		IF 	TYPE([luResAddingTov])==[N] AND ;
			MESSAGEBOX([Îïðåäåëèòü äîïîëíèòåëüíûå àòðèáóòû òîâàðà?],36,[Âîïðîñ...]) = 6
						
			*05.04.2004 20:09 -&gt;Âûïîëíÿåì îïåðàöèþ ðåäàêòèðîâàíèÿ òîâàðà
			This.Do([TVR],[EDIT],luResAddingTov)
			*------------------------------------------------------------------------------
			
		ENDIF
		*------------------------------------------------------------------------------
		
		*05.04.2004 20:05 -&gt;Âåðíåì ðåçóëüòàò îïåðàöèè
		RETURN luResAddingTov
		*------------------------------------------------------------------------------

	*******************************************************************************
	*[TVR] &amp;&amp; [FASTADD] - áûñòðîå äîáàâëåíèå íîâîãî òîâàðà						  *
	*******************************************************************************
	CASE lcEntityName == [TVR] AND lcRequestedOperation == [FASTADD]

		*05.04.2004 20:02 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
		LOCAL	luResAddingTov
		*------------------------------------------------------------------------------
		
		*05.04.2004 20:02 -&gt; Çàïóñòèì íà âûïîëíåíèå ôîðìó áûñòðîãî äîáàâëåíèÿ òîâàðà
		luResAddingTov = oApp.DoModalFormRetValObj([frmtvrfastadd;tovar_v1.vcx;tovar.app])
		*------------------------------------------------------------------------------
		
		*27.12.2005 09:42 -&gt; Äîáàâëÿåì ØÊ ê òîâàðó
*!*			IF TYPE([luResAddingTov]) == [N]
*!*				This.Do([TLU],[ADD],luResAddingTov)
*!*			ENDIF
		*------------------------------------------------------------------------------

		*05.04.2004 20:05 -&gt;Âåðíåì ðåçóëüòàò îïåðàöèè
		RETURN luResAddingTov
		*------------------------------------------------------------------------------

	*******************************************************************************
	*[MNU] &amp;&amp; [FASTADD] - áûñòðîå äîáàâëåíèå íîâîé ãðóïïû ìåíþ					  *
	*******************************************************************************
	CASE lcEntityName == [MNU] AND lcRequestedOperation == [FASTADD]

		*05.04.2004 20:02 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
		LOCAL	luResAddingTov
		*------------------------------------------------------------------------------
		
		*05.04.2004 20:02 -&gt; Çàïóñòèì íà âûïîëíåíèå ôîðìó áûñòðîãî äîáàâëåíèÿ òîâàðà
		luResAddingTov = oApp.DoModalFormRetValObj([frmmnufastadd;tovar_v1.vcx;tovar.app])
		*------------------------------------------------------------------------------
		
		*05.04.2004 20:05 -&gt;Âåðíåì ðåçóëüòàò îïåðàöèè
		RETURN luResAddingTov
		*------------------------------------------------------------------------------

	*******************************************************************************
	*[TVR] &amp;&amp; ([EDIT] || [INFO] || [DELE])										  *
	*Ðåäàêòðîâàíèå/ïðîñìîòð/óäàëåíèå òîâàðà										  *
	*******************************************************************************
	CASE lcEntityName == [TVR] AND ;
			(lcRequestedOperation == [EDIT] OR ;
			 lcRequestedOperation == [INFO] OR ;
			 lcRequestedOperation == [DELE])
			
		*05.04.2004 20:08 -&gt;Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ äëÿ ýòîé îïåðàöèè
		* tuParam1 (required) - èäåíòèôèêàòîð òîâàðà äëÿ ðåäàêòèðîâàíèÿ/ïðîñìîòðà/óäàëåíèÿ òîâàðà
		*------------------------------------------------------------------------------
		
		*03.02.2004 16:31 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
		LOCAL	_PARAM, ;
				lcOldAlias, ;
				lnTvrID, ;		
				lcEditObjDesc, ;
				luResEditTov
		***
		lcOldAlias 	  = ALIAS()
		lnTvrID 	  = tuParam1
		*------------------------------------------------------------------------------
		
		*06.04.2004 12:07 -&gt;Îïðåäåëÿåì èìÿ ôîðìû èñïîëüçóåìîé äëÿ ðåäàêòèðîâàíèÿ
		USE IN IIF(USED([lvTvrTypeInfoMgr]),[lvTvrTypeInfoMgr],0)
		***
		_PARAM = lnTvrID
		USE Basis!lvTvrTypeInfoMgr IN 0
		lcEditObjDesc = lvTvrTypeInfoMgr.TvrTypeObjDesc
		***
		USE IN IIF(USED([lvTvrTypeInfoMgr]),[lvTvrTypeInfoMgr],0)
		*------------------------------------------------------------------------------
		
		*06.04.2004 12:16 -&gt;Çàïóñêàåì ôîðìó äëÿ ðåäàêòèðîâàíèÿ (ïðîñìîòðà) òîâàðà
		luResEditTov = oApp.DoModalFormRetValObj(lcEditObjDesc,lcRequestedOperation,lnTvrID)
		*------------------------------------------------------------------------------		

		*05.04.2004 20:05 -&gt;Âåðíåì ðåçóëüòàò îïåðàöèè
		RETURN luResEditTov
		*------------------------------------------------------------------------------

	*********************************************************************************************************************
	*[TLU] &amp;&amp; [ADD] - äîáàâëåíèå																						*
	*********************************************************************************************************************
	CASE lcEntityName == [TLU] AND lcRequestedOperation == [ADD]

		*12.01.2005 16:46 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 - èäåíòèôèêàòîð øòðèõ-êîäà òîâàðà äëÿ ðåäàêòèðîâàíèÿ/ïðîñìîòðà/óäàëåíèÿ
		*			 èäåíòèôèêàòîð òîâàðà äëÿ äîáàâëåíèÿ ê íåìó èäåíòèôèêàòîðà (øòðèõ-êîäà)
		*------------------------------------------------------------------------------
		
		*14.10.2005 17:03 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
		LOCAL   luResAddingTLU
		*------------------------------------------------------------------------------
		
		*12.01.2005 16:46 -&gt; Âûïîëíèì îïåðàöèþ
		luResAddingTLU = oApp.DoModalFormRetValObj([frmtluadd;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)

		*05.04.2004 20:04 -&gt;Ïðåäëîæèï ïîëüçîâàòåëþ ââåñòè äîïîëíèòåëüíûå àòðèáóòû TLU
		IF 	TYPE([luResAddingTLU])==[N] AND ;
			MESSAGEBOX([Îïðåäåëèòü äîïîëíèòåëüíûå àòðèáóòû ØÊ?],36,[Âîïðîñ...]) = 6
						
			*05.04.2004 20:09 -&gt;Âûïîëíÿåì îïåðàöèþ ðåäàêòèðîâàíèÿ òîâàðà
			This.Do([TLU],[EDIT],luResAddingTLU)
			*------------------------------------------------------------------------------
			
		ENDIF
		*------------------------------------------------------------------------------

		RETURN luResAddingTLU
		*------------------------------------------------------------------------------
	
	*********************************************************************************************************************
	*[TLU] &amp;&amp; ([EDIT] || [INFO] || [DELE]) - äîáàâëåíèå/ðåäàêòèðîâàíèå/ïðîñìîòð/óäàëåíèå èäåíòèôèêàòîðà òîâàðà	*
	*********************************************************************************************************************
	CASE lcEntityName == [TLU] AND ;
			(lcRequestedOperation == [EDIT] OR ;
			 lcRequestedOperation == [INFO] OR ;
			 lcRequestedOperation == [DELE])

		*12.01.2005 16:46 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 - èäåíòèôèêàòîð øòðèõ-êîäà òîâàðà äëÿ ðåäàêòèðîâàíèÿ/ïðîñìîòðà/óäàëåíèÿ
		*			 èäåíòèôèêàòîð òîâàðà äëÿ äîáàâëåíèÿ ê íåìó èäåíòèôèêàòîðà (øòðèõ-êîäà)
		*------------------------------------------------------------------------------

		*12.01.2005 16:46 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmtluedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*******************************************************************************
	*[MSU] &amp;&amp; ([ADD] || [EDIT] || [INFO] || [DELE])								  *				
	*Äîáàâëåíèå/ðåäàêòèðîâàíèå/ïðîñìîòð/óäàëåíèå åäèíèöû èçìåðåíèÿ				  *
	*******************************************************************************
	CASE lcEntityName == [MSU] AND ;
			(lcRequestedOperation == [ADD] OR ;
			 lcRequestedOperation == [EDIT] OR ;
			 lcRequestedOperation == [INFO] OR ;
			 lcRequestedOperation == [DELE])

		*12.01.2005 16:46 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 (optional) - èäåíòèôèêàòîð òèïà äîêóìåíòà äëÿ ðåäàêòèðîâàíèÿ/ïðîñìîòðà/óäàëåíèÿ
		*------------------------------------------------------------------------------

		*12.01.2005 16:46 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmmeasureunitedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------
	
	*********************************************************************************************************************
	*[CURTYPE] &amp;&amp; ([ADD] || [EDIT] || [INFO] || [DELE]) - äîáàâëåíèå/ðåäàêòèðîâàíèå/ïðîñìîòð/óäàëåíèå òèïîâ âàëþò		*
	*********************************************************************************************************************
	CASE lcEntityName == [CURTYPE] AND ;
			(lcRequestedOperation == [ADD] OR ;
			 lcRequestedOperation == [EDIT] OR ;
			 lcRequestedOperation == [INFO] OR ;
			 lcRequestedOperation == [DELE])

		*09.08.2005 18:35 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 (optional) - èäåíòèôèêàòîð òèïà âàëþòû äëÿ ðåäàêòèðîâàíèÿ/ïðîñìîòðà/óäàëåíèÿ
		*------------------------------------------------------------------------------

		*09.08.2005 18:35 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmcurtypeedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*********************************************************************************************************************
	*[PRCTYPE] &amp;&amp; ([ADD] || [EDIT] || [INFO] || [DELE]) - äîáàâëåíèå/ðåäàêòèðîâàíèå/ïðîñìîòð/óäàëåíèå òèïîâ ïðàéñîâ		*
	*********************************************************************************************************************
	CASE lcEntityName == [PRCTYPE] AND ;
			(lcRequestedOperation == [ADD] OR ;
			 lcRequestedOperation == [EDIT] OR ;
			 lcRequestedOperation == [INFO] OR ;
			 lcRequestedOperation == [DELE])

		*09.08.2005 18:20 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 (optional) - èäåíòèôèêàòîð òèïà ïðàéñà äëÿ ðåäàêòèðîâàíèÿ/ïðîñìîòðà/óäàëåíèÿ
		*------------------------------------------------------------------------------

		*09.08.2005 18:19 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmprctypeedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*********************************************************************************************************************
	*[PRICE] &amp;&amp; ([ADD] || [EDIT] || [INFO] || [DELE]) - äîáàâëåíèå/ðåäàêòèðîâàíèå/ïðîñìîòð/óäàëåíèå öåíû òîâàðà			*
	*********************************************************************************************************************
	CASE lcEntityName == [PRICE] AND ;
			(lcRequestedOperation == [ADD] OR ;
			 lcRequestedOperation == [EDIT] OR ;
			 lcRequestedOperation == [INFO] OR ;
			 lcRequestedOperation == [DELE])

		*09.08.2005 16:56 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 - èäåíòèôèêàòîð öåíû äëÿ ðåäàêòèðîâàíèÿ/ïðîñìîòðà/óäàëåíèÿ
		*			 èäåíòèôèêàòîð òîâàðà äëÿ äîáàâëåíèÿ ê íåìó öåíû
		*------------------------------------------------------------------------------

		*09.08.2005 16:57 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmpriceedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*****************************************************************************
	*[TVRSET] &amp;&amp; ([ADD] || [DELE] || [EDIT] || [INFO])							*
	* çàïóñê ôîðìû äëÿ äîáàâëåíèÿ/óäàëåíèÿ/ðåäàêòèðîâàíèÿ/ïðîñìîòðà íàáîðà		*
	*****************************************************************************
	CASE lcEntityName == [TVRSET] AND ;
		(lcRequestedOperation == [ADD] OR ;
		 lcRequestedOperation == [DELE] OR ;
		 lcRequestedOperation == [EDIT] OR ;
		 lcRequestedOperation == [INFO])

		*26.07.2005 17:38 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmtvrsetedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*****************************************************************************
	*[TVRSETTLUTYPE] &amp;&amp; ([ADD] || [DELE])										*
	* çàïóñê ôîðìû äëÿ äîáàâëåíèÿ/óäàëåíèÿ ïðèâÿçîê ê òèïàì èäåíòèôèêàòîðîâ		*
	*****************************************************************************
	CASE lcEntityName == [TVRSETTLUTYPE] AND ;
		(lcRequestedOperation == [ADD] OR ;
		 lcRequestedOperation == [DELE])

		*26.07.2005 17:38 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmtvrsettlutypeedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*****************************************************************************
	*[TVRSETTVRTYPE] &amp;&amp; ([ADD] || [DELE])										*
	* çàïóñê ôîðìû äëÿ äîáàâëåíèÿ/óäàëåíèÿ ïðèâÿçîê ê òèïàì òîâàðîâ				*
	*****************************************************************************
	CASE lcEntityName == [TVRSETTVRTYPE] AND ;
		(lcRequestedOperation == [ADD] OR ;
		 lcRequestedOperation == [DELE])

		*26.07.2005 17:38 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmtvrsettvrtypeedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*********************************************************************************
	*[TVR] &amp;&amp; [FIND] - çàïóñê ôîðìû äëÿ ïîèñêà òîâàðîâ								*
	*********************************************************************************
	CASE lcEntityName == [TVR] AND lcRequestedOperation == [FIND]

		*19.08.2005 17:32 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.ExecuteScrFormByObjDescRetVal([frmTvrFind;Tovar_v1.vcx;Tovar.app])
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*********************************************************************************
	*[TVRLBL] &amp;&amp; [PRINT] - çàïóñê ôîðìû äëÿ ïå÷àòè öåííèêîâ è ýòèêåòîê				*
	*********************************************************************************
	CASE lcEntityName == [TVRLBL] AND lcRequestedOperation == [PRINT]
	
		*21.06.2005 18:10 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 (optional) - èäåíòèôèêàòîð òîâàðà
		*------------------------------------------------------------------------------

		*19.08.2005 17:49 -&gt; Âûïîëíèì îïåðàöèþ
		oApp.ExecuteScrFormByObjDesc([frmTvrLblPrint;Tovar_v1.vcx;Tovar.app],tuParam1)
		*------------------------------------------------------------------------------	

	*********************************************************************************
	*[TVR] &amp;&amp; [TVRACC] - çàïóñê ôîðìû äâèæåíèÿ òîâàðà								*
	*********************************************************************************
	CASE lcEntityName == [TVR] AND lcRequestedOperation == [TVRACC]

		*19.08.2005 17:32 -&gt; Âûïîëíèì îïåðàöèþ
		oApp.ExecuteScrFormByObjDesc([frmTvrAcc;Tovar_v1.vcx;Tovar.app],tuParam1)
		*------------------------------------------------------------------------------

	*********************************************************************************
	*[TVRACC] &amp;&amp; [PRNREP] - ïå÷àòü îò÷åòà î äâèæåíèè òîâàðà							*
	*********************************************************************************
	CASE lcEntityName == [TVRACC] AND lcRequestedOperation == [PRNREP]

		*19.08.2005 17:32 -&gt; Âûïîëíèì îïåðàöèþ
		This.Scrfrm_Prnrep_Ligth(tuParam1)
		*------------------------------------------------------------------------------

	*********************************************************************************
	*[TVR] &amp;&amp; [TVRSTOCK] - çàïóñê ôîðìû îñòàòêîâ òîâàðà								*
	*********************************************************************************
	CASE lcEntityName == [TVR] AND lcRequestedOperation == [TVRSTOCK]

		*19.08.2005 17:32 -&gt; Âûïîëíèì îïåðàöèþ
		oApp.ExecuteScrFormByObjDesc([frmTvrStock;Tovar_v1.vcx;Tovar.app],tuParam1)
		*------------------------------------------------------------------------------

	*********************************************************************************
	*[TVR] &amp;&amp; [TVRDSC] - óñòàíîâêà ñêèäêè íà òîâàð									*
	*********************************************************************************
	CASE lcEntityName == [TVR] AND lcRequestedOperation == [TVRDSC]

		*19.08.2005 17:32 -&gt; Âûïîëíèì îïåðàöèþ
		oApp.DoModalFormRetValObj([frmTvrDiscEdit;Tovar_v1.vcx;Tovar.app],tuParam1,tuParam2)
		*------------------------------------------------------------------------------

	*****************************************************************************
	*[TVR] &amp;&amp; [PRNREP] - ïå÷àòü îò÷¸òà ñ ýêðàííîé ôîðìû							*
	*****************************************************************************
	CASE lcEntityName == [TVR] AND lcRequestedOperation == [PRNREP]

		*21.06.2005 18:10 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 (required) - èäåíòèôèêàòîð ýêðàííîé ôîðìû
		* tuParam2 (required) - èäåíòèôèêàòîð ãðóïïû òîâàðîâ
		*------------------------------------------------------------------------------

		*21.06.2005 18:10 -&gt; Âûïîëíèì îïåðàöèþ
		This.ScrFrm_PrnRep(tuParam1,tuParam2)
		*------------------------------------------------------------------------------	

	*********************************************************************************************************************
	*[PLUINDPT] &amp;&amp; ([ADD] || [EDIT] || [INFO] || [DELE]) - äîáàâëåíèå/ðåäàêòèðîâàíèå/ïðîñìîòð/óäàëåíèå ïðèâÿçêè TLU ê	*
	*															îòäåëó ìàãàçèíà											*
	*********************************************************************************************************************
	CASE lcEntityName == [TLUINDPT] AND ;
			(lcRequestedOperation == [ADD] OR ;
			 lcRequestedOperation == [EDIT] OR ;
			 lcRequestedOperation == [INFO] OR ;
			 lcRequestedOperation == [DELE])

		*09.08.2005 16:56 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 - èäåíòèôèêàòîðTLU äëÿ ïðèâÿçêè TLU ê îòäåëó ìàãàçèíà							
		*------------------------------------------------------------------------------
		
		*09.08.2005 16:57 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmtluindptedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*********************************************************************************************************************
	*[PLUINDPT] &amp;&amp; ([ADD] || [EDIT] || [INFO] || [DELE]) - äîáàâëåíèå/ðåäàêòèðîâàíèå/ïðîñìîòð/óäàëåíèå ïðèâÿçêè TLU ê	*
	*															îòäåëó ìàãàçèíà											*
	*********************************************************************************************************************
	CASE lcEntityName == [TLUINDPT] AND ;
			(lcRequestedOperation == [ADD] OR ;
			 lcRequestedOperation == [EDIT] OR ;
			 lcRequestedOperation == [INFO] OR ;
			 lcRequestedOperation == [DELE])

		*09.08.2005 16:56 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 - èäåíòèôèêàòîðTLU äëÿ ïðèâÿçêè TLU ê îòäåëó ìàãàçèíà							
		*------------------------------------------------------------------------------
		
		*09.08.2005 16:57 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmtluindptedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*********************************************************************************************************************
	*[ACC] &amp;&amp; ([EDIT] || [INFO] || [DELE]) - äîáàâëåíèå/ðåäàêòèðîâàíèå/ïðîñìîòð/óäàëåíèå èäåíòèôèêàòîðà òîâàðà	*
	*********************************************************************************************************************
	CASE lcEntityName == [ACC] AND ;
			(lcRequestedOperation == [ADD] OR ;
			 lcRequestedOperation == [EDIT] OR ;
			 lcRequestedOperation == [INFO] OR ;
			 lcRequestedOperation == [DELE])

		*12.01.2005 16:46 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ
		* tuParam1 - èäåíòèôèêàòîð øòðèõ-êîäà òîâàðà äëÿ ðåäàêòèðîâàíèÿ/ïðîñìîòðà/óäàëåíèÿ
		*			 èäåíòèôèêàòîð òîâàðà äëÿ äîáàâëåíèÿ ê íåìó èäåíòèôèêàòîðà (øòðèõ-êîäà)
		*------------------------------------------------------------------------------

		*12.01.2005 16:46 -&gt; Âûïîëíèì îïåðàöèþ
		luOperateResult = oApp.DoModalFormRetValObj([frmAccEdit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*********************************************************************************************************************
	CASE lcEntityName == [ACN] AND ;
			(lcRequestedOperation == [EDIT])
		*------------------------------------------------------------------------------
		* Âûâîäèì èíôîðìàöèþ î êàëüêóëÿöèè

		*12.01.2005 16:46 -&gt; Âûïîëíèì îïåðàöèþ
		LOCAL liFrmId
		_Param = tuParam1
		USE Basis!lvAccRetFrm IN 0
		liFrmId = lvAccRetFrm.AccFrmID
		USE IN lvAccRetFrm
		IF USED('Accounting')
		   USE IN Accounting
		ENDIF
		luOperateResult = oApp.DoModalFormRetValObj([frmAccountingEdit;primarydoc_v1.vcx;primarydoc.app],lcRequestedOperation,liFrmId )
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	*****************************************************************************
	*[TVRCONSTRAINT] &amp;&amp; [VIEW]													*
	*	Çàïóñê ôîðìû äëÿ ðàáîòû c îãðàíè÷åíèÿìè òîâàðíîãî àññîðòèìåíòà			*
	*****************************************************************************
	CASE lcEntityName == [TVRCONSTRAINT] AND lcRequestedOperation == [VIEW]

		*05.04.2004 20:07 -&gt;Çàïóñòèì ôîðìó
		oApp.ExecuteScrFormByObjDesc([frmtvrconstraintview;tovar_v1.vcx;tovar.app])
		*------------------------------------------------------------------------------
		
		*05.04.2004 20:07 -&gt;Âåðíåì ôëàã óñïåøíîñòè îïåðàöèè
		RETURN .T.
		*------------------------------------------------------------------------------

	*****************************************************************************
	*[TVRCONSTRAINT] &amp;&amp; ([ADD] || [EDIT] || [INFO] || [DELE])					*
	*	Äîáàâëåíèå/Ðåäàêòðîâàíèå/ïðîñìîòð/óäàëåíèå								*
	*	îãðàíè÷åíèé òîâàðíîãî àññîðòèìåíòà										*
	*****************************************************************************
	CASE lcEntityName == [TVRCONSTRAINT] AND ;
			(lcRequestedOperation == [ADD] OR ;
			 lcRequestedOperation == [EDIT] OR ;
			 lcRequestedOperation == [INFO] OR ;
			 lcRequestedOperation == [DELE])

		*05.04.2004 20:08 -&gt; Ñïèñîê äîïîëíèòåëüíûõ ïàðàìåòðîâ äëÿ ýòîé îïåðàöèè
		* tuParam1 (optional) - èäåíòèôèêàòîð òîâàðà äëÿ ðåäàêòèðîâàíèÿ/ïðîñìîòðà/óäàëåíèÿ îãðàíè÷åíèé
		*------------------------------------------------------------------------------

		*14.06.2006 13:48 -&gt; Âûáîð òîâàðà
*!*			IF TYPE([tuParam1]) # [N]
*!*				tuParam1 = oApp.DoModalFormRetValObj([frmtvrselect;tovar_v1.vcx;tovar.app])
*!*			ENDIF
		*------------------------------------------------------------------------------

		*06.04.2004 12:16 -&gt; Çàïóñêàåì ôîðìó äëÿ ðåäàêòèðîâàíèÿ (ïðîñìîòðà) òîâàðà
*		IF TYPE([tuParam1]) == [N]
			luOperateResult = oApp.DoModalFormRetValObj([frmtvrconstraintedit;tovar_v1.vcx;tovar.app],lcRequestedOperation,tuParam1)
*		ELSE
*			luOperateResult = .F.
*		ENDIF
		*------------------------------------------------------------------------------		

		*05.04.2004 20:05 -&gt; Âåðíåì ðåçóëüòàò îïåðàöèè
		RETURN luOperateResult
		*------------------------------------------------------------------------------

	OTHERWISE
	
		*19.05.2004 21:59 -&gt;Âûâåäåì ñîîáùåíèå îá îøèáêå
		MESSAGEBOX( ;
			[Ê ñîæàëåíèþ çàïðîøåííàÿ Âàìè îïåðàöèÿ íå ìîæåò áûòü âûïîëíåíà.]+CHR(13)+ ;
			[Äàííîå ñîîáùåíèå ìîæåò áûòü âûçâàíî ñëåäóþùèìè ïðè÷èíàìè:]+CHR(13)+ ;
			[1. Â äàííîé âåðñèè ïðîãðàìíîãî ïðîäóêòà äàííàÿ ôóíêöèîíàëüíîñòü íå ðåàëèçîâàíà;]+CHR(13)+ ;
			[2. Ïðîèçîøåë ïðîãðàììíûé ñáîé.],64,[Íå âûïîëíåíî...])
		*------------------------------------------------------------------------------
	
ENDCASE
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************	
ENDPROC
PROCEDURE scrfrm_prnrep
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: Interface.ScrFrm_PrnRep
* Called by.......: &lt;.Do()&gt;
* Parameters......: &lt;tnScrFrmID&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàïóñê ôîðìû äëÿ ïå÷àòè îò÷¸òîâ
*-------------------------------------------------------
LPARAMETERS	tnScrFrmID, tnTvrGrpID

*06.05.2005 15:41 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	laParams[3,3]
***
laParams[1,1] = [ScrFrmID]
laParams[1,2] = tnScrFrmID
laParams[1,3] = .T.
***
laParams[2,1] = [qplTvrGrpEnabled]
laParams[2,2] = .T.
laParams[2,3] = .F.
***
laParams[3,1] = [qpnTvrGrpID]
laParams[3,2] = tnTvrGrpID
laParams[3,3] = .F.
*------------------------------------------------------------------------------

*21.05.2004 22:43 -&gt; Âûïîëíÿåì ïå÷àòü äîêóìåíòà
oApp.DoModalFormRetValObj([frmsmartprint;print_v1.vcx],@laParams)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE scrfrm_prnrep_ligth
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: TovarSet_v1.vcx
* Class.Module....: Interface.ScrFrm_PrnRep_Ligth
* Called by.......: &lt;.Do()&gt;
* Parameters......: &lt;tnScrFrmID&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàïóñê ôîðìû äëÿ ïå÷àòè îò÷¸òîâ
*-------------------------------------------------------
LPARAMETERS	tnScrFrmID

*06.05.2005 15:41 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	laParams[1,3]
***
laParams[1,1] = [ScrFrmID]
laParams[1,2] = tnScrFrmID
laParams[1,3] = .T.
*------------------------------------------------------------------------------

*21.05.2004 22:43 -&gt;Âûïîëíÿåì ïå÷àòü äîêóìåíòà
oApp.DoModalFormRetValObj([frmlightprint;print_v1.vcx],@laParams)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>1</reserved2>
		<reserved3>*do 
*scrfrm_prnrep 
*scrfrm_prnrep_ligth 
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Ìåíåäæåð áèáëèîòåêè òîâàð.</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>interface</objname>
		<parent/>
		<properties/>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>930573680</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtluedit</objname>
		<parent/>
		<properties>Height = 300
Width = 390
DoCreate = .T.
Caption = "Èäåíòèôèêàòîð òîâàðà"
Icon = ..\graphic\frmqryparedit.ico
crequestedoperation = 
_standarttoolbar = tlbStandart;basetoolbar_v1.vcx
Name = "frmtluedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Top = 0
CSTRESIZABLE.Left = 24
CSTRESIZABLE.Name = "CSTRESIZABLE"
CSTDATAWORK.Top = 0
CSTDATAWORK.Left = 48
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTLUEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*-------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*02.04.2004 16:51 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*02.04.2004 16:51 -&gt;Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK]

	*07.07.2004 17:29 -&gt;Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*07.07.2004 17:35 -&gt;Óäàëèì çàïèñü
		DELETE IN lvTLUEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*07.07.2004 12:09 -&gt;Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå î ïàðàìåòðå âûáîðêè
		llDataWasChanged = .cstDataWork.DataChanged([lvTLUEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*02.04.2004 16:51 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ ïàðàìåòðà âûáîðêè
	IF llDataWasChanged
		
		*02.04.2004 16:59 -&gt;Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTLUEdit])
		*------------------------------------------------------------------------------
		
		*02.04.2004 17:00 -&gt;Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTLUEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTLUEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

	*04.04.2005 11:57 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*08.07.2004 15:23 -&gt;Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvTLUEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*04.07.2005 18:02 -&gt;Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*13.01.2005 14:38 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTLUEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*13.01.2005 14:37 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTLUEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation,tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*-------------------------------------------------------
LPARAMETERS	tcRequestedOperation,tuParam1

*14.10.2005 15:14 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL   lnTluID, ;
		lnStoragePlaceRel
*------------------------------------------------------------------------------

*12.05.2004 00:34 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*12.05.2004 00:30 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*07.07.2004 17:25 -&gt; Ñîõðàíèì îïåðàöèþ
.cRequestedOperation = tcRequestedOperation
*------------------------------------------------------------------------------

*12.05.2004 00:33 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation == [ADD]
			
		*12.05.2004 00:32 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvTLUEdit
		APPEND BLANK IN lvTLUEdit
		*------------------------------------------------------------------------------

		*04.04.2005 11:11 -&gt; Ïîäñòàâèì ïåðåäàííûé èäåíòèôèêàòîð òîâàðà
		SELECT lvTLUEdit
		REPLACE TvrID WITH tuParam1
		*------------------------------------------------------------------------------
		
		*28.04.2004 12:17 -&gt; Ïåðåéäåì ê òåêóùåìó òèïó èäåíòèôèêàòîðà (øòðèõ-êîäà) è ïðîèçâåä¸ì ñîîòâåòñòâóþùèå èçìåíåíèÿ
		SELECT lvTLUTypeList
		LOCATE FOR IsDefault
		***
		.cntIdCtlTreeTLUType.SetValue(lvTLUTypeList.TLUTypeID)
		*------------------------------------------------------------------------------
		
		lnTluID = spGetLastIncrementedID([lvTLUEdit])
		
	CASE INLIST(.cRequestedOperation,[EDIT],[INFO],[DELE])
		
		*12.05.2004 00:31 -&gt; Çàãðóçèì äàííûå â lvTLUEdit
		_PARAM = tuParam1
		REQUERY([lvTLUEdit])
		*------------------------------------------------------------------------------
		
		lnTluID = lvTLUEdit.TLUID
		
ENDCASE
*------------------------------------------------------------------------------

*01.04.2004 19:11 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = ALLTRIM(.Caption)+[ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])
	CASE .cRequestedOperation == [EDIT]
		.Caption = ALLTRIM(.Caption)+[ - Ðåäàêòèðîâàíèå]
		.Icon = FULLPATH([frmedit.ico])
	CASE .cRequestedOperation == [INFO]
		.Caption = ALLTRIM(.Caption)+[ - Ïðîñìîòð]
		.Icon = FULLPATH([frminfo.ico])
		.cntCancelSaveHandled.cmdOk.Enabled = .F.
	CASE .cRequestedOperation == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
***

*14.11.2005 10:58 -&gt;Óçíàåì ñïîñîá ïðèâÿçêè ìåñòà õðàíåíèÿ
lnStoragePlaceRel = VAL(oRes.GetParam([TOVAR],[STORAGEPLACE]))
*----------------------------------------------------------------------------

*14.11.2005 11:01 -&gt;Åñëè ìåñòî õðàíåíèÿ ïðèâÿçàíî ê êàññå óáåðåì Grid äëÿ ïðèâÿçêè ìåñòà õðàíåíèÿ ê ØÊ
IF lnStoragePlaceRel = 1

	*15.11.2005 13:37 -&gt;Óáåðåì Grid äëÿ ïðèâÿçêè ØÊ ê ìåñòó õðàíåíèÿ
	.grdTluInDpt.Visible = .F.
	.grdTluInDpt.Enabled = .F.
	
	*15.11.2005 13:39 -&gt;Äîíàñòðîèì âíåøíèé âèä ôîðìû
	.lblTLUComment.Top = .lblTLUComment.Top - .grdTluInDpt.Height - 5
	.edtTLUComment.Top = .edtTLUComment.Top - .grdTluInDpt.Height - 5
	.cntCancelSaveHandled.Top = .cntCancelSaveHandled.Top - .grdTluInDpt.Height - 5
	***
	.MinHeight = .MinHeight - .grdTluInDpt.Height - 5
	.Height = .MinHeight
	*------------------------------------------------------------------------------
	
ELSE

	*13.10.2005 11:40 -&gt;Îáíîâèì äàííûå ïðèâÿçêè TLU ê îòäåëó ìàãàçèíà
	.grdTluInDpt._RSRequery(lnTluID)
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*24.08.2005 13:52 -&gt; Çàáëîêèðóåì ïîëå Îñíîâíîé, åñëè îñíîâíîé ØÊ óæå ñóùåñòâóåò
IF !lvTLUEdit.TLUIsMain
	.ñhkTluIsMain.Enabled = !_spMainMarked([TvrLookUp],[TLUIsMain],[TvrID],lvTLUEdit.TvrID)
ENDIF
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTLUEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìà (îòêðûòèå ñïðàâî÷íèêîâ è Alias-îâ äëÿ ðåäàêòèðîâàíèÿ)
*-------------------------------------------------------

*13.01.2005 17:32 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*13.01.2005 17:32 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*13.01.2004 20:01 -&gt;Îòêðûâàåì ñïðàâî÷íèêè
USE lvTLUTypeList IN 0
USE lvTovarList IN 0
*------------------------------------------------------------------------------

*12.01.2005 18:46 -&gt; Îòêðûâàåì Alias'û äëÿ ðåäàêòèðîâàíèÿ (ïóñòûå)
USE lvTLUEdit IN 0 NODATA
USE lvTLUInStorageDepartView IN 0 NODATA
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Resize
NODEFAULT
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>16</reserved2>
		<reserved3>crequestedoperation &lt;public/runtime&gt; Îïåðàöèÿ, êîòîðóþ äîëæåí âûïîëíèòü äàííûé îáúåêò.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1820OF9KN</uniqueid>
		<timestamp>0</timestamp>
		<class>tovarlookup</class>
		<classloc>tovarlookup_v1.vcx</classloc>
		<baseclass>custom</baseclass>
		<objname>TovarLookUp</objname>
		<parent>frmtluedit</parent>
		<properties>Top = 0
Left = 72
Name = "TovarLookUp"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>930573680</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTovar</objname>
		<parent>frmtluedit</parent>
		<properties>FontBold = .T.
Caption = "Òîâàð:"
Left = 5
Top = 8
ZOrderSet = 4
Name = "lblTovar"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I61255SR</uniqueid>
		<timestamp>930573680</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTovar</objname>
		<parent>frmtluedit</parent>
		<properties>Top = 5
Left = 135
Enabled = .F.
ZOrderSet = 5
_controlsource = lvTLUEdit.TvrID
_controlsourcetype = 1
_rsaliasname = lvTovarList
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
Name = "cntIdCtlTreeTovar"
txtText.Enabled = .F.
txtText._highlightobject = .Parent.Parent.lblTovar
txtText.Name = "txtText"
cmdShow.Enabled = .F.
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1BE4FO</uniqueid>
		<timestamp>930573680</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTLUType</objname>
		<parent>frmtluedit</parent>
		<properties>FontBold = .T.
Caption = "Òèï èäåíòèôèêàòîðà:"
Left = 5
Top = 36
ZOrderSet = 6
Name = "lblTLUType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1B4NYC</uniqueid>
		<timestamp>930573680</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTLUType</objname>
		<parent>frmtluedit</parent>
		<properties>Top = 33
Left = 135
ZOrderSet = 7
_controlsource = lvTLUEdit.TLUTypeID
_controlsourcetype = 1
_rsaliasname = lvTLUTypeList
_rsfieldnameid = TLUTypeID
_rsfieldnametext = TLUTypeNM
Name = "cntIdCtlTreeTLUType"
txtText._highlightobject = .Parent.Parent.lblTLUType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods>PROCEDURE _handleanychange
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cntIdCtlTreeTLUType._HandleAnyChange
* Called by.......: &lt;~&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*-------------------------------------------------------
WITH ThisForm

*27.04.2005 16:48 -&gt; Åñëè ñòîèò ôëàã "Ãåíåðàöèÿ èäåíòèôèêàòîðà" ãåíåðèðóåì åãî, èíà÷å î÷èùàåì ïîëå èäåíòèôèêàòîðà
IF lvTLUTypeList.TLUTypeIsGenerate
	
	*27.04.2005 16:52 -&gt; Ãåíåðèðóåì èäåíòèôèêàòîð, èñïîëüçóÿ ìàñêó
*	.cntTxtCalcLenTLU.txtText.Value = .TovarLookUp.Generate(lvTLUTypeList.TLUTypeMask,lvTLUEdit.TvrID,lvTLUEdit.TvrQnt)
	.cntTxtCalcLenTLU.txtText.Value = oTLU.Generate(lvTLUTypeList.TLUTypeMask,lvTLUEdit.TvrID,lvTLUEdit.TvrQnt)
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _refreshrelatedobjects
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cntIdCtlTreeTLUType._HandleAnyChange
* Called by.......: &lt;~&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*-------------------------------------------------------

*27.04.2005 16:52 -&gt; Äåëàåì ïîëå èäåíòèôèêàòîðà íåàêòèâíûì
This.parent.cntTxtCalcLenTLU.SetEnabled(!lvTLUTypeList.TLUTypeIsGenerate)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I60ZXFI6</uniqueid>
		<timestamp>930573680</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTLU</objname>
		<parent>frmtluedit</parent>
		<properties>FontBold = .T.
Caption = "Èäåíòèôèêàòîð:"
Left = 5
Top = 64
ZOrderSet = 8
Name = "lblTLU"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I60ZXFI4</uniqueid>
		<timestamp>930573680</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenTLU</objname>
		<parent>frmtluedit</parent>
		<properties>Top = 61
Left = 135
ZOrderSet = 9
Name = "cntTxtCalcLenTLU"
txtText.ControlSource = "lvTLUEdit.TLU"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblTLU
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods>PROCEDURE txtText.Valid
IF LEN(ALLTRIM(this.Value)) &gt;13
MESSAGEBOX('Äëèíà èäåíòèôôèêàòîðà áîëüøå 13 ñèìâîëîâ.'+CHR(13)+'Ïðîâåðòå ïðàâèëüíîñòü.',0+16,'Ïðåäóïðåæäåíèå')
ENDIF
IF LEN(ALLTRIM(STR(VAL(this.Value),20,0))) &lt;&gt;LEN(ALLTRIM(this.Value))
MESSAGEBOX('Îáíàðóæåíû ïîñòîðîííèå ñèìâîëû.'+CHR(13)+'Ïðîâåðòå ïðàâèëüíîñòü.',0+16,'Ïðåäóïðåæäåíèå')
ENDIF

ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1IA0L9L0Y</uniqueid>
		<timestamp>930573680</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrQnt</objname>
		<parent>frmtluedit</parent>
		<properties>FontBold = .T.
Caption = "Êîëè÷åñòâî òîâàðà:"
Left = 5
Top = 92
ZOrderSet = 10
Name = "lblTvrQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1IA0L9L0Z</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrQnt</objname>
		<parent>frmtluedit</parent>
		<properties>ControlSource = "lvTLUEdit.TvrQnt"
Height = 23
Left = 135
Top = 89
Width = 100
ZOrderSet = 11
_highlightobject = .Parent.lblTvrQnt
Name = "txtTvrQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1LI13ZXGD</uniqueid>
		<timestamp>930573680</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>ñhkTluIsMain</objname>
		<parent>frmtluedit</parent>
		<properties>Top = 92
Left = 240
FontBold = .T.
Alignment = 0
Caption = "Îñíîâíîé"
ControlSource = "lvTLUEdit.TluIsMain"
ZOrderSet = 12
textchange = .F.
Name = "ñhkTluIsMain"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1NU0QX5HP</uniqueid>
		<timestamp>0</timestamp>
		<class>grdtluindpt</class>
		<classloc>tovar_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTluInDpt</objname>
		<parent>frmtluedit</parent>
		<properties>Left = 5
Top = 117
ZOrderSet = 13
Name = "grdTluInDpt"
Column1.Header1.Name = "Header1"
Column1.Txtgrd1.Name = "Txtgrd1"
Column1.Name = "Column1"
Column2.Header1.Name = "Header1"
Column2.Txtgrd1.Name = "Txtgrd1"
Column2.Name = "Column2"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I60ZXFII</uniqueid>
		<timestamp>930573680</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTLUComment</objname>
		<parent>frmtluedit</parent>
		<properties>FontBold = .T.
Caption = "Ïðèìå÷àíèå:"
Left = 5
Top = 219
ZOrderSet = 14
Name = "lblTLUComment"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I60ZXFIJ</uniqueid>
		<timestamp>0</timestamp>
		<class>edt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>editbox</baseclass>
		<objname>edtTLUComment</objname>
		<parent>frmtluedit</parent>
		<properties>Height = 53
Left = 135
Top = 216
Width = 251
ZOrderSet = 15
ControlSource = "lvTLUEdit.TLUComment"
IntegralHeight = .T.
_highlightobject = .Parent.lblTLUComment
Name = "edtTLUComment"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HF0Z6S64</uniqueid>
		<timestamp>930573680</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtluedit</parent>
		<properties>Top = 275
Left = 180
ZOrderSet = 16
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_28G0TF1V6</uniqueid>
		<timestamp>930573680</timestamp>
		<class>olecommscanner</class>
		<classloc>olecomm.vcx</classloc>
		<baseclass>olecontrol</baseclass>
		<objname>Olecommscanner1</objname>
		<parent>frmtluedit</parent>
		<properties>Top = 252
Left = 60
Height = 48
Width = 58
cbindobj = thisform.cnmbytlu
Name = "Olecommscanner1"
</properties>
		<protected/>
		<methods>PROCEDURE OnComm
*** ActiveX Control Event ***

*28.04.2006 11:24 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcObjectNM, ;
		lcMsg
*------------------------------------------------------------------------------

WITH This

*12.05.2006 09:36 -&gt;×èòàåì êîä
lcMsg = ._Read()
*------------------------------------------------------------------------------
IF NOT EMPTY(lcMsg)
	*12.05.2006 09:40 -&gt;Ïîêàçûâàåì ïîëó÷åííûé êîä
	thisform.cntTxtCalcLenTLU.txtText.Value = []
	thisform.cntTxtCalcLenTLU.Refresh()
		
	thisform.cntTxtCalcLenTLU.txtText.Value = lcMsg
	thisform.cntTxtCalcLenTLU.Refresh()
	thisform.cntTxtCalcLenTLU.SetFocus()
	*------------------------------------------------------------------------------
	KEYBOARD '{ENTER}'
ENDIF
ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************

ENDPROC
</methods>
		<objcode/>
		<ole>0M8R4KGxGuEAAAAAAAAAAAAAAAAAAAAAPgADAP7/CQAGAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAEAAAAgAAAAEAAAD+////AAAAAAAAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9/////v////7////+/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////1IAbwBvAHQAIABFAG4AdAByAHkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAUA//////////8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFDO1+ysLcgBAwAAAMABAAAAAAAAAwBPAGwAZQBPAGIAagBlAGMAdABEAGEAdABhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4AAgEDAAAAAgAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAADAEEAYwBjAGUAcwBzAE8AYgBqAFMAaQB0AGUARABhAHQAYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJgACAP///////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABLAAAAAAAAAAMAQwBoAGEAbgBnAGUAZABQAHIAbwBwAHMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAIA////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAKsAAAAAAAAABAAAAAIAAAD+////BQAAAP7///8GAAAA/v////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AVopkbiwbEIK2AAAAAAAUIUM0EggAAADtAwAA7QMAAAFWimQAAAYAAAABAAAEAAAAAgEAgCUAAAAACAAAAAAASwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDb3B5cmlnaHQgKGMpIDE5OTQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAACADAAAAEhhbmRzaGFraW5nAAkAAABJCgAAAAEAAAALAAAAUlRocmVzaG9sZAAJAAAASQoAAAABAAAACgAAAQAAAD8AAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABSVFNFbmFibGUABQAAAEwBAAAACQAAAFNldHRpbmdzABMAAABIAAAAAAoAAAA5NjAwLG4sOCwxCwAAAFNUaHJlc2hvbGQACQAAAEkKAAAAAAAAAAoAAABFT0ZFbmFibGUABQAAAEwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==</ole>
		<ole2>OLEObject = C:\WINDOWS\system32\mscomm32.ocx
</ole2>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtluedit</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
Arial, 1, 9, 6, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S70JZQ16</uniqueid>
		<timestamp>948208924</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrsetedittree</objname>
		<parent/>
		<properties>Height = 90
Width = 350
DoCreate = .T.
Caption = "Ðåäàêòèðîâàíèå íàáîðà òîâàðîâ(äåðåâî)"
crequestedoperation = 
Name = "frmtvrsetedittree"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
Img1.Name = "Img1"
cstdatawork.Name = "cstdatawork"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetEditTree._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*19.04.2006 09:33 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------
*19.04.2006 09:33 -&gt;Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK] AND !ISNULL(lvTvrInSetEdit.TvrId) AND lvTvrInSetEdit.TvrId&lt;&gt;0

	*19.04.2006 09:33 -&gt;Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå
	
	llDataWasChanged = .cstDataWork.DataChanged([lvTvrInSetEdit],.T.)
	*------------------------------------------------------------------------------
		
	*19.04.2006 09:33 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ
	IF llDataWasChanged
		
		*19.04.2006 09:33 -&gt;Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrInSetEdit])
		*------------------------------------------------------------------------------
		
		*19.04.2006 09:33 -&gt;Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrInSetEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*19.04.2006 09:33 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrInSetEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

	*19.04.2006 09:34 -&gt;Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*19.04.2006 09:34 -&gt;Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvTvrInSetEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*19.04.2006 09:34 -&gt;Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*19.04.2006 09:34 -&gt;Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*19.04.2006 09:34 -&gt; Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrInSetEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*19.04.2006 09:34 -&gt;Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: FRMTVRSETEDITTREE.INIT
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tnTvrSetID&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------
LPARAMETERS   tnTvrSetID

*19.04.2006 09:27 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL   _PARAM
***
_PARAM = tnTvrSetID
*------------------------------------------------------------------------------

*19.04.2006 09:28 -&gt;Ïîëó÷èì äàííûå î íàáîðå òîâàðîâ
REQUERY([lvTvrSetById])
*------------------------------------------------------------------------------

*19.04.2006 09:29 -&gt;Îáíîâèì LV äëÿ ðåäàêòèðîâàíèÿ
REQUERY([lvTvrInSetEdit])
*------------------------------------------------------------------------------

*19.04.2006 09:29 -&gt;Ïðîâåðèì åñòü ëè ýëåìåíòû â íàáîðå òîâàðîâ
IF RECCOUNT([lvTvrInSetEdit]) = 0
	APPEND BLANK IN lvTvrInSetEdit
	REPLACE lvTvrInSetEdit.TvrSetID WITH tnTvrSetID
	This.cRequestedOperation = [ADD]
ELSE
	This.cntIdCtlTreeTvrSet.SetValue(lvTvrInSetEdit.TvrID)
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetEditTree.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

*19.04.2006 10:23 -&gt;Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS
*------------------------------------------------------------------------------

*19.04.2006 09:23 -&gt;Îòêðîåì LV äëÿ ðåäàêòèðîâàíèÿ íàáîðà òîâàðîâ
USE lvTvrInSetEdit IN 0 NODATA
*------------------------------------------------------------------------------

*19.04.2006 09:25 -&gt;Îòêðîåì LV ñ èíôîðìàöèåé î íàáîðå òîâàðîâ
USE lvTvrSetById IN 0 NODATA
*------------------------------------------------------------------------------

*19.04.2006 10:38 -&gt;Îòêðîåì ñïðàâî÷íèêè
USE lvTvrCntTreeView IN 0
USE lvTvrBmps IN 0
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>6</reserved2>
		<reserved3>crequestedoperation
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>948208924</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl1</objname>
		<parent>frmtvrsetedittree</parent>
		<properties>FontBold = .T.
Caption = "Íàáîð òîâàðîâ:"
Left = 5
Top = 8
Name = "Lbl1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S70KPF4G</uniqueid>
		<timestamp>948208924</timestamp>
		<class>cntidctltree</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTvrSet</objname>
		<parent>frmtvrsetedittree</parent>
		<properties>Top = 33
Left = 98
Width = 250
ToolTipText = "33"
_selectobject = frmidctltreetovar;tovar_v1.vcx
_controlsourcetype = 1
_controlsource = lvTvrInSetEdit.TvrID
_rsaliasname = lvTvrCntTreeView
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
Name = "cntIdCtlTreeTvrSet"
txtText._highlightobject = This.parent.parent.lblRoot
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
</properties>
		<protected/>
		<methods>PROCEDURE cmdClear.Click
This.Parent.cmdShow.Enabled = .T.
THIS.PARENT.SetValue(0)

*25.04.2006 11:12 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
**DODEFAULT()
*------------------------------------------------------------------------------
ENDPROC
PROCEDURE Init
This.cmdShow.Enabled = (This.Value = 0)
ENDPROC
PROCEDURE setvalue
LPARAMETERS	tnNewValue

*25.04.2006 11:09 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT(tnNewValue)
*------------------------------------------------------------------------------

This.cmdShow.Enabled = (This.Value = 0)
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S70KPF4K</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrSetNM</objname>
		<parent>frmtvrsetedittree</parent>
		<properties>ControlSource = "lvTvrSetById.TvrSetNM"
Enabled = .F.
Left = 95
Top = 5
Width = 250
DisabledForeColor = 0,0,0
Name = "txtTvrSetNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S70KYL2Z</uniqueid>
		<timestamp>948208924</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvrsetedittree</parent>
		<properties>Top = 61
Left = 143
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S70KYL32</uniqueid>
		<timestamp>948208924</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblRoot</objname>
		<parent>frmtvrsetedittree</parent>
		<properties>FontBold = .T.
Caption = "Êîðåíü:"
Left = 5
Top = 36
Name = "lblRoot"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrsetedittree</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70LIXJP</uniqueid>
		<timestamp>954373889</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdplu</objname>
		<parent/>
		<properties>ColumnCount = 3
DeleteMark = .F.
Height = 100
Panel = 1
ReadOnly = .T.
RecordSource = "lvTvrTLUView"
Width = 345
ntvrid = 0
_dynamicimagealias = lvTvrTLUBmps
_dynamicimagecolumnindex = 1
_dynamicimagefieldnamefilename = BmpFileNM
_dynamicimagefieldnameindex = BmpID
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;EDIT;INFO;DELE
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Ðåäàêòèðîâàòü;Ïðîñìîòð;Óäàëèòü
Name = "grdplu"
Column1.ControlSource = "BmpId"
Column1.Width = 17
Column1.ReadOnly = .T.
Column1.Name = "Column1"
Column2.ControlSource = "Tlu"
Column2.Width = 101
Column2.ReadOnly = .T.
Column2.Name = "Column2"
Column3.ControlSource = "TLUComment"
Column3.Width = 193
Column3.ReadOnly = .T.
Column3.Name = "Column3"
</properties>
		<protected>ntvrid
</protected>
		<methods>PROCEDURE _add
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPLU._Add
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Add()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå èäåíòèôèêàòîðà òîâàðà
*-------------------------------------------------------

*08.07.2004 13:47 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luAddRes
*------------------------------------------------------------------------------

*04.03.2005 11:39 -&gt; Ïåðåéäåì ê lvRptQryParView
SELECT lvTvrTLUView
*------------------------------------------------------------------------------

*08.07.2004 13:50 -&gt;Âûïîëíèì îïåðàöèþ ñîçäàíèÿ íîâîãî èäåíòèôèêàòîðà òîâàðà
luAddRes = oMgrTovar.Do([TLU],[ADD],This.nTvrID)
*------------------------------------------------------------------------------

*08.07.2004 14:06 -&gt;Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ
IF TYPE([luAddRes])==[N]
	
	WITH This
	
	*08.07.2004 14:06 -&gt;Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*08.07.2004 14:06 -&gt;Ïåðå÷èòàåì ñïèñîê èäåíòèôèêàòîðîâ òîâàðà
	._RSRequery(.nTvrID)
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:49 -&gt;Ïåðåõîäèì íà äîáàâëåííûé ýëåìåíò
	SELECT lvTvrTLUView
	LOCATE FOR lvTvrTLUView.TLUID = luAddRes
	*------------------------------------------------------------------------------

	*05.04.2004 17:49 -&gt;Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*05.04.2004 17:49 -&gt;Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
		
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _dele
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPLU._Dele
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Dele()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå èäåíòèôèêàòîðà òîâàðà
*-------------------------------------------------------

*08.07.2004 13:47 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luDeleRes
*------------------------------------------------------------------------------

*08.07.2004 13:50 -&gt;Âûïîëíèì îïåðàöèþ óäàëåíèÿ
luDeleRes = oMgrTovar.Do([TLU],[DELE],lvTvrTLUView.TLUID)
*------------------------------------------------------------------------------

*08.07.2004 14:06 -&gt;Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ
IF TYPE([luDeleRes])==[L] AND luDeleRes
	
	WITH This
	
	*08.07.2004 14:06 -&gt;Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*08.07.2004 14:06 -&gt;Ïåðå÷èòàåì ñïèñîê èäåíòèôèêàòîðîâ
	._RSRequery(.nTvrID)
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:49 -&gt;Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*05.04.2004 17:49 -&gt;Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
		
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _edit
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPLU._Edit
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Edit()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ðåäàêòèðîâàíèå èäåíòèôèêàòîðà òîâàðà
*-------------------------------------------------------

*08.07.2004 13:47 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTLUID, ;
		luEditRes
***
lnTLUID = lvTvrTLUView.TLUID
*------------------------------------------------------------------------------

*08.07.2004 13:50 -&gt;Âûïîëíèì îïåðàöèþ ðåäàêòèðîâàíèÿ
luEditRes = oMgrTovar.Do([TLU],[EDIT],lnTLUID)
*------------------------------------------------------------------------------

*08.07.2004 14:06 -&gt;Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ
IF TYPE([luEditRes])==[L] AND luEditRes
	
	WITH This
	
	*08.07.2004 14:06 -&gt;Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .T.
	*------------------------------------------------------------------------------
	
	*08.07.2004 14:06 -&gt;Ïåðå÷èòàåì ñïèñîê èäåíòèôèêàòîðîâ
	._RSRequery(.nTvrID)
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:49 -&gt;Ïåðåõîäèì íà îòðåäàêòèðîâàíííûé ýëåìåíò
	SELECT lvTvrTLUView
	LOCATE FOR lvTvrTLUView.TLUID = lnTLUID
	*------------------------------------------------------------------------------

	*05.04.2004 17:49 -&gt;Ðàçáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	.lNoExtendedRefresh = .F.
	*------------------------------------------------------------------------------
		
	*05.04.2004 17:49 -&gt;Âûçîâåì ìåòîä ïðèíóäèòåëüíîãî îáíîâëåíèÿ RunTime ñâîéñòâ
	.Refresh(.T.)
	*------------------------------------------------------------------------------
	
	ENDWITH
	
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _gethandledstandartmsglist
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPLU._GetHandledStandartMsgList
* Called by.......: &lt;.RefreshHandledStandartMsgList();.RightClick()&gt;
* Returns.........: &lt;lcHandledStandartMsgList&gt;
* Notes...........: Çàïðåòèì âñå ñòàíäàðòíûå îïåðàöèè, åñëè êîä òîâàðà 0 (ïðè ðàáîòå ñ ãðóïïîé)
*-------------------------------------------------------
RETURN IIF(This.nTvrID#0,DODEFAULT(),[])
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************

ENDPROC
PROCEDURE _info
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPlu._Info
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïðîñìîòð èäåíòèôèêàòîðà òîâàðà
*-------------------------------------------------------

*01.04.2004 18:49 -&gt;Âûïîëíèì îïåðàöèþ ïðîñìîòðà èäåíòèôèêàòîðà òîâàðà
oMgrTovar.Do([TLU],[INFO],lvTvrTLUView.TLUID)
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _rsrequery
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdPLU._RSRequery
* Called by.......: &lt;ThisForm.GrdTovar._HandleChangeRSRecNo()&gt;
* Parameters......: &lt;tnTovarId&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïåðå÷èòûâàíèå Alias-à Grid-à
*-------------------------------------------------------
LPARAMETERS	tnTovarId

*11.01.2004 17:15 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE	_PARAM
*------------------------------------------------------------------------------

WITH This

*11.01.2004 17:44 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*08.07.2004 14:20 -&gt;Ñîõðàíèì èäåíòèôèêàòîð òîâàðà
.nTvrID = tnTovarID
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Ïåðå÷èòàåì Local View
IF ISNULL(.nTvrID) &amp;&amp;= 0

	*12.01.2004 19:09 -&gt;Îòêðûâàåì LocalView ïóñòûì
	USE IN lvTvrTLUView
	USE Basis!lvTvrTLUView IN 0 NODATA
	*------------------------------------------------------------------------------
	
ELSE

	*25.03.2004 12:13 -&gt;Îòêðûâàåì ñ äàííûìè äëÿ òåêóùåãî òîâàðà
	_PARAM = .nTvrID
	REQUERY([lvTvrTLUView])
	*------------------------------------------------------------------------------
	
ENDIF	
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Âîññòàíàâëèâàåì RecordSource
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************

ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>7</reserved2>
		<reserved3>ntvrid &lt;protected/runtime&gt; Èäåíòèôèêàòîð òîâàðà, äëÿ êîòîðîãî îòîáðàæàþòñÿ èäåíòèôèêàòîðû (øòðèõ-êîäà).
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70M4SAG</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>grdplu.Column1</parent>
		<properties>Caption = " "
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70NZ9AH</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>grdplu.Column1</parent>
		<properties>Left = 1
Top = 23
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70M4SAI</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>grdplu.Column2</parent>
		<properties>Alignment = 2
Caption = "Øòðèõ-êîä"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70NZ9AJ</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>grdplu.Column2</parent>
		<properties>Left = 43
Top = 23
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70M4SAK</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>grdplu.Column3</parent>
		<properties>Alignment = 2
Caption = "Êîììåòàðèé"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I70NZ9AL</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>grdplu.Column3</parent>
		<properties>Left = 61
Top = 23
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>grdplu</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KW12FP5V</uniqueid>
		<timestamp>954700451</timestamp>
		<class>scrfrmview</class>
		<classloc>basis.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrseteditset</objname>
		<parent/>
		<properties>Height = 370
Width = 700
DoCreate = .T.
Caption = "Íàáîð òîâàðîâ"
WindowType = 0
ltvrsetbindtlu = .F.
ntvrsetid = 0
nscrfrmid = 0
_standarttoolbar = tlbstandart;basetoolbar_v1.vcx
Name = "frmtvrseteditset"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
Img1.Name = "Img1"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetEditSet._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*-------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*05.08.2005 16:40 -&gt;Ïðîèçâîäèì ñîõðàíåíèå
IF tcMessage = .cntCancelSaveHandled._OKMsg
	*05.08.2005 16:43 -&gt;Âûïîëíÿåì õðàíèìóþ ïðîöåäóðó äëÿ ñîõðàíåíèÿ äàííûõ
	spTvrSetEditSetSave(.nTvrSetID)
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*04.08.2005 11:47 -&gt; Ñêðûâàåì ôîðìó
.Release()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetEditSet.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tnScrFrmID,tnTvrSetID&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*-------------------------------------------------------
LPARAMETERS tnScrFrmID, tnTvrSetID

*04.08.2005 11:46 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT(tnScrFrmID)
*----------------------------------------------------------------------------

*08.08.2005 18:07 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	_PARAM
*------------------------------------------------------------------------------

*26.07.2005 16:10 -&gt; Âûáèðàåì íàáîð äëÿ ðåäàêòèðîâàíèÿ ñîñòàâà íàáîðà
This.nTvrSetID = tnTvrSetID &amp;&amp; oApp.DoModalFormRetValObj([frmtvrsetselect;tovar_v1.vcx;tovar.app])
***
IF TYPE([This.nTvrSetID])#[N]
	NODEFAULT
ENDIF
*------------------------------------------------------------------------------

*02.08.2005 16:10 -&gt;Ïîëó÷àåì è ñîõðàíÿåì â ñâîéñòâå îáúåêòà èíôîðìàöèþ î òèïå ñïèñêà
USE IN IIF(USED([lvTvrSetByID]),[lvTvrSetByID],0)
***
_PARAM = This.nTvrSetID
USE lvTvrSetByID IN 0
***
This.lTvrSetBindTLU = lvTvrSetByID.BindTLU
*------------------------------------------------------------------------------

*12.05.2006 16:47 -&gt;Ïîêàæåì íàçâàíèå íàáîðà
This.Caption = This.Caption + [ "] + ALLTRIM(lvTvrSetByID.TvrSetNM) + ["]
*------------------------------------------------------------------------------


*04.08.2005 11:46 -&gt; Âûïîëíèì õðàíèìóþ ïðîöåäóðó
spTvrSetEditSetPrepare(This.nTvrSetID)
*------------------------------------------------------------------------------

*04.08.2005 11:46 -&gt; Îòêðîåì ïîäãîòîâëåííûé íàáîð
USE TvrInSetEdit IN 0
*!*	SELECT TvrInSetEdit
*!*	BROWSE
*------------------------------------------------------------------------------

*04.08.2005 12:09 -&gt;Çàãðóçèì äàííûå â äåðåâî
ThisForm.OleSelTreeView.Init(.T.)
*------------------------------------------------------------------------------

*05.08.2005 15:23 -&gt;Îáíîâèì Grid
ThisForm.grdTvrInSet._RSRequery()
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetEditSet.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*-------------------------------------------------------

*04.08.2005 10:45 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

*04.08.2005 10:45 -&gt; Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*04.08.2005 10:50 -&gt; Îòêðûâàåì Local View ñ êàðòèíêàìè
USE lvTvrSetBmps IN 0
*------------------------------------------------------------------------------

*05.08.2005 15:20 -&gt;Ñîçäàåì âðåìåííóþ òàáëèöó äëÿ Grid-à
CREATE TABLE tmp\tmpTvrInSetEditGrd FREE (TKey I, TvrNM C(100), Price Y)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE showtluinfo
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetEditSet.ShowTLUInfo
* Called by.......: &lt;ThisForm.OleSelTreeView.RightClick()-&gt;ContextMenu&gt;
* Parameters......: &lt;lnTLUID&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îòîáðàæåíèå èíôîðìàöèè îá èäåíòèôèêàòîðå
*------------------------------------------------------------------------------
LPARAMETERS	lnTLUID

*01.04.2004 18:49 -&gt;Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
ThisForm.OleSelTreeView.Enabled = .F.
*------------------------------------------------------------------------------

*01.04.2004 18:49 -&gt;Âûïîëíèì îïåðàöèþ ïðîñìîòðà èäåíòèôèêàòîðà òîâàðà
oMgrTovar.Do([TLU],[INFO],lnTLUID)
*------------------------------------------------------------------------------

*01.04.2004 18:49 -&gt;Âåðíåì äåðåâî
ThisForm.OleSelTreeView.Enabled = .T.
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE showtvrinfo
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrSetEditSet.ShowTvrInfo
* Called by.......: &lt;ThisForm.OleSelTreeView.RightClick()-&gt;ContextMenu&gt;
* Parameters......: &lt;lnTvrID&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îòîáðàæåíèå èíôîðìàöèè î òîâàðå
*------------------------------------------------------------------------------
LPARAMETERS	lnTvrID

*01.04.2004 18:49 -&gt;Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
ThisForm.OleSelTreeView.Enabled = .F.
*------------------------------------------------------------------------------

*01.04.2004 18:49 -&gt;Âûïîëíèì îïåðàöèþ ïðîñìîòðà òîâàðà
oMgrTovar.Do([TVR],[INFO],lnTvrID)
*------------------------------------------------------------------------------

*01.04.2004 18:49 -&gt;Âåðíåì äåðåâî
ThisForm.OleSelTreeView.Enabled = .T.
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Unload
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: FRMTVRSETEDITSET.UNLOAD
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

*05.08.2005 16:09 -&gt;Óäàëèì âðåìåííóþ òàáëèöó äëÿ Grid-à
USE IN IIF(USED([tmpTvrInSetEditGrd]),[tmpTvrInSetEditGrd],0)
IF FILE([tmp\tmpTvrInSetEditGrd.dbf])
	ERASE tmp\tmpTvrInSetEditGrd.dbf
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>9</reserved2>
		<reserved3>ltvrsetbindtlu Ëîãè÷åñêè ïðèçíàê òîãî, ÷òî ýëåìåíòîì íàáîðà ÿâëÿåòñÿ ñâÿçêà Òîâàð + Èäåíòèôèêàòîð
ntvrsetid &lt;public/runtime&gt; Èäåíòèôèêàòîð íàáîðà òîâàðîâ
*_handlecntcancelsaveevent 
*showtvrinfo 
*showtluinfo 
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>âêëþ÷åíèå òîâàðîâ â íàáîð èç äåðåâà</reserved7>
		<reserved8>..\include\comselctl_v1_oleseltreeview.h</reserved8>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KZ0NH5QD</uniqueid>
		<timestamp>954700451</timestamp>
		<class>oleimagelist</class>
		<classloc>comctl_v1.vcx</classloc>
		<baseclass>olecontrol</baseclass>
		<objname>OleImageList</objname>
		<parent>frmtvrseteditset</parent>
		<properties>Top = 65
Left = 132
Height = 100
Width = 100
ZOrderSet = 3
Name = "OleImageList"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole>0M8R4KGxGuEAAAAAAAAAAAAAAAAAAAAAPgADAP7/CQAGAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAEAAAAgAAAAEAAAD+////AAAAAAAAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9/////v////7////+/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////1IAbwBvAHQAIABFAG4AdAByAHkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAUA//////////8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKA30+wr4MgBAwAAAEABAAAAAAAAAwBPAGwAZQBPAGIAagBlAGMAdABEAGEAdABhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4AAgEDAAAAAgAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAXAAAAAAAAAADAEEAYwBjAGUAcwBzAE8AYgBqAFMAaQB0AGUARABhAHQAYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJgACAP///////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABPAAAAAAAAAAMAQwBoAGEAbgBnAGUAZABQAHIAbwBwAHMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAIA////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAQAAAAAAAAABAAAAAIAAAD+/////v////7///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+PjdpYap0bEK/AQhAQKo2nIUM0EggAAADtAwAA7QMAAIB+4eYCAAUAIAAAAAAAAADAwMAA//8AAAHvzasAAAUATwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABcAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgcWhqIFp0dVFoYTtqZGZuW2lhZXRyIADmjgAAAAAAAGyOAAAAAAAA6I8AAAAAAABojwAAAAAAAOqQAAAAAAAAcJAAAAAAAAABAACAAAAAAHqSAAAAAAAADJQAAAAAAACElAAAAAAAAAKVAAAAAAAAjJUAAAAAAAAElwAAAAAAAASWAAAAAAAAkAQaAAYAAAD/////BQAAgAAAAAAAAAAAAAAAAAAAAAAImgAAAAAAAIiZAAAAAAAAjJoAAAAAAACyNQAAAAAAAJacAAAAAAAATIMAAAAAAAAEmwAAAAAAABCdAAAAAAAAkFgAAAAAAACYPQAAAAAAAI6dAAAAAAAAGp4AAAAAAABYiwAAAAAAAPCLAAAAAAAAHDcAAAAAAACkNgAAAAAAAOYdAAAAAAAA3jgAAAAAAABqOQAAAAAAAAo6AAAAAAAAtjoAAAAAAACAjQAAAAAAAF47AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==</ole>
		<ole2>OLEObject = C:\WINDOWS\system32\COMCTL32.OCX
</ole2>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KX0XW9DF</uniqueid>
		<timestamp>954700451</timestamp>
		<class>oleseltreeview</class>
		<classloc>comselctl_v1.vcx</classloc>
		<baseclass>olecontrol</baseclass>
		<objname>OleSelTreeView</objname>
		<parent>frmtvrseteditset</parent>
		<properties>Top = 5
Left = 5
Height = 330
Width = 345
ZOrderSet = 4
_imgalias = lvTvrSetBmps
_imgfieldnamefilename = BmpFileNM
_imgfieldnameindex = BmpID
_rsaliasname = TvrInSetEdit
_rsfieldnameid = TKey
_rsfieldnameimageindex = BmpID
_rsfieldnameimageselectedindex = SBmpID
_rsfieldnamemark = Mark
_rsfieldnamemarkimageindex = BmpMID
_rsfieldnamemarkimageselectedindex = SBmpMID
_rsfieldnameparentflag = TvrIsCnt
_rsfieldnameparentid = TvrParID
_rsfieldnamepartmarkimageindex = BmpPMID
_rsfieldnamepartmarkimageselectedindex = SBmpPMID
_rsfieldnametext = TvrNM
_imagelistobject = .parent.Oleimagelist.object
_parentonly = .F.
Name = "OleSelTreeView"
</properties>
		<protected/>
		<methods>PROCEDURE _handlemarkchange
ThisForm.grdTvrInSet._RSRequery()
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: OLESELTREEVIEW.INIT
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tlInitAllowed&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà äåðåâà ïî ñîáûòèþ
*------------------------------------------------------------------------------
LPARAMETERS	tlInitAllowed

*04.08.2005 12:08 -&gt;Çàãðóæàåì äåðåâî ïî ñîáûòèþ
IF tlInitAllowed
	DODEFAULT()
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE rightclick
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: oleSelTreeView.RightClick
* Called by.......: &lt;.MouseDown()&gt;
* Parameters......: &lt;toNode&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------
LPARAMETERS	toNode

WITH This

*16.05.2005 11:24 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcOldAlias, ;
		lnNodeID, ;
		lcRSAliasName, ;
		lcRSFieldNameID, ;
		lcRSFieldNameParentFlag, ;
		llParentFlag, ;
		lnTvrID, ;
		lnTluID
***
lcOldAlias 				= ALIAS()
***
lnNodeID                = .ConvertID(cnDIR_TREE2ID,toNode.Key)
***
lcRSAliasName			= ._RSAliasName
lcRSFieldNameID			= ._RSFieldNameID
lcRSFieldNameParentFlag	= ._RSFieldNameParentFlag
*------------------------------------------------------------------------------

*18.05.2005 10:32 -&gt; Íàéäåì ïîìå÷àåìûé ýëìåíò â èñòî÷íèêå äàííûõ
SELECT (lcRSAliasName)
***
LOCATE FOR &amp;lcRSFieldNameID = lnNodeID
***
IF !FOUND()
	RETURN
ENDIF
***
llParentFlag = &amp;lcRSFieldNameParentFlag
lnTvrID      = TvrID
lnTluID      = TLUID
*-----------------------------------------------------------------------------

*05.08.2005 12:50 -&gt;Âûâîäèì ìåíþ, òîëüêî åñëè ýëåìåíò íå ÿâëÿåòñÿ êîíòåéíåðîì
IF !llParentFlag
	
	*05.08.2005 12:50 -&gt;Ñîçäàåì ìåíþ
	DEFINE POPUP treeshortcut SHORTCUT RELATIVE FROM MROW(),MCOL()
	*------------------------------------------------------------------------------
	
	*05.08.2005 14:01 -&gt;Ñîçäàåì ïóíêò ìåíþ "Ïðîñìîòð èíôîðìàöèè î òîâàðå"
	lcActionMacro = [_screen.ActiveForm.ShowTvrInfo(]+ALLTRIM(STR(lnTvrID))+[)]
	DEFINE BAR 1 OF treeshortcut PROMPT [Ïðîñìîòð èíôîðìàöèè î òîâàðå]
	ON SELECTION BAR 1 OF treeshortcut &amp;lcActionMacro
	*------------------------------------------------------------------------------
	
	*05.08.2005 14:01 -&gt;Ñîçäàåì ïóíêò ìåíþ "Ïðîñìîòð èíôîðìàöèè î èäåíòèôèêàòîðå"
	IF ThisForm.lTvrSetBindTLU	
		lcActionMacro = [_screen.ActiveForm.ShowTLUInfo(]+ALLTRIM(STR(lnTLUID))+[)]
		DEFINE BAR 2 OF treeshortcut PROMPT [Ïðîñìîòð èíôîðìàöèè î èäåíòèôèêàòîðå]
		ON SELECTION BAR 2 OF treeshortcut &amp;lcActionMacro
	ENDIF
	*------------------------------------------------------------------------------
	
	*05.08.2005 14:11 -&gt;Îòîáðàæàåì ìåíþ
	ACTIVATE POPUP treeshortcut
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*05.08.2005 14:12 -&gt;Âîññòàíîâèì òåêóùèé Alias
IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
	SELECT(lcOldAlias)
ENDIF
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole>0M8R4KGxGuEAAAAAAAAAAAAAAAAAAAAAPgADAP7/CQAGAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAEAAAAgAAAAEAAAD+////AAAAAAAAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9/////v////7///8EAAAA/v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////1IAbwBvAHQAIABFAG4AdAByAHkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAUA//////////8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJCB1ewr4MgBAwAAAEACAAAAAAAAAwBPAGwAZQBPAGIAagBlAGMAdABEAGEAdABhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4AAgEDAAAAAgAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZgAAAAAAAAADAEEAYwBjAGUAcwBzAE8AYgBqAFMAaQB0AGUARABhAHQAYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJgACAP///////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABPAAAAAAAAAAMAQwBoAGEAbgBnAGUAZABQAHIAbwBwAHMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAIA////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAACUBAAAAAAAABAAAAAIAAAD+////BQAAAP7///8GAAAABwAAAAgAAAD+//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+i6BMHCoUbEK/AQhAQKo2nIUM0EggAAACoIwAAGyIAAI5+4eYCAAUAIgAAAH0gaWaNAQAAAQAAAAHvzasAAAUATwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABcAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgcWhqIFp0dVFoYTtqZGZuW2lhZXRyIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAACADgAAAEhpZGVTZWxlY3Rpb24ABQAAAEwAAAAADAAAAEluZGVudGF0aW9uABEAAABODQAAAAcAAAAAAAAAAAAAAAYAAAAAAAAABQAAgJzpEgABAAAAXAAf3uy9AQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALkAKAAAATGFiZWxFZGl0AAkAAABJCgAAAAEAAAAKAAAATGluZVN0eWxlAAkAAABJCgAAAAEAAAANAAAATW91c2VQb2ludGVyAAkAAABJCgAAAAAAAAAOAAAAUGF0aFNlcGFyYXRvcgAKAAAASAAAAAABAAAAXAYAAABTdHlsZQAJAAAASQoAAAAHAAAADAAAAE9MRURyYWdNb2RlAAkAAABJCgAAAAAAAAAMAAAAT0xFRHJvcE1vZGUACQAAAEkKAAAAAAAAAAsAAABBcHBlYXJhbmNlAAkAAABJCgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</ole>
		<ole2>OLEObject = C:\WINDOWS\system32\COMCTL32.OCX
</ole2>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KZ0P8OCD</uniqueid>
		<timestamp>954700451</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvrseteditset</parent>
		<properties>Top = 340
Left = 490
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L00VGWHD</uniqueid>
		<timestamp>0</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTvrInSet</objname>
		<parent>frmtvrseteditset</parent>
		<properties>ColumnCount = 2
Height = 330
Left = 350
Panel = 1
RecordSource = "tmpTvrInSetEditGrd"
Top = 5
Width = 345
Name = "grdTvrInSet"
Column1.ControlSource = "tmpTvrInSetEditGrd.TvrNM"
Column1.Width = 239
Column1.Name = "Column1"
Column2.ControlSource = "tmpTvrInSetEditGrd.Price"
Column2.Name = "Column2"
</properties>
		<protected/>
		<methods>PROCEDURE _prnrep
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GRDTVRINSET._PRNREP
* Called by.......: &lt;&lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; ._PrnRep()&gt;&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Âûçîâ ôîðìû äëÿ ïå÷àòè îò÷¸òà
*------------------------------------------------------------------------------

*08.08.2005 15:00 -&gt;Âûçîâåì ìåòîä ìåíåäæåðà äëÿ ïå÷àòè îò÷¸òà
oApp.ExecuteScrFormReportByID(ThisForm.nScrFrmID,[TvrSetID],ThisForm.nTvrSetID,.T.)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************

ENDPROC
PROCEDURE _rsrequery
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrInSet._RSRequery
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îáíîâëåíèå ñïèñêà âûáðàííûõ òîâàðîâ
*------------------------------------------------------------------------------
WITH This

*11.01.2004 17:44 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Ïåðå÷èòàåì Local View
SELECT ;
	TvrInSetEdit.TKey, ;
	TvrInSetEdit.TvrNM, ;
	TvrInSetEdit.Price ;
FROM TvrInSetEdit ;
WHERE !TvrInSetEdit.TvrIsCnt AND TvrInSetEdit.Mark = ALL_CHILD_MARKED ;
INTO TABLE tmp\tmpTvrInSetEditGrd
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Âîññòàíàâëèâàåì RecordSource
.SourceRecall()
*------------------------------------------------------------------------------

*22.07.2005 14:31 -&gt;Âîññòàíîâèì ïîçèöèþ â Grid-å
.PositionRecall()
*------------------------------------------------------------------------------

*05.08.2005 15:38 -&gt;Óêàæåì çàãîëîâêå, ñêîëüêî çàïèñåé îòîáðàíî
.Column1.Header1.Caption = [Îòîáðàíî ]+ALLTRIM(STR(RECCOUNT([tmpTvrInSetEditGrd])))+[ ýëåìåíòîâ]
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************



ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L00W6F42</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrseteditset.grdTvrInSet.Column1</parent>
		<properties>Alignment = 2
Caption = "Header1"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L00W6F44</uniqueid>
		<timestamp>0</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrseteditset.grdTvrInSet.Column1</parent>
		<properties>BorderStyle = 0
Margin = 0
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SO10OHMF</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrseteditset.grdTvrInSet.Column2</parent>
		<properties>Alignment = 2
Caption = "Öåíà"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SO10OHMG</uniqueid>
		<timestamp>0</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrseteditset.grdTvrInSet.Column2</parent>
		<properties>BorderStyle = 0
Margin = 0
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrseteditset</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1></reserved1>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1AF0QZ86X</uniqueid>
		<timestamp>958570094</timestamp>
		<class>scrfrmedit</class>
		<classloc>basis.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrfind</objname>
		<parent/>
		<properties>Height = 318
Width = 700
DoCreate = .T.
BorderStyle = 2
Caption = "Ïîèñê òîâàðà"
Name = "frmtvrfind"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
Img1.Name = "Img1"
cstdatawork.Name = "cstdatawork"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrFind._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*22.07.2005 11:04 -&gt; Âîçâðàùàåì ðåçóëüòàò
IF tcMessage = [OK] AND TovarView.TvrID # 0
	.uRetVal = TovarView.TvrID
ELSE
	.uRetVal = .F.
ENDIF
*------------------------------------------------------------------------------

*22.07.2005 11:05 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------
	
ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrFind.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tnScrFrmID&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû.
*------------------------------------------------------------------------------
LPARAMETERS	tnScrFrmID

*21.07.2005 16:36 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT(tnScrFrmID)
*------------------------------------------------------------------------------

*25.05.2004 23:11 -&gt;Çàãðóçèì ôèëüòðû äëÿ òåêóùåé ôîðìû
This.cntQueryParam.ParamObjectCreate(__QPOTYPE_SCRFRM,tnScrFrmID)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrFind.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îòêðûòèå ôîðìû
*------------------------------------------------------------------------------

*21.07.2005 16:33 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

*21.07.2005 16:33 -&gt; Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*21.07.2005 16:34 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcUniqueName
*------------------------------------------------------------------------------

*21.07.2005 16:34 -&gt; Âûïîëíèì õðàíèìóþ ïðîöåäóðó
lcUniqueName = spTovarView()
*------------------------------------------------------------------------------

*21.07.2005 16:34 -&gt; Òåïåðü îòêðîåì äàííûé Alias
USE (lcUniqueName) IN 0 ALIAS TovarView
CURSORSETPROP([BUFFERING],3,[TovarView])
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Resize
NODEFAULT
ENDPROC
PROCEDURE Unload
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTovarFind.UnLoad
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;sysevent&gt; Âûãðóçêà ôîðìû
*------------------------------------------------------------------------------

*21.07.2005 16:33 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

*10.08.2005 12:35 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcUniqueFilePath
*------------------------------------------------------------------------------

*10.08.2005 12:35 -&gt; Çàêðîåì Alias è óäàëèì âðåìåííóþ òàáëèöó
lcUniqueFilePath = DBF([TovarView])
***
USE IN IIF(USED([TovarView]),[TovarView],0)
***
IF FILE(lcUniqueFilePath)
	ERASE (lcUniqueFilePath)
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>17</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Ïîèñê òîâàðîâ</reserved7>
		<reserved8>..\include\qryparparobjtypes.h</reserved8>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40NJ0D8</uniqueid>
		<timestamp>958570094</timestamp>
		<class>shp</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>shape</baseclass>
		<objname>shpQueryParam</objname>
		<parent>frmtvrfind</parent>
		<properties>Top = 13
Left = 5
Height = 10
Width = 487
Visible = .F.
SpecialEffect = 0
ZOrderSet = 3
Name = "shpQueryParam"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40NJ0D9</uniqueid>
		<timestamp>958570094</timestamp>
		<class>cntqueryparam</class>
		<classloc>queryparamio_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntQueryParam</objname>
		<parent>frmtvrfind</parent>
		<properties>Top = 21
Left = 10
Width = 477
Height = 23
ZOrderSet = 4
Name = "cntQueryParam"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntheightchange
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cntQueryParam._HandleCntHeightChange
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;lnHeightChange&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èçìåíåíèå ðàçìåðîâ êîíòåéíåðà ïî âåðòèêàëè
*------------------------------------------------------------------------------
LPARAMETERS lnHeightChange

*09.08.2005 11:35 -&gt; Äîïîëíèòåëüíîå èçìåíåíèå ïàðàìåòðîâ shpQueryParam
IF This.Height = 0
	
	*09.08.2005 11:36 -&gt; Âåðíåì ñâîéñòâà êîòîðûå ìåíÿëè ê ïåðâîíà÷àëüíîìó ñîñòîÿíèþ
	ThisForm.ResetToDefault([Height])
	***
	ThisForm.shpQueryParam.ResetToDefault([Height])
	ThisForm.shpQueryParam.ResetToDefault([Visible])
	***
	ThisForm.lblQueryParam.ResetToDefault([Visible])
	***
	ThisForm.grdTovar.ResetToDefault([Top])
	***
	ThisForm.cntCancelSaveHandled.ResetToDefault([Top])
	*------------------------------------------------------------------------------
	
ELSE
	
	*09.08.2005 11:36 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
	ThisForm.lblQueryParam.Visible = .T.
	***
	ThisForm.shpQueryParam.Height  = This.Height + 10 + 5
	ThisForm.shpQueryParam.Visible = .T.
	***
	ThisForm.grdTovar.Top = ThisForm.shpQueryParam.Top + ;
							ThisForm.shpQueryParam.Height + 5
	***
	ThisForm.cntCancelSaveHandled.Top = ThisForm.grdTovar.Top + ;
										ThisForm.grdTovar.Height + 5
	***
	ThisForm.Height = ThisForm.cntCancelSaveHandled.Top + ;
					  ThisForm.cntCancelSaveHandled.Height + 5
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40NJ0DA</uniqueid>
		<timestamp>958570094</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblQueryParam</objname>
		<parent>frmtvrfind</parent>
		<properties>FontBold = .T.
Caption = "Ïàðàìåòðû"
Left = 10
Top = 5
Visible = .F.
ZOrderSet = 5
Name = "lblQueryParam"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1AF0R5VWP</uniqueid>
		<timestamp>958570094</timestamp>
		<class>cmd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdUpdate</objname>
		<parent>frmtvrfind</parent>
		<properties>Top = 13
Left = 594
Caption = "Ïîèñê"
ZOrderSet = 6
Name = "cmdUpdate"
</properties>
		<protected/>
		<methods>PROCEDURE Click
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cmdUpdate.Click
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îáíîâèòü
*------------------------------------------------------------------------------

*09.08.2005 11:49 -&gt; Ïðèìåíÿåì ôèëüòðû è îáíîâëÿåì äàííûå
ThisForm.cntQueryParam.QueryParamSet()
ThisForm.grdTovar._RSRequery()
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1AF0R5VWR</uniqueid>
		<timestamp>0</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTovar</objname>
		<parent>frmtvrfind</parent>
		<properties>ColumnCount = 5
Height = 240
Left = 5
Panel = 1
RecordSource = "TovarView"
Top = 43
Width = 690
ZOrderSet = 7
_activerowhighlight = .T.
Name = "grdTovar"
Column1.ControlSource = "TovarView.TvrID"
Column1.Width = 75
Column1.Name = "Column1"
Column2.ControlSource = "TovarView.TvrNM"
Column2.Width = 214
Column2.Name = "Column2"
Column3.ColumnOrder = 3
Column3.ControlSource = "TovarView.TLU"
Column3.Width = 137
Column3.Name = "Column3"
Column4.ColumnOrder = 4
Column4.ControlSource = "TovarView.Price"
Column4.Width = 88
Column4.Name = "Column4"
Column5.ColumnOrder = 5
Column5.ControlSource = "TovarView.MakerNM"
Column5.Width = 150
Column5.Name = "Column5"
</properties>
		<protected/>
		<methods>PROCEDURE _rsrequery
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTovar._RSRequery
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïåðå÷èòûâàíèå Alias-à Grid-à
*------------------------------------------------------------------------------
WITH This

*22.07.2005 10:38 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcUniqueName, ;
		lcUniqueFilePath
*------------------------------------------------------------------------------

*22.07.2005 10:38 -&gt; Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*22.07.2005 10:38 -&gt; Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*22.07.2005 10:38 -&gt; Çàêðîåì Alias è óäàëèì âðåìåííóþ òàáëèöó
lcUniqueFilePath = DBF([TovarView])
***
USE IN TovarView
***
IF FILE(lcUniqueFilePath)
	ERASE (lcUniqueFilePath)
ENDIF
*------------------------------------------------------------------------------

*22.07.2005 10:38 -&gt; Âûïîëíèì õðàíèìóþ ïðîöåäóðó
lcUniqueName = spTovarView(ThisForm.cntQueryParam.cQryParSID)
*------------------------------------------------------------------------------

*22.07.2005 10:39 -&gt; Òåïåðü îòêðîåì äàííûé Alias
USE (lcUniqueName) IN 0 ALIAS TovarView
CURSORSETPROP([BUFFERING],3,[TovarView])
*------------------------------------------------------------------------------

*22.07.2005 10:39 -&gt; Âîññòàíàâëèâàåì RecordSource
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KL11PQQJ</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrfind.grdTovar.Column1</parent>
		<properties>Alignment = 2
Caption = "Êîä òîâàðà"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KL121ZJH</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrfind.grdTovar.Column1</parent>
		<properties>Left = 121
Top = 35
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
ThisForm.cntCancelSaveHandled.cmdOk.Click()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KL11PQQL</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrfind.grdTovar.Column2</parent>
		<properties>Alignment = 2
Caption = "Òîâàð"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KL121ZJW</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrfind.grdTovar.Column2</parent>
		<properties>Left = 98
Top = 35
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
ThisForm.cntCancelSaveHandled.cmdOk.Click()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1AJ0LH7VK</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrfind.grdTovar.Column3</parent>
		<properties>Alignment = 2
Caption = "Øòðèõ-êîä"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1LI0Z10G4</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrfind.grdTovar.Column3</parent>
		<properties>Left = 89
Top = 100
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
ThisForm.cntCancelSaveHandled.cmdOk.Click()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1AJ0LH7VM</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrfind.grdTovar.Column4</parent>
		<properties>Alignment = 2
Caption = "Öåíà"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1LI0Z10GK</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrfind.grdTovar.Column4</parent>
		<properties>Left = 79
Top = 28
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
ThisForm.cntCancelSaveHandled.cmdOk.Click()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1AJ0LH7VO</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrfind.grdTovar.Column5</parent>
		<properties>Alignment = 2
Caption = "Ïðîèçâîäèòåëü"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1LI0Z10GL</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrfind.grdTovar.Column5</parent>
		<properties>Left = 10
Top = 28
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
ThisForm.cntCancelSaveHandled.cmdOk.Click()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1AF0R3P88</uniqueid>
		<timestamp>958570094</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvrfind</parent>
		<properties>Top = 288
Left = 490
TabIndex = 2
ZOrderSet = 8
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrfind</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1></reserved1>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>959943147</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtluadd</objname>
		<parent/>
		<properties>Height = 205
Width = 390
DoCreate = .T.
BorderStyle = 2
Caption = "Èäåíòèôèêàòîð òîâàðà"
Icon = ..\graphic\frmqryparedit.ico
crequestedoperation = 
Name = "frmtluadd"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Top = 0
CSTRESIZABLE.Left = 24
CSTRESIZABLE.Name = "CSTRESIZABLE"
Img1.Name = "Img1"
CSTDATAWORK.Top = 0
CSTDATAWORK.Left = 48
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTLUEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*-------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*02.04.2004 16:51 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*02.04.2004 16:51 -&gt;Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK]

	*07.07.2004 17:29 -&gt;Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*07.07.2004 17:35 -&gt;Óäàëèì çàïèñü
		DELETE IN lvTLUEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*07.07.2004 12:09 -&gt;Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå î ïàðàìåòðå âûáîðêè
		llDataWasChanged = .cstDataWork.DataChanged([lvTLUEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*02.04.2004 16:51 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ ïàðàìåòðà âûáîðêè
	IF llDataWasChanged
		
		*02.04.2004 16:59 -&gt;Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTLUEdit])
		*------------------------------------------------------------------------------
		
		*02.04.2004 17:00 -&gt;Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTLUEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTLUEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

	*04.04.2005 11:57 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*08.07.2004 15:23 -&gt;Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvTLUEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*04.07.2005 18:02 -&gt;Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*13.01.2005 14:38 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTLUEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*13.01.2005 14:37 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTLUEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation,tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*-------------------------------------------------------
LPARAMETERS	tcRequestedOperation,tuParam1

*12.05.2004 00:34 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*12.05.2004 00:30 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*07.07.2004 17:25 -&gt; Ñîõðàíèì îïåðàöèþ
.cRequestedOperation = tcRequestedOperation
*------------------------------------------------------------------------------

*12.05.2004 00:33 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation == [ADD]
			
		*12.05.2004 00:32 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvTLUEdit
		APPEND BLANK IN lvTLUEdit
		*------------------------------------------------------------------------------

		*04.04.2005 11:11 -&gt; Ïîäñòàâèì ïåðåäàííûé èäåíòèôèêàòîð òîâàðà
		SELECT lvTLUEdit
		REPLACE TvrID WITH tuParam1
		*------------------------------------------------------------------------------
		
		*28.04.2004 12:17 -&gt; Ïåðåéäåì ê òåêóùåìó òèïó èäåíòèôèêàòîðà (øòðèõ-êîäà) è ïðîèçâåä¸ì ñîîòâåòñòâóþùèå èçìåíåíèÿ
		SELECT lvTLUTypeList
		LOCATE FOR IsDefault
		***
		.cntIdCtlTreeTLUType.SetValue(lvTLUTypeList.TLUTypeID)
		*------------------------------------------------------------------------------
		
	CASE INLIST(.cRequestedOperation,[EDIT],[INFO],[DELE])
		
		*12.05.2004 00:31 -&gt; Çàãðóçèì äàííûå â lvTLUEdit
		_PARAM = tuParam1
		REQUERY([lvTLUEdit])
		*------------------------------------------------------------------------------
		
ENDCASE
*------------------------------------------------------------------------------

*01.04.2004 19:11 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = ALLTRIM(.Caption)+[ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])
	CASE .cRequestedOperation == [EDIT]
		.Caption = ALLTRIM(.Caption)+[ - Ðåäàêòèðîâàíèå]
		.Icon = FULLPATH([frmedit.ico])
	CASE .cRequestedOperation == [INFO]
		.Caption = ALLTRIM(.Caption)+[ - Ïðîñìîòð]
		.Icon = FULLPATH([frminfo.ico])
		.cntCancelSaveHandled.cmdOk.Enabled = .F.
	CASE .cRequestedOperation == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
*------------------------------------------------------------------------------

*24.08.2005 13:52 -&gt; Çàáëîêèðóåì ïîëå Îñíîâíîé, åñëè îñíîâíîé ØÊ óæå ñóùåñòâóåò
IF !lvTLUEdit.TLUIsMain
	ThisForm.ñhkTluIsMain.Enabled = !_spMainMarked([TvrLookUp],[TLUIsMain],[TvrID],lvTLUEdit.TvrID)
ENDIF
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTLUEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìà (îòêðûòèå ñïðàâî÷íèêîâ è Alias-îâ äëÿ ðåäàêòèðîâàíèÿ)
*-------------------------------------------------------

*13.01.2005 17:32 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*13.01.2005 17:32 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*13.01.2004 20:01 -&gt;Îòêðûâàåì ñïðàâî÷íèêè
USE lvTLUTypeList IN 0
USE lvTovarList IN 0
*------------------------------------------------------------------------------

*12.01.2005 18:46 -&gt; Îòêðûâàåì Alias'û äëÿ ðåäàêòèðîâàíèÿ (ïóñòûå)
USE lvTLUEdit IN 0 NODATA
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>15</reserved2>
		<reserved3>crequestedoperation &lt;public/runtime&gt; Îïåðàöèÿ, êîòîðóþ äîëæåí âûïîëíèòü äàííûé îáúåêò.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>959943147</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTovar</objname>
		<parent>frmtluadd</parent>
		<properties>FontBold = .T.
Caption = "Òîâàð:"
Left = 5
Top = 8
ZOrderSet = 4
Name = "lblTovar"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I61255SR</uniqueid>
		<timestamp>959943147</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTovar</objname>
		<parent>frmtluadd</parent>
		<properties>Top = 5
Left = 135
Enabled = .F.
ZOrderSet = 5
_controlsource = lvTLUEdit.TvrID
_controlsourcetype = 1
_rsaliasname = lvTovarList
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
Name = "cntIdCtlTreeTovar"
txtText.Enabled = .F.
txtText._highlightobject = .Parent.Parent.lblTovar
txtText.Name = "txtText"
cmdShow.Enabled = .F.
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1BE4FO</uniqueid>
		<timestamp>959943147</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTLUType</objname>
		<parent>frmtluadd</parent>
		<properties>FontBold = .T.
Caption = "Òèï èäåíòèôèêàòîðà:"
Left = 5
Top = 36
ZOrderSet = 6
Name = "lblTLUType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1B4NYC</uniqueid>
		<timestamp>959943147</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTLUType</objname>
		<parent>frmtluadd</parent>
		<properties>Top = 33
Left = 135
ZOrderSet = 7
_controlsource = lvTLUEdit.TLUTypeID
_controlsourcetype = 1
_rsaliasname = lvTLUTypeList
_rsfieldnameid = TLUTypeID
_rsfieldnametext = TLUTypeNM
Name = "cntIdCtlTreeTLUType"
txtText._highlightobject = .Parent.Parent.lblTLUType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods>PROCEDURE _handleanychange
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cntIdCtlTreeTLUType._HandleAnyChange
* Called by.......: &lt;~&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*-------------------------------------------------------
WITH ThisForm

*27.04.2005 16:48 -&gt; Åñëè ñòîèò ôëàã "Ãåíåðàöèÿ èäåíòèôèêàòîðà" ãåíåðèðóåì åãî, èíà÷å î÷èùàåì ïîëå èäåíòèôèêàòîðà
IF lvTLUTypeList.TLUTypeIsGenerate
	
	*27.04.2005 16:52 -&gt; Ãåíåðèðóåì èäåíòèôèêàòîð, èñïîëüçóÿ ìàñêó
*	.cntTxtCalcLenTLU.txtText.Value = .TovarLookUp.Generate(lvTLUTypeList.TLUTypeMask,lvTLUEdit.TvrID,lvTLUEdit.TvrQnt)
	.cntTxtCalcLenTLU.txtText.Value = oTLU.Generate(lvTLUTypeList.TLUTypeMask,lvTLUEdit.TvrID,lvTLUEdit.TvrQnt)
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _refreshrelatedobjects
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cntIdCtlTreeTLUType._HandleAnyChange
* Called by.......: &lt;~&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*-------------------------------------------------------

*27.04.2005 16:52 -&gt; Äåëàåì ïîëå èäåíòèôèêàòîðà íåàêòèâíûì
This.parent.cntTxtCalcLenTLU.SetEnabled(!lvTLUTypeList.TLUTypeIsGenerate)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I60ZXFI6</uniqueid>
		<timestamp>959943147</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTLU</objname>
		<parent>frmtluadd</parent>
		<properties>FontBold = .T.
Caption = "Èäåíòèôèêàòîð:"
Left = 5
Top = 64
ZOrderSet = 8
Name = "lblTLU"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I60ZXFI4</uniqueid>
		<timestamp>959943147</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenTLU</objname>
		<parent>frmtluadd</parent>
		<properties>Top = 61
Left = 135
ZOrderSet = 9
Name = "cntTxtCalcLenTLU"
txtText.ControlSource = "lvTLUEdit.TLU"
txtText._highlightobject = .Parent.lblLen;.Parent.Parent.lblTLU
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1IA0L9L0Y</uniqueid>
		<timestamp>959943147</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrQnt</objname>
		<parent>frmtluadd</parent>
		<properties>FontBold = .T.
Caption = "Êîëè÷åñòâî òîâàðà:"
Left = 5
Top = 92
ZOrderSet = 10
Name = "lblTvrQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1IA0L9L0Z</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrQnt</objname>
		<parent>frmtluadd</parent>
		<properties>ControlSource = "lvTLUEdit.TvrQnt"
Height = 23
Left = 135
Top = 89
Width = 100
ZOrderSet = 11
_highlightobject = .Parent.lblTvrQnt
Name = "txtTvrQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I60ZXFII</uniqueid>
		<timestamp>959943147</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTLUComment</objname>
		<parent>frmtluadd</parent>
		<properties>FontBold = .T.
Caption = "Ïðèìå÷àíèå:"
Left = 5
Top = 135
ZOrderSet = 12
Name = "lblTLUComment"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1I60ZXFIJ</uniqueid>
		<timestamp>0</timestamp>
		<class>edt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>editbox</baseclass>
		<objname>edtTLUComment</objname>
		<parent>frmtluadd</parent>
		<properties>Height = 53
Left = 135
Top = 117
Width = 200
ZOrderSet = 13
ControlSource = "lvTLUEdit.TLUComment"
IntegralHeight = .T.
_highlightobject = .Parent.lblTLUComment
Name = "edtTLUComment"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HF0Z6S64</uniqueid>
		<timestamp>959943147</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtluadd</parent>
		<properties>Top = 175
Left = 180
TabIndex = 11
ZOrderSet = 14
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1820OF9KN</uniqueid>
		<timestamp>0</timestamp>
		<class>tovarlookup</class>
		<classloc>tovarlookup_v1.vcx</classloc>
		<baseclass>custom</baseclass>
		<objname>TovarLookUp</objname>
		<parent>frmtluadd</parent>
		<properties>Top = 0
Left = 72
Name = "TovarLookUp"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1LI13ZXGD</uniqueid>
		<timestamp>959943147</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>ñhkTluIsMain</objname>
		<parent>frmtluadd</parent>
		<properties>Top = 92
Left = 240
FontBold = .T.
Alignment = 0
Caption = "Îñíîâíîé"
ControlSource = "lvTLUEdit.TluIsMain"
textchange = .F.
Name = "ñhkTluIsMain"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>959943147</timestamp>
		<class>olecommscanner</class>
		<classloc>olecomm.vcx</classloc>
		<baseclass>olecontrol</baseclass>
		<objname>Olecommscanner1</objname>
		<parent>frmtluadd</parent>
		<properties>Top = 168
Left = 36
Height = 48
Width = 58
Enabled = .F.
cbindobj = thisform.cnmbytlu
Name = "Olecommscanner1"
</properties>
		<protected/>
		<methods>PROCEDURE OnComm
*** ActiveX Control Event ***

*28.04.2006 11:24 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcObjectNM, ;
		lcMsg
*------------------------------------------------------------------------------

WITH This

*12.05.2006 09:36 -&gt;×èòàåì êîä
lcMsg = ._Read()
*------------------------------------------------------------------------------
IF NOT EMPTY(lcMsg)
	*12.05.2006 09:40 -&gt;Ïîêàçûâàåì ïîëó÷åííûé êîä
	thisform.cntTxtCalcLenTLU.txtText.Value = []
	thisform.cntTxtCalcLenTLU.Refresh()
		
	thisform.cntTxtCalcLenTLU.txtText.Value = lcMsg
	thisform.cntTxtCalcLenTLU.Refresh()
	thisform.cntTxtCalcLenTLU.SetFocus()
	*------------------------------------------------------------------------------
	KEYBOARD '{ENTER}'
ENDIF
ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************

ENDPROC
</methods>
		<objcode/>
		<ole>0M8R4KGxGuEAAAAAAAAAAAAAAAAAAAAAPgADAP7/CQAGAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAEAAAAgAAAAEAAAD+////AAAAAAAAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9/////v////7////+/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////1IAbwBvAHQAIABFAG4AdAByAHkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAUA//////////8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADACOwx2HckBAwAAAMABAAAAAAAAAwBPAGwAZQBPAGIAagBlAGMAdABEAGEAdABhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4AAgEDAAAAAgAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAADAEEAYwBjAGUAcwBzAE8AYgBqAFMAaQB0AGUARABhAHQAYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJgACAP///////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABLAAAAAAAAAAMAQwBoAGEAbgBnAGUAZABQAHIAbwBwAHMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAIA////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAKsAAAAAAAAABAAAAAIAAAD+////BQAAAP7///8GAAAA/v////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AVopkbiwbEIK2AAAAAAAUIUM0EggAAADtAwAA7QMAAAFWimQAAAYAAAABAAAEAAAAAgEAgCUAAAAACAAAAAAASwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABMAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDb3B5cmlnaHQgKGMpIDE5OTQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAACADAAAAEhhbmRzaGFraW5nAAkAAABJCgAAAAEAAAALAAAAUlRocmVzaG9sZAAJAAAASQoAAAABAAAACgAAAQAAAD8AAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABSVFNFbmFibGUABQAAAEwBAAAACQAAAFNldHRpbmdzABMAAABIAAAAAAoAAAA5NjAwLG4sOCwxCwAAAFNUaHJlc2hvbGQACQAAAEkKAAAAAAAAAAoAAABFT0ZFbmFibGUABQAAAEwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==</ole>
		<ole2>OLEObject = C:\WINDOWS\system32\MSCOMM32.OCX
</ole2>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtluadd</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
Arial, 1, 9, 6, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2CW120HGH</uniqueid>
		<timestamp>976243533</timestamp>
		<class>cnt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cnttvrimg</objname>
		<parent/>
		<properties>Width = 282
Height = 248
cimgfield = lvTvrImageEdit.tvrBlob1
Name = "cnttvrimg"
</properties>
		<protected/>
		<methods>PROCEDURE Refresh
*------------------------------------------------------------------------------
*23.06.2006 16:37 -&gt; Çàãðóæàåì èçîáðàæåíèå êëèåíòà
LOCAL   lcFldName
lcFldName = this.cimgfield
This.imgImage.PictureVal = NVL(&amp;lcFldName,[])
DODEFAULT()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>4</reserved2>
		<reserved3>cimgfield íàçâàíèå ïîëÿ, â êîòîðîì õðàíèòüñÿ èçîáðàæåíèå
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Èçîáðàæåíèå òîâàðà</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2CW123JH8</uniqueid>
		<timestamp>976243533</timestamp>
		<class>img</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>image</baseclass>
		<objname>imgImage</objname>
		<parent>cnttvrimg</parent>
		<properties>Stretch = 1
Height = 210
Left = 6
Top = 6
Width = 270
Name = "imgImage"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2CW123JH9</uniqueid>
		<timestamp>976243533</timestamp>
		<class>cmd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdLoadImage</objname>
		<parent>cnttvrimg</parent>
		<properties>Top = 218
Left = 51
Height = 25
Width = 80
Caption = "Çàãðóçèòü"
Name = "cmdLoadImage"
</properties>
		<protected/>
		<methods>PROCEDURE Click
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Client_v1.vcx
* Class.Module....: cmdLoadImage.Click()
* Called by.......: &lt;Sys Events&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà èçîáðàæåíèÿ êëèåíòà
*------------------------------------------------------------------------------

*23.06.2006 17:58 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL   lcImageFile,lcFldName
*------------------------------------------------------------------------------
WITH This.Parent
*23.06.2006 17:58 -&gt; Âûáèðàåì ôàéë
lcFldName = .cImgField
lcImageFile = GETFILE([BMP;JPG],[Âûáåðèòå èçîáðàæåíèå...])
*------------------------------------------------------------------------------
*23.06.2006 18:00 -&gt; Çàãðóæàåì ôàéë
IF FILE(lcImageFile)
	APPEND MEMORY &amp;lcFldName  FROM (lcImageFile) OVERWRITE
ENDIF
*------------------------------------------------------------------------------
*23.06.2006 18:01 -&gt; Îòîáðàæàåì èçîáðàæåíèå
.IMGIMAGE.PictureVal = &amp;lcFldName
ENDWITH
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2CW123JHB</uniqueid>
		<timestamp>976243533</timestamp>
		<class>cmd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdDeleteImage</objname>
		<parent>cnttvrimg</parent>
		<properties>Top = 218
Left = 159
Height = 25
Width = 80
Caption = "Î÷èñòèòü"
Name = "cmdDeleteImage"
</properties>
		<protected/>
		<methods>PROCEDURE Click
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Client_v1.vcx
* Class.Module....: cmdDeleteImage.Click()
* Called by.......: &lt;Sys Events&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Î÷èñòêà èçîáðàæåíèÿ êëèåíòà
*------------------------------------------------------------------------------
WITH This.Parent
*23.06.2006 18:00 -&gt; Î÷èùàåì èçîáðàæåíèå
REPLACE (.cImgField) WITH .NULL. IN lvTvrImageEdit
*------------------------------------------------------------------------------

*26.06.2006 12:25 -&gt; Âîçâðàùàåì ðèñóíîê ê ïðåæíèì ðàçìåðàì
.imgImage.ResetToDefault([Height])
.imgImage.ResetToDefault([Width])
*------------------------------------------------------------------------------

*23.06.2006 18:01 -&gt; Îòîáðàæàåì èçîáðàæåíèå
.imgImage.PictureVal = (.cImgField)
*------------------------------------------------------------------------------
ENDWITH

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>cnttvrimg</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>976243578</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvredit</objname>
		<parent/>
		<properties>Height = 538
Width = 753
DoCreate = .T.
Caption = "Èíôîðìàöèÿ î òîâàðå"
Icon = ..\graphic\frmtvredit.ico
crequestedoperation = 
ntvrid = 0
Name = "frmtvredit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Name = "CSTRESIZABLE"
Img1.Height = 84
Img1.Left = -60
Img1.Top = 0
Img1.Width = 600
Img1.Name = "Img1"
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: TOVAR_EDIT._HANDLECNTCANCELSAVEEVENT
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*02.04.2004 16:51 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llResSave, ;
		llDataWasChanged, ;
		luRetVal
***		
llDataWasChanged = .F.		
luRetVal = .F.
*------------------------------------------------------------------------------

*02.04.2004 16:51 -&gt;Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage = [OK]
	
	*******************************************************************************
	*1. Ñîõðàíåíèå èíôîðìàöèè î òîâàðå											  *	
	*******************************************************************************
	
	*19.07.2005 18:51 -&gt;Ïîëó÷èì ôëàã áûëè âíåñåíû èçìåíåíèÿ èëè íåò
	llDataWasChanged = .cstDataWork.DataChanged([lvTvrEdit],.T.)
	*------------------------------------------------------------------------------
		
	*02.04.2004 16:51 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ òîâàðà
	IF llDataWasChanged
		
		*02.04.2004 16:59 -&gt;Ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrEdit])
		*------------------------------------------------------------------------------
		
		*02.04.2004 17:00 -&gt;Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE
		
		*19.07.2005 18:57 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrEdit])
		*------------------------------------------------------------------------------
		
	ENDIF	
	*------------------------------------------------------------------------------

	*******************************************************************************
	*2. Ñîõðàíåíèå èíôîðìàöèè î ôàñîâêàõ										  *	
	*******************************************************************************
	
	*19.07.2005 19:32 -&gt;Óäàëèì çàïèñü, åñëè ôàñîâêè íå çàïîëíåíû
	IF lvTvrPkgEdit.PkgTypeID = 0 AND lvTvrPkgEdit.TvPkgTypeID = 0
		DELETE IN lvTvrPkgEdit
	ENDIF
	*------------------------------------------------------------------------------
	
	*19.07.2005 18:51 -&gt;Ïîëó÷èì ôëàã áûëè âíåñåíû èçìåíåíèÿ èëè íåò
	llDataWasChanged = .cstDataWork.DataChanged([lvTvrPkgEdit],.T.)
	luRetVal         = luRetVal OR llDataWasChanged
	*------------------------------------------------------------------------------
	
	*19.07.2005 19:36 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ ôàñîâîê
	IF llDataWasChanged
	
		*04.04.2004 23:20 -&gt;Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrPkgEdit])
		*------------------------------------------------------------------------------
			
		*04.04.2004 23:20 -&gt;Îáðàáàòûâàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrPkgEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
	
	ELSE
		
		*04.04.2004 23:21 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrPkgEdit])
		*------------------------------------------------------------------------------
	
	ENDIF
	*------------------------------------------------------------------------------
		
	*******************************************************************************
	*3. Ñîõðàíåíèå èíôîðìàöèè îá åñòåñòâåííîé óáûëè								  *	
	*******************************************************************************

	*19.07.2005 19:32 -&gt;Óäàëèì çàïèñü, åñëè åñòåñòâåííàÿ óáûëü íå çàïîëíåíà
	IF lvTvrNlsEdit.NatLossWinter = 0 AND ;
	   lvTvrNlsEdit.NatLossSpring = 0 AND ;
	   lvTvrNlsEdit.NatLossSummer = 0 AND ;
	   lvTvrNlsEdit.NatLossAutumn = 0 AND ;
	   lvTvrNlsEdit.NatLossShnur = 0
	    *{
		DELETE IN lvTvrNlsEdit
		*}
	ENDIF
	*------------------------------------------------------------------------------
	
	*19.07.2005 18:51 -&gt;Ïîëó÷èì ôëàã áûëè âíåñåíû èçìåíåíèÿ èëè íåò
	llDataWasChanged = .cstDataWork.DataChanged([lvTvrNlsEdit],.T.)
	luRetVal         = luRetVal OR llDataWasChanged
	*------------------------------------------------------------------------------
	
	*19.07.2005 19:36 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ ôàñîâîê
	IF llDataWasChanged
	
		*04.04.2004 23:20 -&gt;Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrNlsEdit])
		*------------------------------------------------------------------------------
			
		*04.04.2004 23:20 -&gt;Îáðàáàòûâàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrNlsEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
	
	ELSE
		
		*04.04.2004 23:21 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrNlsEdit])
		*------------------------------------------------------------------------------
	
	ENDIF
	*------------------------------------------------------------------------------
	*******************************************************************************
	*4. Ñîõðàíåíèå äîïîëíèòåëüíîé èíôîðìàöèè è êàðòèíîê							  *	
	*******************************************************************************
	
	*19.07.2005 18:51 -&gt;Ïîëó÷èì ôëàã áûëè âíåñåíû èçìåíåíèÿ èëè íåò
	llDataWasChanged = .cstDataWork.DataChanged([lvTvrImageEdit],.T.)
	luRetVal         = luRetVal OR llDataWasChanged
	*------------------------------------------------------------------------------
	
	*19.07.2005 19:36 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ ôàñîâîê
	IF llDataWasChanged
	
		*04.04.2004 23:20 -&gt;Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrImageEdit])
		*------------------------------------------------------------------------------
			
		*04.04.2004 23:20 -&gt;Îáðàáàòûâàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrImageEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
	
	ELSE
		
		*04.04.2004 23:21 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrImageEdit])
		*------------------------------------------------------------------------------
	
	ENDIF
	*------------------------------------------------------------------------------
	
	*03.02.2004 16:30 -&gt;Ñîõðàíÿåì ðåçóëüòàòû è ñêðûâàåì ôîðìó
	.uRetVal = luRetVal
	.Hide()
	*------------------------------------------------------------------------------
	
ELSE

	*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrEdit])
	.cstDataWork.Restore([lvTvrPkgEdit])
	.cstDataWork.Restore([lvTvrNlsEdit])
	.cstDataWork.Restore([lvTvrImageEdit])
	.uRetVal = .F.
	.Hide()
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: TOVAR_EDIT.INIT
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcCommand,tnTovarId&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*-------------------------------------------------------
LPARAMETERS	tcCommand, tnTovarId

*20.01.2004 18:58 -&gt;Default Action
DODEFAULT()
*------------------------------------------------------------------------------

WITH This
.nTvrId = tnTovarId
*19.07.2005 18:45 -&gt;Ñîõðàíèì çàïðîøåííóþ îïåðàöèþ
.cRequestedOperation = tcCommand
*------------------------------------------------------------------------------

*02.02.2004 18:07 -&gt;Âûñòàâèì ïàðàìåòð äëÿ ïåðå÷èòûâàíèÿ Alias-îâ äëÿ ðåäàêòèðîâàíèÿ
PRIVATE _PARAM
_PARAM = tnTovarId
*------------------------------------------------------------------------------
*02.04.2004 15:34 -&gt;Ïåð÷èòàåì Alias äëÿ ðåäàêòèðîâàíèÿ òîâàðîâ
REQUERY([lvTvrEdit])
*------------------------------------------------------------------------------

*01.04.2004 19:11 -&gt;Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE tcCommand == [EDIT]
		.Caption = ALLTRIM(.Caption)+[ - Ðåäàêòèðîâàíèå]
		.Icon    = FULLPATH([frmedit.ico])
	CASE tcCommand == [INFO]
		.Caption = ALLTRIM(.Caption)+[ - Ïðîñìîòð]
		.Icon    = FULLPATH([frminfo.ico])
		***
		.cntCancelSaveHandled.cmdOk.Enabled = .F.
	CASE  tcCommand == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon    = FULLPATH([frmdele.ico])
		***
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
*------------------------------------------------------------------------------

ENDWITH
***********************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: TOVAR_EDIT.LOAD
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû (îòêðûòèå ñïðàâî÷íèêîâ è LV äëÿ ðåäàêòèðîâàíèÿ)
*-------------------------------------------------------
DODEFAULT()

*01.04.2004 14:42 -&gt;Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS
*------------------------------------------------------------------------------

*13.01.2004 20:01 -&gt;Îòêðûâàåì ñïðàâî÷íèêè
USE lvTvrCntTreeView IN 0
USE lvTvrBmps IN 0
USE lvTvrTluBmps IN 0
USE lvTvrTypeList IN 0
USE lvTvrPkgTypeList IN 0
USE lvCltMakerList IN 0
USE lvOuOperateListInt IN 0
USE lvTvrMsuList IN 0
USE lvDiscView IN 0

*17.05.2004 01:34 -&gt; Îòêðûâàåì ñïðàâî÷íèê óñëóã
_PARAM = 3	&amp;&amp; Óñëóãà
USE lvTovarListParam IN 0 ALIAS UslList
*------------------------------------------------------------------------------

*01.04.2004 11:49 -&gt;Îòêðîåì Alias äëÿ ðåäàêòèðîâàíèÿ òîâàðà
USE lvTvrEdit IN 0 NODATA
*------------------------------------------------------------------------------

*02.04.2004 15:31 -&gt;Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ ôàñîâîê
USE lvTvrPkgEdit IN 0 NODATA
*------------------------------------------------------------------------------

*02.04.2004 15:32 -&gt;Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ åñòåñòâåííîé óáûëè
USE lvTvrNlsEdit IN 0 NODATA
*------------------------------------------------------------------------------

*05.04.2004 00:25 -&gt;Îòêðûâàåì LocalView äëÿ Grid-à ñî øòðèõ-êîäàìè (ïóñòîé)
USE lvTvrTLUView IN 0 NODATA
*------------------------------------------------------------------------------	

*05.04.2004 00:25 -&gt;Îòêðûâàåì LocalView äëÿ Grid-à ñ öåíàìè (ïóñòîé)
USE lvTvrPriceView IN 0 NODATA
*------------------------------------------------------------------------------	

*2006 VG -&gt;Îòêðûâàåì LocalView äëÿ Grid-à ñ Äåéñòâèÿìè  (ïóñòîé)
USE lvTvrActRuleView IN 0 NODATA
*------------------------------------------------------------------------------	
USE lvtvrlastbuy IN 0 NODATA

USE lvTvrImageEdit IN 0 NODATA
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE setprice
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: PrimaryDoc_v1.vcx
* Class.Module....: cntTvrBuy.SetPrice
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;tnTvrID&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óñòàíîâêà öåíû ïîñòóïëåíèÿ
*------------------------------------------------------------------------------
LPARAMETERS tnTvrID
LOCAL _param
_param = tnTvrID
WAIT WINDOW 'Îïðåäåëÿåì ïîñëåäíþþ öåíó ïîñòóïëåíèÿ' NOWAIT
REQUERY([lvtvrlastbuy])
WAIT CLEAR
IF RECCOUNT([lvtvrlastbuy]) = 0
		MESSAGEBOX([Öåíà ïîñòóïëåíèÿ íå íàéäåíà...],0+48,[Ïðåäóïðåæäåíèå],500)
	*19.08.2005 11:37 -&gt; ØÊ íå íàéäåí - âûâîäèì ñîîòâåòñòâóþùåå ñîîáùåíèå è âîçâðàùàåì .F.
ENDIF
This.Pgf1.PgPrice.TxtTvrPrcBuy.Value = lvtvrlastbuy.stocktranstvrprcbuy
RETU

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>50</reserved2>
		<reserved3>crequestedoperation Çàïðîøåííàÿ îïåðàöèÿ
ntvrid Êîä òîâàðà ñ êîòîðûì ðàáîòàåì
*setprice 
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Ðåäàêòèðîâàíèå òîâàðà</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_15414NUYH</uniqueid>
		<timestamp>976243578</timestamp>
		<class>pgf</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>pageframe</baseclass>
		<objname>Pgf1</objname>
		<parent>frmtvredit</parent>
		<properties>ErasePage = .T.
PageCount = 6
TabStretch = 0
TabStyle = 0
ActivePage = 1
Top = 6
Left = 5
Width = 739
Height = 498
Tabs = .T.
TabIndex = 1
ZOrderSet = 18
Name = "Pgf1"
Page1.FontBold = .T.
Page1.Caption = "                    Îáùèå äàííûå                    "
Page1.PageOrder = 1
Page1.Name = "pgCommonData"
Page2.FontBold = .T.
Page2.Caption = "Óáûëü, øíóð"
Page2.PageOrder = 5
Page2.Name = "pgPkgAndNls"
Page3.FontBold = .T.
Page3.Caption = "Ïðèçíàêè, èäåíòèôôèêàöèÿ"
Page3.PageOrder = 3
Page3.Name = "pgTLU"
Page4.FontBold = .T.
Page4.Caption = "Öåíû"
Page4.PageOrder = 4
Page4.Name = "pgPrice"
Page5.FontBold = .T.
Page5.Caption = "Äåéñòâèÿ"
Page5.PageOrder = 2
Page5.Name = "pgAction"
Page6.FontBold = .T.
Page6.Caption = "Îïèñàíèå, Èçîáðàæåíèÿ"
Page6.PageOrder = 6
Page6.Name = "pgNote"
</properties>
		<protected/>
		<methods>PROCEDURE pgAction.Activate
*2006 VG -&gt; Îáíîâëÿåì LocalView äëÿ Grid-à ñ Äåéñòâèÿìè
This.Grdaction._RSRequery(ThisForm.nTvrId)
*------------------------------------------------------------------------------	
This.Refresh()
ENDPROC
PROCEDURE pgCommonData.Activate
This.Refresh()
ENDPROC
PROCEDURE pgNote.Activate
LOCAL _PARAM
_PARAM = ThisForm.nTvrId

REQUERY([lvTvrImageEdit])

*!*	IF RECCOUNT([lvTvrImageEdit]) = 0
*!*		APPEND BLANK IN lvTvrImageEdit
*!*		REPLACE lvTvrImageEdit.TvrID WITH ThisForm.nTvrId IN lvTvrImageEdit
*!*	ENDIF
DODEFAULT()
this.Refresh()
ENDPROC
PROCEDURE pgPkgAndNls.Activate
*02.04.2004 15:34 -&gt;Ïåðå÷èòàåì Alias äëÿ ðåäàêòèðîâàíèÿ ôàñîâîê
LOCAL _PARAM
_PARAM = ThisForm.nTvrId
REQUERY([lvTvrPkgEdit])
IF RECCOUNT([lvTvrPkgEdit]) = 0
	INSERT INTO lvTvrPkgEdit (TvrID) VALUES (ThisForm.nTvrId)
ENDIF	
*------------------------------------------------------------------------------

*02.04.2004 15:36 -&gt;Ïåðå÷èòàåì Alis äëÿ ðåäàòèðîâàíèÿ åñòåñòâåííîé óáûëè
REQUERY([lvTvrNlsEdit])
IF RECCOUNT([lvTvrNlsEdit]) = 0
	INSERT INTO lvTvrNlsEdit (TvrID) VALUES (ThisForm.nTvrId)
ENDIF	
*------------------------------------------------------------------------------

This.Refresh()
ENDPROC
PROCEDURE pgPrice.Activate
WITH ThisForm
.setprice(.nTvrId)
*01.04.2004 15:10 -&gt; Îáíîâëÿåì LocalView äëÿ Grid-à ñ öåíàìè
.Pgf1.pgPrice.grdPrice._RSRequery(.nTvrId)
*------------------------------------------------------------------------------	
this.Refresh()
ENDWITH
ENDPROC
PROCEDURE pgTLU.Activate
*01.04.2004 15:10 -&gt; Îáíîâëÿåì LocalView äëÿ Grid-à ñî øòðèõ-êîäàìè
this.grdPlu._RSRequery(ThisForm.nTvrId)
*------------------------------------------------------------------------------	
This.Refresh()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU2M</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrVATRate</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>FontBold = .T.
Caption = "Ñòàâêà ÍÄÑ:"
Left = 5
Top = 204
TabIndex = 20
ZOrderSet = 25
Name = "lblTvrVATRate"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU2P</uniqueid>
		<timestamp>928952047</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrVATRate</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>ControlSource = "lvTvrEdit.TvrVATRate"
Left = 110
TabIndex = 8
Top = 201
ZOrderSet = 26
_highlightobject = .parent.lblTvrVATRate
_usedbfieldproperty = .T.
Name = "txtTvrVATRate"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KM0USR5A</uniqueid>
		<timestamp>976243578</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>Chk1</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>Top = 8
Left = 220
FontBold = .T.
Alignment = 0
ControlSource = "lvTvrEdit.TvrIsActiv"
TabIndex = 12
textchange = .T.
textchecked = Èñïîëüçóåòñÿ
textunchecked = Íå èñïîëüçóåòñÿ
Name = "Chk1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU14</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrID</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>FontBold = .T.
Caption = "Êîä òîâàðà:"
Height = 17
Left = 5
Top = 8
Width = 70
TabIndex = 11
ZOrderSet = 7
Name = "lblTvrID"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU18</uniqueid>
		<timestamp>928952047</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrID</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>ControlSource = "lvTvrEdit.TvrID"
Enabled = .F.
Left = 110
TabIndex = 1
Top = 5
DisabledForeColor = 0,0,0
ZOrderSet = 8
Name = "txtTvrID"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU1H</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrType</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>FontBold = .T.
Caption = "Òèï:"
Left = 5
Top = 36
TabIndex = 13
ZOrderSet = 9
Name = "lblTvrType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU1K</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridTvrType</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>Top = 33
Left = 110
Width = 388
Height = 24
Enabled = .F.
TabIndex = 2
ZOrderSet = 10
_controlsource = lvTvrEdit.TvrTypeID
_controlsourcetype = 1
_rsaliasname = lvTvrTypeList
_rsfieldnameid = TvrTypeID
_rsfieldnametext = TvrTypeNM
_showtextempty = Ãðóïïà íå îïðåäåëåíà
Name = "cntIdCtlGridTvrType"
txtText.Enabled = .F.
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 318
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 343
cmdShow.Enabled = .F.
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 366
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
CmdTree.Top = 0
CmdTree.Left = 319
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU1R</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrNM</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>FontBold = .T.
Caption = "Íàèìåíîâàíèå:"
Left = 5
Top = 92
TabIndex = 15
ZOrderSet = 11
Name = "lblTvrNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU1U</uniqueid>
		<timestamp>976243578</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenTvrNM</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>Top = 89
Left = 110
Width = 388
TabIndex = 4
ZOrderSet = 12
Name = "cntTxtCalcLenTvrNM"
txtText.ControlSource = "lvTvrEdit.TvrNM"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 348
txtText._highlightobject = .Parent.lblLen;.parent.parent.lblTvrNM
txtText.Name = "txtText"
lblLen.Height = 17
lblLen.Left = 360
lblLen.Top = 4
lblLen.Width = 16
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU1Z</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrParent</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>FontBold = .T.
Caption = "Ñîñòîèò â ãðóïïå:"
Left = 5
Top = 64
TabIndex = 14
ZOrderSet = 13
Name = "lblTvrParent"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU23</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cntidctltree</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTvrParent</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>Top = 61
Left = 110
Width = 388
TabIndex = 3
ZOrderSet = 14
_rsaliasname = lvTvrCntTreeView
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
_controlsource = lvTvrEdit.TvrParID
_controlsourcetype = 1
_selectobject = frmIdCtlTreeTovar;tovar_v1.vcx;tovar.app
Name = "cntIdCtlTreeTvrParent"
txtText._highlightobject = .parent.parent.lblTvrParent
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU29</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblMSU</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>FontBold = .T.
Caption = "Áàçîâàÿ åä.èçì.:"
Left = 5
Top = 120
TabIndex = 16
ZOrderSet = 15
Name = "lblMSU"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridMSU</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>Top = 117
Left = 110
Width = 388
TabIndex = 5
ZOrderSet = 16
_controlsource = lvTvrEdit.MsuID
_controlsourcetype = 1
_rsaliasname = lvTvrMsuList
_rsfieldnameid = MsuID
_rsfieldnametext = MsuNM
_showtextempty = Íå îïðåäåëåíà
Name = "cntIdCtlGridMSU"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 316
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 342
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 365
cmdClear.Name = "cmdClear"
CmdTree.Top = 0
CmdTree.Left = 318
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1B4NYC</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridMakerClt</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>Top = 145
Left = 110
Width = 388
TabIndex = 6
ZOrderSet = 16
_controlsource = lvTvrEdit.MakerCltID
_controlsourcetype = 1
_rsaliasname = lvCltMakerList
_rsfieldnameid = ID
_rsfieldnametext = NM
_showtextempty = Íå îïðåäåëåí
_grdinfoparams = oMgrClient;CLT;INFO
Name = "cntIdCtlGridMakerClt"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 316
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 343
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 366
cmdClear.Name = "cmdClear"
CmdTree.Top = 0
CmdTree.Left = 319
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1NP0UXX4O</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>ñntctlGridTvrDiscID</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>Top = 229
Left = 110
Width = 388
TabIndex = 9
ZOrderSet = 16
_controlsource = lvTvrEdit.TvrDiscID
_controlsourcetype = 1
_rsaliasname = lvDiscView
_rsfieldnameid = DiscID
_rsfieldnametext = DiscNM
_showtextempty = Íå îïðåäåëåíà
Name = "ñntctlGridTvrDiscID"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 316
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 343
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 366
cmdClear.Name = "cmdClear"
CmdTree.Top = 0
CmdTree.Left = 319
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>CntidOugrid</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>Top = 173
Left = 110
Width = 388
TabIndex = 7
ZOrderSet = 16
_controlsource = lvTvrEdit.MakerOuID
_controlsourcetype = 1
_rsaliasname = lvOuOperateListInt
_rsfieldnameid = ID
_rsfieldnametext = NM
_showtextempty = Íå îïðåäåëåí
_grdinfoparams = oMgrOrgUnit;INFO
Name = "CntidOugrid"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 316
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 343
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 366
cmdClear.Name = "cmdClear"
CmdTree.Top = 0
CmdTree.Left = 319
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_27S1A9L2P</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>CntidUslGrid</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>Top = 254
Left = 110
Width = 388
TabIndex = 10
ZOrderSet = 16
_controlsource = lvTvrEdit.ServId
_controlsourcetype = 1
_rsaliasname = UslList
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
_showtextempty = Íå îïðåäåëåíà
_showtextnotfound = ... îòñóòñòâóåò
Name = "CntidUslGrid"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 316
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 343
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 366
cmdClear.Name = "cmdClear"
CmdTree.Top = 0
CmdTree.Left = 319
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_27S1A9L2R</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl3</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>FontBold = .T.
Caption = "C óñëóãîé:"
Left = 5
Top = 257
TabIndex = 18
ZOrderSet = 17
Name = "Lbl3"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblMaker</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>FontBold = .T.
Caption = "Ïðîèçâîäèòåëü:"
Left = 5
Top = 148
TabIndex = 17
ZOrderSet = 17
Name = "lblMaker"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1B4NYC</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl2</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>FontBold = .T.
Caption = "Ïîäðàçäåëåíèå:"
Left = 5
Top = 176
TabIndex = 19
ZOrderSet = 17
Name = "Lbl2"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1NP0UXX4N</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl1</objname>
		<parent>frmtvredit.Pgf1.pgCommonData</parent>
		<properties>FontBold = .T.
Caption = "Ñêèäêà:"
Left = 5
Top = 232
TabIndex = 21
ZOrderSet = 17
Name = "Lbl1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU2S</uniqueid>
		<timestamp>976243578</timestamp>
		<class>shp</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>shape</baseclass>
		<objname>shpPkg</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>Top = 10
Left = 5
Height = 66
Width = 360
SpecialEffect = 0
Name = "shpPkg"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU2W</uniqueid>
		<timestamp>976243578</timestamp>
		<class>shp</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>shape</baseclass>
		<objname>shpNatLoss</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>Top = 86
Left = 5
Height = 149
Width = 360
SpecialEffect = 0
Name = "shpNatLoss"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU2Z</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridPkg</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>Top = 20
Left = 110
Enabled = .F.
Visible = .F.
TabIndex = 3
_controlsource = lvTvrPkgEdit.PkgTypeID
_controlsourcetype = 1
_rsaliasname = lvTvrPkgTypeList
_rsfieldnameid = PkgTypeID
_rsfieldnametext = PkgTypeNM
_showtextempty = Íå îïðåäåëåíà
Name = "cntIdCtlGridPkg"
txtText._highlightobject = .Parent.Parent.lblPkg
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU35</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblPackage</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>FontBold = .T.
Caption = "Èíôîðìàöèÿ î ôàñîâêàõ:"
Enabled = .F.
Left = 11
Top = 2
TabIndex = 1
ZOrderSet = 4
Name = "lblPackage"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2CW118RUI</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>LblShnur</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>AutoSize = .F.
FontBold = .T.
Alignment = 1
Caption = "Êîýôôèöèåíò Øíóðà (%):"
Height = 17
Left = 9
Top = 98
Width = 195
TabIndex = 7
ZOrderSet = 4
Name = "LblShnur"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU38</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblPkg</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>AutoSize = .F.
FontBold = .T.
Alignment = 1
Caption = "Ôàñîâêà:"
Enabled = .F.
Height = 17
Left = 10
Top = 22
Visible = .F.
Width = 95
TabIndex = 2
ZOrderSet = 4
Name = "lblPkg"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU3D</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblNlsAutumn</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>AutoSize = .F.
FontBold = .T.
Alignment = 1
Caption = "Åñòåñòâåííàÿ óáûëü îñåíü (%):"
Height = 17
Left = 10
Top = 210
Width = 195
TabIndex = 13
ZOrderSet = 4
Name = "lblNlsAutumn"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU3H</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblNlsSummer</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>AutoSize = .F.
FontBold = .T.
Alignment = 1
Caption = "Åñòåñòâåííàÿ óáûëü ëåòî (%):"
Height = 17
Left = 10
Top = 181
Width = 195
TabIndex = 11
ZOrderSet = 4
Name = "lblNlsSummer"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU3L</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblNlsSpring</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>AutoSize = .F.
FontBold = .T.
Alignment = 1
Caption = "Åñòåñòâåííàÿ óáûëü âåñíà (%):"
Height = 17
Left = 10
Top = 153
Width = 195
TabIndex = 9
ZOrderSet = 4
Name = "lblNlsSpring"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblNlsWinter</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>AutoSize = .F.
FontBold = .T.
Alignment = 1
Caption = "Åñòåñòâåííàÿ óáûëü çèìà (%):"
Height = 17
Left = 10
Top = 125
Width = 195
TabIndex = 7
ZOrderSet = 4
Name = "lblNlsWinter"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU3T</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvPkg</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>AutoSize = .F.
FontBold = .T.
Alignment = 1
Caption = "Ôàñîâêà äëÿ òâ:"
Enabled = .T.
Height = 17
Left = 10
Top = 34
Visible = .T.
Width = 95
TabIndex = 4
ZOrderSet = 4
Name = "lblTvPkg"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU3X</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridTvPkg</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>Top = 30
Left = 110
Enabled = .T.
Visible = .T.
TabIndex = 5
_controlsourcetype = 1
_controlsource = lvTvrPkgEdit.TvPkgTypeID
_rsaliasname = lvTvrMsuList
_rsfieldnameid = MsuID
_rsfieldnametext = MsuNM
_showtextempty = Íå îïðåäåëåíà
Name = "cntIdCtlGridTvPkg"
txtText._highlightobject = .Parent.Parent.lblTvPkg
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU43</uniqueid>
		<timestamp>976243578</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>chkDefineNatLoss</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>Top = 78
Left = 11
Height = 17
Width = 227
FontBold = .T.
Alignment = 0
Caption = "Èñïîëüçîâàòü åñòåñòâåííóþ óáûëü"
ControlSource = "lvTvrNlsEdit.NatLossIsUsed"
TabIndex = 6
_highlightself = .T.
Name = "chkDefineNatLoss"
</properties>
		<protected/>
		<methods>PROCEDURE _handleanychange
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: CHKDEFINENATLOSS._HANDLEANYCHANGE
* Called by.......: &lt;Object Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îáðàáîòêà èçìåíåíèÿ ñîñòîÿíèÿ CheckBox-à "èñïîëüçîâàòü åñòåñòâåííóþ óáûëü"
*-------------------------------------------------------

IF This.Value
	
	*02.04.2004 15:53 -&gt;Âûñòàâèì àêòèâíîñòü ïîëåé äëÿ ââîäà
	This.Parent.txtNlsWinter.Enabled = .T.
	This.Parent.txtNlsSpring.Enabled = .T.
	This.Parent.txtNlsAutumn.Enabled = .T.
	This.Parent.txtNlsSummer.Enabled = .T.
	This.Parent.txtshnur.Enabled = .T.
	*------------------------------------------------------------------------------
	
ELSE

	*02.04.2004 15:53 -&gt;Ñáðîñèì àêòèâíîñòü ïîëåé äëÿ ââîäà
	This.Parent.txtNlsWinter.Enabled = .F.
	This.Parent.txtNlsSpring.Enabled = .F.
	This.Parent.txtNlsAutumn.Enabled = .F.
	This.Parent.txtNlsSummer.Enabled = .F.
	This.Parent.txtshnur.Enabled = .F.
	*------------------------------------------------------------------------------
	
ENDIF

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************

ENDPROC
PROCEDURE Refresh
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: CHKDEFINENATLOSS.Refresh
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îáíîâëåíèå ñîñòîÿíèÿ ñâÿçàííûõ îáúåêòîâ
*-------------------------------------------------------

DODEFAULT()

IF This.Value
	
	*02.04.2004 15:53 -&gt;Âûñòàâèì àêòèâíîñòü ïîëåé äëÿ ââîäà
	This.Parent.txtNlsWinter.Enabled = .T.
	This.Parent.txtNlsSpring.Enabled = .T.
	This.Parent.txtNlsAutumn.Enabled = .T.
	This.Parent.txtNlsSummer.Enabled = .T.
	This.Parent.txtshnur.Enabled = .T.
	*------------------------------------------------------------------------------
	
ELSE

	*02.04.2004 15:53 -&gt;Ñáðîñèì àêòèâíîñòü ïîëåé äëÿ ââîäà
	This.Parent.txtNlsWinter.Enabled = .F.
	This.Parent.txtNlsSpring.Enabled = .F.
	This.Parent.txtNlsAutumn.Enabled = .F.
	This.Parent.txtNlsSummer.Enabled = .F.
	This.Parent.txtshnur.Enabled = .f.
	*------------------------------------------------------------------------------
	
ENDIF

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1B4NYC</uniqueid>
		<timestamp>949848786</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtNlsWinter</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>ControlSource = "lvTvrNlsEdit.NatLossWinter"
Left = 210
TabIndex = 8
Top = 122
Width = 100
_convertcommatopoint = .T.
_highlightobject = .Parent.lblNlsWinter
Name = "txtNlsWinter"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU4G</uniqueid>
		<timestamp>949848786</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtNlsSpring</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>ControlSource = "lvTvrNlsEdit.NatLossSpring"
Left = 210
TabIndex = 10
Top = 150
Width = 100
_convertcommatopoint = .T.
_highlightobject = .Parent.lblNlsSpring
Name = "txtNlsSpring"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU4J</uniqueid>
		<timestamp>949848786</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtNlsSummer</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>ControlSource = "lvTvrNlsEdit.NatLossSummer"
Left = 210
TabIndex = 12
Top = 178
Width = 100
_highlightobject = .Parent.lblNlsSummer
_convertcommatopoint = .T.
Name = "txtNlsSummer"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KE0ZKU4N</uniqueid>
		<timestamp>949848786</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtNlsAutumn</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>ControlSource = "lvTvrNlsEdit.NatLossAutumn"
Left = 210
TabIndex = 14
Top = 207
Width = 100
_highlightobject = .Parent.lblNlsAutumn
_convertcommatopoint = .T.
Name = "txtNlsAutumn"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2CW118RUJ</uniqueid>
		<timestamp>949848786</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>TxtShnur</objname>
		<parent>frmtvredit.Pgf1.pgPkgAndNls</parent>
		<properties>ControlSource = "lvTvrNlsEdit.NatLossWinter"
Left = 209
TabIndex = 8
Top = 95
Width = 100
_convertcommatopoint = .T.
_highlightobject = .Parent.LblShnur
Name = "TxtShnur"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KI13XY9S</uniqueid>
		<timestamp>976243512</timestamp>
		<class>grdplu</class>
		<classloc>tovar_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdPlu</objname>
		<parent>frmtvredit.Pgf1.pgTLU</parent>
		<properties>Height = 414
Left = 5
Panel = 1
Top = 5
Width = 721
Name = "grdPlu"
Column1.Header1.Name = "Header1"
Column1.Txtgrd1.Name = "Txtgrd1"
Column1.Width = 39
Column1.Name = "Column1"
Column2.Header1.Name = "Header1"
Column2.Txtgrd1.Name = "Txtgrd1"
Column2.Width = 162
Column2.Name = "Column2"
Column3.Header1.Name = "Header1"
Column3.Txtgrd1.Name = "Txtgrd1"
Column3.Width = 271
Column3.Name = "Column3"
</properties>
		<protected/>
		<methods>PROCEDURE handlemsg
LPARAMETERS	tcMessage
DODEFAULT(tcMessage)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40ZIOZ1</uniqueid>
		<timestamp>976243512</timestamp>
		<class>grdprice</class>
		<classloc>tovar_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdPrice</objname>
		<parent>frmtvredit.Pgf1.pgPrice</parent>
		<properties>Height = 383
Left = 5
Panel = 1
Top = 36
Width = 721
Name = "grdPrice"
Column1.Header1.Name = "Header1"
Column1.Txtgrd1.Name = "Txtgrd1"
Column1.Width = 233
Column1.Name = "Column1"
Column2.Header1.Name = "Header1"
Column2.Txtgrd1.Name = "Txtgrd1"
Column2.Width = 230
Column2.Name = "Column2"
Column3.Header1.Name = "Header1"
Column3.Txtgrd1.Name = "Txtgrd1"
Column3.Width = 183
Column3.Name = "Column3"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SS0VKIFG</uniqueid>
		<timestamp>976243578</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrPrcBuy</objname>
		<parent>frmtvredit.Pgf1.pgPrice</parent>
		<properties>FontBold = .T.
Caption = "Öåíà ïîñòóïëåíèÿ:"
Left = 8
Top = 5
TabIndex = 1
ZOrderSet = 1
Name = "lblTvrPrcBuy"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SS0VKIFH</uniqueid>
		<timestamp>0</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrPrcBuy</objname>
		<parent>frmtvredit.Pgf1.pgPrice</parent>
		<properties>Left = 138
ReadOnly = .T.
TabIndex = 2
Top = 2
DisabledForeColor = 0,0,0
ZOrderSet = 2
_highlightobject = .parent.lblTvrPrcBuy
_convertcommatopoint = .T.
_usedbfieldproperty = .T.
Name = "txtTvrPrcBuy"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S401VAPP</uniqueid>
		<timestamp>976243512</timestamp>
		<class>grdaction</class>
		<classloc>tovar_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>Grdaction</objname>
		<parent>frmtvredit.Pgf1.pgAction</parent>
		<properties>Height = 419
Left = 6
Panel = 1
Top = 0
Width = 720
Name = "Grdaction"
Column1.Header1.Name = "Header1"
Column1.Txtgrd1.Name = "Txtgrd1"
Column1.Width = 357
Column1.Name = "Column1"
Column2.Header1.Name = "Header1"
Column2.Text1.Name = "Text1"
Column2.Width = 316
Column2.Name = "Column2"
</properties>
		<protected/>
		<methods>PROCEDURE Column1.Txtgrd1.DblClick
DODEFAULT()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2CW13MWSG</uniqueid>
		<timestamp>976243512</timestamp>
		<class>edt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>editbox</baseclass>
		<objname>edtTvrNote</objname>
		<parent>frmtvredit.Pgf1.pgNote</parent>
		<properties>Height = 192
Left = 4
Top = 1
Width = 727
ControlSource = "lvTvrImageEdit.TvrNote"
Name = "edtTvrNote"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cnttvrimg</class>
		<classloc>tovar_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>Cnttvrimg1</objname>
		<parent>frmtvredit.Pgf1.pgNote</parent>
		<properties>Top = 193
Left = 54
Width = 299
Height = 246
Name = "Cnttvrimg1"
IMGIMAGE.Name = "IMGIMAGE"
cmdLoadImage.Name = "cmdLoadImage"
cmdDeleteImage.Name = "cmdDeleteImage"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2CW161PD4</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cnttvrimg</class>
		<classloc>tovar_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>Cnttvrimg2</objname>
		<parent>frmtvredit.Pgf1.pgNote</parent>
		<properties>Top = 193
Left = 354
Width = 288
Height = 246
cimgfield = lvTvrImageEdit.tvrBlob2
Name = "Cnttvrimg2"
imgImage.Name = "imgImage"
cmdLoadImage.Name = "cmdLoadImage"
cmdDeleteImage.Name = "cmdDeleteImage"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_155143UH8</uniqueid>
		<timestamp>976243578</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvredit</parent>
		<properties>Top = 504
Left = 540
TabIndex = 2
ZOrderSet = 19
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvredit</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>978346531</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmaccedit</objname>
		<parent/>
		<properties>Height = 97
Width = 453
DoCreate = .T.
BorderStyle = 3
Caption = "Äåéñòâèå ñ òîâàðîì"
crequestedoperation = 
Name = "frmaccedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Top = 1
CSTRESIZABLE.Left = 24
CSTRESIZABLE.Name = "CSTRESIZABLE"
Img1.Name = "Img1"
CSTDATAWORK.Top = 0
CSTDATAWORK.Left = 48
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmPriceEdit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage
WITH This

*09.08.2005 17:25 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llDataWasChanged, ;
		llResSave
*------------------------------------------------------------------------------

*09.08.2005 17:26 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage == [OK]

	*09.08.2005 17:26 -&gt; Îïåðàöèÿ óäàëåíèå / ðåäàêòèðîâàíèå
	IF .cRequestedOperation == [DELE]

		*09.08.2005 17:26 -&gt; Óäàëèì çàïèñü
		DELETE IN lvTvrActRuleEdit
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE
		
		*09.08.2005 17:26 -&gt; Ïðîâåðèì áûëè ëè èçìåíåíû äàííûå
		llDataWasChanged = .cstDataWork.DataChanged([lvTvrActRuleEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------	

	*09.08.2005 17:27 -&gt; Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ
	IF llDataWasChanged
		
		*09.08.2005 17:27 -&gt; Âûñòàâëÿåì ôëàã ìîäèôèêàöèè äàííûõ è ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrActRuleEdit])
		*------------------------------------------------------------------------------
		
		*09.08.2005 17:27 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrActRuleEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE

		*09.08.2005 17:27 -&gt; Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrActRuleEdit])
		llResSave = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

	*09.08.2005 17:27 -&gt; Âîçâðàùàåì ðåçóëüòàò
	IF	llResSave

		IF .cRequestedOperation == [ADD]

			*09.08.2005 17:27 -&gt; Ïîëó÷àåì èäåíòèôèêàòîð äîáàâëåíííîãî ýëåìåíòà
			.uRetVal = IIF(llResSave,spGetLastIncrementedID([lvTvrActRuleEdit]),.F.)
			*------------------------------------------------------------------------------

		ELSE

			*09.08.2005 17:27 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
			.uRetVal = .T.
			*------------------------------------------------------------------------------

		ENDIF

	ELSE

		*09.08.2005 17:28 -&gt; Ñîõðàíÿåì ðåçóëüòàò ñîõðàíåíèÿ
		.uRetVal = .F.
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

ELSE

	*09.08.2005 17:28 -&gt; Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrActRuleEdit])
	.uRetVal = .F.
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*09.08.2005 17:28 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmPriceEdit.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcRequestedOperation,tuParam1&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*------------------------------------------------------------------------------
LPARAMETERS	tcRequestedOperation,tuParam1

*09.08.2005 17:02 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*----------------------------------------------------------------------------

WITH This

*09.08.2005 17:02 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
PRIVATE _PARAM
*------------------------------------------------------------------------------

*09.08.2005 17:02 -&gt; Ñîõðàíèì îïåðàöèþ
.cRequestedOperation = tcRequestedOperation
*------------------------------------------------------------------------------

*09.08.2005 17:02 -&gt; Çàãðóçèì äàííûå â Alias äëÿ ðåäàêòèðîâàíèÿ
DO CASE

	CASE .cRequestedOperation == [ADD]
			
		*09.08.2005 17:02 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvPriceEdit
		APPEND BLANK IN lvTvrActRuleEdit
		*------------------------------------------------------------------------------

		*09.08.2005 17:02 -&gt; Ïîäñòàâèì ïåðåäàííûé èäåíòèôèêàòîð òîâàðà
		SELECT lvTvrActRuleEdit
		REPLACE TvrID WITH tuParam1
		REPLACE actionruleid WITH lvAccTypeList.actionruleid
		*------------------------------------------------------------------------------
		
		*28.04.2004 12:17 -&gt; Âûáåðåì äåéñòâèå ïî óìîë÷àíèþ
		SELECT lvAccTypeList
		***LOCATE FOR PrcTypeIsDef
		***
		*.cntIdCtlTreePrcType.SetValue(lvPrcTypeList.PrcTypeID)
		*------------------------------------------------------------------------------
		
	CASE INLIST(.cRequestedOperation,[EDIT],[INFO],[DELE])
		
		
		*09.08.2005 17:03 -&gt; Çàãðóçèì äàííûå â lvPriceEdit
		_PARAM = tuParam1
		REQUERY([lvTvrActRuleEdit])
		*------------------------------------------------------------------------------
		
ENDCASE
*------------------------------------------------------------------------------

*09.08.2005 17:03 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE .cRequestedOperation == [ADD]
		.Caption = ALLTRIM(.Caption)+[ - Äîáàâëåíèå]
		.Icon = FULLPATH([frmadd.ico])
	CASE .cRequestedOperation == [EDIT]
		.Caption = ALLTRIM(.Caption)+[ - Ðåäàêòèðîâàíèå]
		.Icon = FULLPATH([frmedit.ico])
	CASE .cRequestedOperation == [INFO]
		.Caption = ALLTRIM(.Caption)+[ - Ïðîñìîòð]
		.Icon = FULLPATH([frminfo.ico])
		.cntCancelSaveHandled.cmdOk.Enabled = .F.
	CASE .cRequestedOperation == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon = FULLPATH([frmdele.ico])
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmPriceEdit.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*------------------------------------------------------------------------------

*09.08.2005 17:00 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*09.08.2005 17:01 -&gt; Îòêðûâàåì è óñòàíàâëèâàåì òåêóùóþ ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

		*09.08.2005 17:09 -&gt; Îòêðûâàåì ñïðàâî÷íèêè
		*USE lvAccTypeListAdd IN 0 ALIAS lvAccTypeList
		USE lvAccTypeList IN 0

*09.08.2005 17:01 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ
USE lvTvrActRuleEdit IN 0 NODATA
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>4</reserved2>
		<reserved3>crequestedoperation &lt;public/runtime&gt; Îïåðàöèÿ, êîòîðóþ äîëæåí âûïîëíèòü äàííûé îáúåêò.
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Äåéñòâèå ñ òîâàðîì</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1B4NYC</uniqueid>
		<timestamp>978346531</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdActRuleType</objname>
		<parent>frmaccedit</parent>
		<properties>Top = 33
Left = 70
Width = 380
Height = 24
TabIndex = 4
_controlsource = lvTvrActRuleEdit.actionruleid
_controlsourcetype = 1
_rsaliasname = lvAccTypeList
_rsfieldnameid = actionruleid
_rsfieldnametext = actionrulenm
Name = "cntIdActRuleType"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 332
txtText._highlightobject = .Parent.Parent.lblPrcType
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 333
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 356
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
CmdTree.Top = 0
CmdTree.Left = 309
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1BE4FO</uniqueid>
		<timestamp>978346531</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblPrcType</objname>
		<parent>frmaccedit</parent>
		<properties>FontBold = .T.
Caption = "Äåéñòâèå:"
Left = 5
Top = 36
TabIndex = 3
ZOrderSet = 7
Name = "lblPrcType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1HF0Z6S64</uniqueid>
		<timestamp>978346531</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmaccedit</parent>
		<properties>Top = 67
Left = 245
TabIndex = 2
ZOrderSet = 17
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmaccedit</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90PLTT9</uniqueid>
		<timestamp>985421455</timestamp>
		<class>scrfrmview</class>
		<classloc>basis.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvracc</objname>
		<parent/>
		<properties>Top = 0
Left = 0
Height = 501
Width = 863
DoCreate = .T.
Caption = "Äâèæåíèå òîâàðà"
cfilelist = 
caccfilename = 
csaldofilename = 
caccfilenamecdx =  
_standarttoolbar = tlbStandart;basetoolbar_v1.vcx
Name = "frmtvracc"
cstmsghandler.Top = 0
cstmsghandler.Name = "cstmsghandler"
cstresizable.Top = 0
cstresizable.Name = "cstresizable"
Img1.ZOrderSet = 0
Img1.Name = "Img1"
</properties>
		<protected/>
		<methods>PROCEDURE Destroy
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: FRMTVRACC.DESTROY
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

*22.09.2005 14:05 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL   lnFilesCount, ;
		lnCounter, ;
		lnStartPos, ;
		lnEndPos, ;
		lcCurrFileNM, ;
		lcCurrFileAlias
*------------------------------------------------------------------------------

WITH This

*20.09.2005 11:40 -&gt;Óäàëèì âðåìåííûå òàáëèöó
USE IN IIF(USED([tmpTotalView]),[tmpTotalView],0)
IF FILE([tmp\tmpTotalView.dbf])
ERASE tmp\tmpTotalView.dbf
ENDIF
***
USE IN SELECT([TvrAccView])
IF FILE([tmp\]+This.cAccFileName)
	ERASE([tmp\]+This.cAccFileName)
ENDIF
IF FILE([tmp\]+This.cAccFileNameCdx)
	ERASE([tmp\]+This.cAccFileNameCdx)
ENDIF
***
USE IN SELECT([RptStockInfo])
IF FILE([tmp\]+This.cSaldoFileName)
	ERASE([tmp\]+This.cSaldoFileName)
ENDIF
***
*------------------------------------------------------------------------------


*!*	*22.09.2005 14:07 -&gt;Óäàëè ôàéëû ñôîðìèðîâàííûå ÕÏ ïîäãîòîâêè äàííûõ
*!*	IF !EMPTY(.cFileList)

*!*		*22.09.2005 14:07 -&gt;Óäàëÿåì êàæäûé ôàéë èç ñïèñêà, ðàçäåëåííîãî òî÷êîé ñ çàïÿòîé
*!*		lnFilesCount = OCCURS([;],.cFileList)+1
*!*		***
*!*		FOR lnCounter = 1 TO lnFilesCount
*!*			
*!*			*22.09.2005 14:08 -&gt;Âûäåëÿåì èìÿ ôàéëà
*!*			lnStartPos = IIF(lnCounter=1,1,AT([;],.cFileList,lnCounter-1)+1)
*!*			lnEndPos = IIF(lnCounter=lnFilesCount,LEN(.cFileList),AT([;],.cFileList,lnCounter)-1)
*!*			lcCurrFileNM = UPPER(ALLTRIM(SUBSTR(.cFileList,lnStartPos,lnEndPos-lnStartPos+1)))
*!*			*------------------------------------------------------------------------------
*!*			
*!*			*22.09.2005 14:08 -&gt;Åñëè DBF ïðîâåðÿåì íà çàðûòèå
*!*			IF RIGHT(lcCurrFileNM,4)==[.DBF]
*!*				lcCurrFileAlias = SUBSTR(lcCurrFileNM,1,LEN(lcCurrFileNM)-4)
*!*				IF USED(lcCurrFileAlias)
*!*					USE IN (lcCurrFileAlias)
*!*				ENDIF
*!*			ENDIF
*!*			*------------------------------------------------------------------------------		
*!*				
*!*			*22.09.2005 14:08 -&gt;Óäàëÿåì ôàéë
*!*			IF FILE([tmp\]+lcCurrFileNM)
*!*				ERASE ([tmp\]+lcCurrFileNM)
*!*			ENDIF	
*!*			*------------------------------------------------------------------------------
*!*			
*!*		ENDFOR
*!*		*------------------------------------------------------------------------------	
*!*		
*!*	ENDIF
*------------------------------------------------------------------------------

*20.09.2005 11:50 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

ENDWITH

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: FRMTVRACC.INIT
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tnScrFrm,tnTvrID&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------
LPARAMETERS tnScrFrm,tnTvrID
*22.09.2005 11:15 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL  _PARAM
*------------------------------------------------------------------------------

WITH This

*19.09.2005 13:59 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT(tnScrFrm)
*------------------------------------------------------------------------------

*25.05.2004 23:11 -&gt;Çàãðóçèì ôèëüòðû äëÿ òåêóùåé ôîðìû
.cntQueryParam.ParamObjectCreate(__QPOTYPE_SCRFRM, .nScrFrmID)
*------------------------------------------------------------------------------

*20.09.2005 17:03 -&gt;Çàïèøåì äîïîëíèòåëüíûé ïàðàìåòð ôèëüòðàöèè
luQryParDateEnabled   = oQryParMgr.ParamSet(.cntQueryParam.cQryParSID,[qpnTvrID],tnTvrID,[N])
*------------------------------------------------------------------------------

*22.09.2005 11:16 -&gt;Ïîëó÷èì èíôîðìóöèþ î òîâàðå
_PARAM = tnTvrID
_PARAM_PRCTYPE = 1 &amp;&amp;.FrmPrcType &amp;&amp; ïðîâåðèòü ïðàâèëüíîñòü
REQUERY([lvTovarInfo])
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
******************************** END PROCEDURE ********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrAcc.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

*19.09.2005 16:01 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*19.09.2005 14:46 -&gt;Îòêðîåì ÁÄ
IF !USED([Basis])
	OPEN DATABASE Basis SHARED
ENDIF
***
SET DATABASE TO Basis
*------------------------------------------------------------------------------

*******************************************************************************
* Çàãðóçèì ïóñòîé Alias äëÿ ïðîñìîòðà ñîäåðæèìîãî êàðòî÷êè                    *
*******************************************************************************

*02.12.2004 16:59 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcUniqueName
*------------------------------------------------------------------------------

*21.04.2004 14:05 -&gt;Âûïîëíèì õðàíèìóþ ïðîöåäóðó äëÿ ïîëó÷åíèÿ ïóñòîé òàáëèöû
lcUniqueName = spT28Report([NODATA])

*14.08.2006 09:44 -&gt;Ïîëó÷èì èìåíà äëÿ òàáëèö
This.cAccFileName = ALLTRIM(SYS(2015))
This.cAccFileNameCDX = [_ta]+This.cAccFileName + [.cdx]
This.cAccFileName = [_ta]+This.cAccFileName + [.dbf]
This.cSaldoFileName = [_ta]+SYS(2015) + [.dbf]
*------------------------------------------------------------------------------

*14.08.2006 09:45 -&gt;Ñîõðàíèì èìåíà ôàéëîâ äëÿ èõ ïîñëåäóþùåãî óäàëåíèÿ
*ThisForm.cFileList = This.cAccFileName + [;] + This.cSaldoFileName
*------------------------------------------------------------------------------
*21.04.2004 14:08 -&gt;Òåïåðü îòêðîåì äàííûé Alias
IF FILE([TMP\RptItogDT.cdx])
	COPY FILE TMP\RptItogDT.cdx TO [tmp\]+This.cAccFileNameCDX
ENDIF
COPY FILE (LEFT(lcUniqueName,AT([;],lcUniqueName)-1)) TO [tmp\]+This.cAccFileName
USE (This.cAccFileName) IN 0 ALIAS TvrAccView
*------------------------------------------------------------------------------

*20.09.2005 11:37 -&gt;Îòêðîåì òàáëèöó ñ îñòàòêîì íà íà÷àëî
COPY FILE (SUBSTR(lcUniqueName,AT([;],lcUniqueName)+1, AT([;],lcUniqueName,2)-AT([;],lcUniqueName)-1)) TO [tmp\]+This.cSaldoFileName
USE (This.cSaldoFileName) IN 0 ALIAS RptStockInfo
*------------------------------------------------------------------------------

*22.09.2005 10:59 -&gt;Îòêðîåì LV äëÿ ïðîñìîòðà èíôîðìàöèè î òîâàðå
USE lvTovarInfo IN 0 NODATA
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>36</reserved2>
		<reserved3>cfilelist ñïèñîê ôàéëîâ, êîòîðûé âîçâðàùàåò ÕÏ ïîäãîòîâêè äàííûõ
caccfilename èìÿ ôàéëà ñ èíôîðìàöèåé î äâèæåíèè òîâàðà
csaldofilename èìÿ ôàéëà ñ ñàëüäî íà íà÷àëî
caccfilenamecdx èìÿ èíäåêñíîãî ôàéëà ê èíôîðìàöèè î ääâèæåíèè òîâàðà
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Äâèæåíèå òîâàðîâ</reserved7>
		<reserved8>..\include\qryparparobjtypes.h</reserved8>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>961302761</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtStockQnt</objname>
		<parent>frmtvracc</parent>
		<properties>ControlSource = "RptStockInfo.TvrQnt"
Height = 23
Left = 13
ReadOnly = .T.
Top = 372
Visible = .F.
Width = 80
ZOrderSet = 1
Name = "txtStockQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MC111208</uniqueid>
		<timestamp>961302761</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtStockSum</objname>
		<parent>frmtvracc</parent>
		<properties>ControlSource = "RptStockInfo.TvrSum"
Left = 138
ReadOnly = .T.
Top = 372
Visible = .F.
ZOrderSet = 2
Name = "txtStockSum"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90TY53D</uniqueid>
		<timestamp>985421455</timestamp>
		<class>cntqueryparam</class>
		<classloc>queryparamio_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntQueryParam</objname>
		<parent>frmtvracc</parent>
		<properties>Top = 352
Left = 322
Width = 474
Height = 21
ZOrderSet = 4
Name = "cntQueryParam"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90VTQYA</uniqueid>
		<timestamp>985421455</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTvrMove</objname>
		<parent>frmtvracc</parent>
		<properties>ColumnCount = 12
HeaderHeight = 38
Height = 327
Left = -1
Panel = 1
ReadOnly = .F.
RecordSource = "TvrAccView"
Top = 23
Width = 865
ZOrderSet = 5
_handledstandartmsgpromptlist = Ïîäãîòîâèòü îò÷åò
_handledstandartmsglist = PRNREP
Name = "grdTvrMove"
Column1.ControlSource = "TvrAccView.FrmDateAcc"
Column1.Width = 60
Column1.ReadOnly = .T.
Column1.Name = "Column1"
Column2.ControlSource = "TvrAccView.FrmNum"
Column2.Width = 60
Column2.ReadOnly = .T.
Column2.Name = "Column2"
Column3.ControlSource = "TvrAccView.OUNM"
Column3.Width = 90
Column3.ReadOnly = .T.
Column3.Name = "Column3"
Column4.ControlSource = "TvrAccView.CltNM"
Column4.Width = 90
Column4.ReadOnly = .T.
Column4.Name = "Column4"
Column5.ControlSource = "TvrAccView.TvrPrcBuy"
Column5.Width = 60
Column5.ReadOnly = .T.
Column5.Name = "Column5"
Column6.ControlSource = "TvrAccView.TvrInQnt"
Column6.Width = 60
Column6.ReadOnly = .T.
Column6.Name = "Column6"
Column7.ControlSource = "TvrAccView.InSum"
Column7.Width = 70
Column7.ReadOnly = .T.
Column7.Name = "Column7"
Column8.ControlSource = "TvrAccView.TvrOutQnt"
Column8.Width = 60
Column8.ReadOnly = .T.
Column8.Name = "Column8"
Column9.ControlSource = "TvrAccView.OutSum"
Column9.CurrentControl = "Txtgrd1"
Column9.Width = 70
Column9.ReadOnly = .T.
Column9.Name = "Column9"
Column10.ControlSource = "TvrAccView.StockQnt"
Column10.CurrentControl = "Txtgrd1"
Column10.Width = 60
Column10.ReadOnly = .F.
Column10.Name = "Column10"
Column11.ControlSource = "TvrAccView.StockSum"
Column11.Width = 70
Column11.ReadOnly = .F.
Column11.Name = "Column11"
Column12.ControlSource = "TvrAccView.TvrPrcSale"
Column12.Name = "Column12"
</properties>
		<protected/>
		<methods>PROCEDURE _prnrep
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrMove._PrnRep
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïå÷àòü îò÷åòà î äâèæåíèè òîâàðà
*------------------------------------------------------------------------------

*10.10.2005 10:42 -&gt;Âûïîëíèì ìåòîä ìåíåäæåðà äëÿ ïå÷àòè îò÷¸òà
*22.09.2005 09:07 -&gt;Ïå÷àòàåì îò÷åò
oMgrTovar.Do([TVRACC],[PRNREP],ThisForm.nScrFrmID)
*------------------------------------------------------------------------------
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _rsrequery
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrMove._RSRequery
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------

*19.09.2005 16:05 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcUniqueName, ;
		lcUniqueFilePath, ;
		lcUniqueAccName, ;
		lcUniqueSaldoName, ;
		lnCurrTvrQnt, ;
		lnCurrTvrSum
*------------------------------------------------------------------------------

WITH THIS

*19.09.2005 16:05 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*19.09.2005 16:05 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*19.09.2005 16:05 -&gt;Çàêðîåì Alias è óäàëèì âðåìåííóþ òàáëèöó
lcUniqueFilePath = DBF([TvrAccView])
***
USE IN TvrAccView
USE IN IIF(USED([RptStockInfo]),[RptStockInfo],0)
*------------------------------------------------------------------------------

*19.09.2005 16:07 -&gt;Âûïîëíèì õðàíèìóþ ïðîöåäóðó äëÿ ïîëó÷åíèÿ äàííûõ
lcUniqueName = spT28Report(ThisForm.cntQueryParam.cQryParSID)
*ThisForm.cFileList = lcUniqueName
*------------------------------------------------------------------------------

*21.04.2004 14:08 -&gt;Òåïåðü îòêðîåì äàííûé Alias
COPY FILE (LEFT(lcUniqueName,AT([;],lcUniqueName)-1)) TO [tmp\]+This.Parent.cAccFileName
USE (This.Parent.cAccFileName) IN 0 ALIAS TvrAccView
*------------------------------------------------------------------------------

*20.09.2005 11:37 -&gt;Îòêðîåì òàáëèöó ñ îñòàòêîì íà íà÷àëî
COPY FILE (SUBSTR(lcUniqueName,AT([;],lcUniqueName)+1, AT([;],lcUniqueName,2)-AT([;],lcUniqueName)-1)) TO [tmp\]+This.Parent.cSaldoFileName
USE (This.Parent.cSaldoFileName) IN 0 ALIAS RptStockInfo
*------------------------------------------------------------------------------

*!*	*21.04.2004 14:08 -&gt;Òåïåðü îòêðîåì äàííûé Alias
*!*	USE (LEFT(lcUniqueName,AT([;],lcUniqueName)-1)) IN 0 ALIAS TvrAccView
*!*	CURSORSETPROP([BUFFERING],1,[TvrAccView])
*!*	*------------------------------------------------------------------------------

*!*	*20.09.2005 11:37 -&gt;Îòêðîåì òàáëèöó ñ îñòàòêîì íà íà÷àëî
*!*	USE (SUBSTR(lcUniqueName,AT([;],lcUniqueName)+1, AT([;],lcUniqueName,2)-AT([;],lcUniqueName)-5)) IN 0
*!*	*------------------------------------------------------------------------------

*22.09.2005 15:58 -&gt;Ðàññ÷èòûâàåì îñòàòêè ïî äâèæåíèþ
lnCurrTvrQnt = NVL(RptStockInfo.TvrQnt,0)
lnCurrTvrSum = NVL(RptStockInfo.TvrSum,0)
***
SELECT TvrAccView
SCAN ALL
	lnCurrTvrQnt = lnCurrTvrQnt + NVL(TvrAccView.TvrQnt,0)
	lnCurrTvrSum = lnCurrTvrSum + NVL(TvrAccView.TvrSum,0)
	REPLACE ;
		TvrAccView.StockQnt WITH lnCurrTvrQnt, ;
		TvrAccView.StockSum WITH lnCurrTvrSum
ENDSCAN
***
*GO TOP
*------------------------------------------------------------------------------

*22.09.2005 17:15 -&gt;Îáíîâèì îñòàòêè íà íà÷àëî ïåðèîäà
ThisForm.txtStockQnt.Refresh()
ThisForm.txtStockSum.Refresh()
*------------------------------------------------------------------------------

*22.09.2005 17:16 -&gt;Ñêðîåì íåíóæíûå ýëåìåíòû
ThisForm.lblStockQnt.Visible = (NVL(RptStockInfo.TvrQnt,0)#0)
ThisForm.txtStockQnt.Visible = (NVL(RptStockInfo.TvrQnt,0)#0)
ThisForm.lblStockSum.Visible = (NVL(RptStockInfo.TvrQnt,0)#0)
ThisForm.txtStockSum.Visible = (NVL(RptStockInfo.TvrQnt,0)#0)
*------------------------------------------------------------------------------

*05.05.2004 01:36 -&gt;Âîññòàíàâëèâàåì Alias
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90W88ZP</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column1</parent>
		<properties>Alignment = 2
Caption = "Äàòà äîêóìåíòà"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYEX</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column1</parent>
		<properties>Left = 31
Top = 62
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90W88ZR</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column2</parent>
		<properties>Alignment = 2
Caption = "Íîìåð äîêóìåíòà"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYEY</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column2</parent>
		<properties>Left = 30
Top = 74
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90W88ZT</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column3</parent>
		<properties>Alignment = 2
Caption = "Ïîäðàçäåëåíèå"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYEZ</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column3</parent>
		<properties>Left = 53
Top = 74
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90W88ZV</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column4</parent>
		<properties>Alignment = 6
Caption = "Ïîñòàâùèê èëè ïîêóïàòåëü"
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYF0</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column4</parent>
		<properties>Left = 22
Top = 74
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90W8905</uniqueid>
		<timestamp>918721927</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column5</parent>
		<properties>Alignment = 6
Caption = "Öåíà, ðóá."
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYF1</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column5</parent>
		<properties>Left = 27
Top = 74
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90W8907</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column6</parent>
		<properties>Alignment = 2
Caption = "Ïðèõîä"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYFC</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column6</parent>
		<properties>Left = 26
Top = 62
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90W8909</uniqueid>
		<timestamp>918721927</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column7</parent>
		<properties>Alignment = 6
Caption = "Ñóììà, ðóá."
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYFD</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column7</parent>
		<properties>Left = 25
Top = 62
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1M90W890B</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column8</parent>
		<properties>Alignment = 2
Caption = "Ðàñõîä"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYFE</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column8</parent>
		<properties>Left = 14
Top = 62
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MA0JZ631</uniqueid>
		<timestamp>918721927</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column9</parent>
		<properties>Alignment = 2
Caption = "Ñóììà, ðóá."
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYFF</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column9</parent>
		<properties>Left = 37
Top = 86
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MC0Y1FJP</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column10</parent>
		<properties>Alignment = 2
Caption = "Îñòàòîê"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYFG</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column10</parent>
		<properties>Left = 38
Top = 74
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MC0Y1FJR</uniqueid>
		<timestamp>918721927</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column11</parent>
		<properties>Alignment = 2
Caption = "Ñóììà, ðóá."
WordWrap = .T.
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MU0NEYFH</uniqueid>
		<timestamp>0</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvracc.grdTvrMove.Column11</parent>
		<properties>Left = 25
Top = 74
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2NV0NB49H</uniqueid>
		<timestamp>985421455</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvracc.grdTvrMove.Column12</parent>
		<properties>Caption = "Öåíà ïðîä."
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2NV0NB49I</uniqueid>
		<timestamp>985421455</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvracc.grdTvrMove.Column12</parent>
		<properties>BorderStyle = 0
Margin = 0
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>961302887</timestamp>
		<class>cmd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdUpdate</objname>
		<parent>frmtvracc</parent>
		<properties>Top = 475
Left = 6
Caption = "Îáíîâèòü"
ZOrderSet = 6
Name = "cmdUpdate"
</properties>
		<protected/>
		<methods>PROCEDURE Click
WAIT [Âûáèðàåì äîêóìåíòû ïî ïðîäóêòó ...]WINDOW NOWAIT
ThisForm.cntQueryParam.QueryParamSet()
ThisForm.grdTvrMove._RSRequery()
WAIT CLEAR

ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>961302761</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrNM</objname>
		<parent>frmtvracc</parent>
		<properties>ControlSource = "lvTovarInfo.TvrNM"
Enabled = .F.
Height = 23
Left = 5
Top = 0
Width = 245
DisabledForeColor = 0,0,0
ZOrderSet = 7
Name = "txtTvrNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MC0OFCZW</uniqueid>
		<timestamp>961302761</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrID</objname>
		<parent>frmtvracc</parent>
		<properties>ControlSource = "lvTovarInfo.TvrID"
Enabled = .F.
Left = 295
Top = 0
DisabledForeColor = 0,0,0
ZOrderSet = 8
Name = "txtTvrID"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MC0OIW24</uniqueid>
		<timestamp>985421455</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl1</objname>
		<parent>frmtvracc</parent>
		<properties>Caption = "Êîä:"
Left = 254
Top = 3
ZOrderSet = 9
Name = "Lbl1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1SS0TC5DP</uniqueid>
		<timestamp>961302761</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>TxtMsuNm</objname>
		<parent>frmtvracc</parent>
		<properties>ControlSource = "lvTovarInfo.MsuNm"
Enabled = .F.
Height = 23
Left = 480
Top = 0
Width = 204
DisabledForeColor = 0,0,0
ZOrderSet = 10
Name = "TxtMsuNm"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1MC111206</uniqueid>
		<timestamp>985421455</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblStockQnt</objname>
		<parent>frmtvracc</parent>
		<properties>Caption = "Îñòàòîê íà íà÷àëî ïåðèîäà:"
Left = 6
Top = 355
Visible = .F.
ZOrderSet = 12
Name = "lblStockQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>985421455</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblStockSum</objname>
		<parent>frmtvracc</parent>
		<properties>Caption = "ñóììà:"
Left = 97
Top = 375
Visible = .F.
ZOrderSet = 13
Name = "lblStockSum"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvracc</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1></reserved1>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>989155001</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrfastadd</objname>
		<parent/>
		<properties>Height = 317
Width = 365
DoCreate = .T.
Caption = "Èíôîðìàöèÿ î òîâàðå - Áûñòðîå äîáàâëåíèå"
Icon = ..\graphic\frmtvradd.ico
nstorageplacerel = 0
Name = "frmtvrfastadd"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Name = "CSTRESIZABLE"
Img1.Name = "Img1"
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrFastAdd._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*26.12.2005 18:23 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llResSave, ;
		lnTvrID
*------------------------------------------------------------------------------

*21.12.2005 15:40 -&gt; Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage = [OK]
	*******************************************************************************
	*1. Ñîõðàíåíèå èíôîðìàöèè î òîâàðå											  *	
	*******************************************************************************
	
	*26.12.2005 18:23 -&gt; Ïðîèçâîäèì ñîõðàíåíèå
	llResSave = .cstDataWork.Save([lvTvrEdit])
	*------------------------------------------------------------------------------

	*26.12.2005 18:24 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
	IF !llResSave
		IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
			RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
		ELSE	
			MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ Òîâàðà ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
			.cstDataWork.Restore([lvTvrEdit])
		ENDIF	
	ENDIF
	*------------------------------------------------------------------------------

	*26.12.2005 18:24 -&gt; Ñîõðàíÿåì äîïîëíèòåëüíóþ èíôîðìàöèþ î òîâàðå
	IF llResSave

		*26.12.2005 18:25 -&gt; Ñîõðàíÿåì èäåíòèôèêàòîð äîáàâëåííîãî òîâàðà
		lnTvrID = spGetLastIncrementedID([lvTvrEdit])
		*------------------------------------------------------------------------------

		*21.12.2005 16:05 -&gt; Çàïèøåì èäåíòèôèêàòîð äîáàâëåííîãî òîâàðà
		REPLACE TvrID WITH lnTvrID IN lvPriceEdit
		*------------------------------------------------------------------------------

		*21.12.2005 15:58 -&gt; Ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvPriceEdit])
		*------------------------------------------------------------------------------

		*21.12.2005 15:58 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ Öåíû ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvPriceEdit])
			ENDIF
		ENDIF
		*------------------------------------------------------------------------------

		*21.12.2008 16:05 -&gt; Çàïèøåì èäåíòèôèêàòîð äîáàâëåííîãî òîâàðà
		REPLACE TvrID WITH lnTvrID IN lvTLUEdit
		*------------------------------------------------------------------------------

		*21.12.2008 15:58 -&gt; Ïðîèçâîäèì ñîõðàíåíèå
		IF !EMPTY(this.cntTxtCalcLenTLU.txtText.Value)
		llResSave = .cstDataWork.Save([lvTLUEdit])
		*------------------------------------------------------------------------------

		*21.12.2008 15:58 -&gt; Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ Øòðèõêîäà ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTLUEdit])
			ENDIF
		ENDIF
		ELSE
		.cstDataWork.Restore([lvTLUEdit])
		*------------------------------------------------------------------------------
		ENDIF
	ELSE

		*21.12.2005 15:59 -&gt; Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvPriceEdit])
		*------------------------------------------------------------------------------

	ENDIF
	*------------------------------------------------------------------------------

	*21.12.2005 15:55 -&gt; Âåðíåì ðåçóëüòàò
	.uRetVal = IIF(llResSave,lnTvrID,.F.)
	*------------------------------------------------------------------------------

ELSE

	*21.01.2004 20:01 -&gt; Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrEdit])
	.cstDataWork.Restore([lvPriceEdit])
	.cstDataWork.Restore([lvTLUEdit])
	*------------------------------------------------------------------------------

	*21.12.2005 15:39 -&gt; Âåðíåì False
	.uRetVal = .F.
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

*21.12.2005 11:07 -&gt; Ñêðûâàåì ôîðìó
.Hide()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrFastAdd.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*-------------------------------------------------------

*26.12.2005 17:35 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

WITH This

*26.12.2005 17:47 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvTvrEdit
APPEND BLANK IN lvTvrEdit
*------------------------------------------------------------------------------
REPLACE MsuId WITH 1 IN lvTvrEdit
*** - 21.07.2009 09:53:03 Ãëóõîâ Â.Þ. (C) - &gt; Ñòàâèì ÍÄÑ ïî-óìîë÷àíèþ
LOCAL nNds
nNds = oApp.nNds
REPLACE TvrVatRate WITH nNds IN lvTvrEdit

*09.08.2005 17:02 -&gt; Äîáàâèì ïóñòóþ çàïèñü â lvPriceEdit
APPEND BLANK IN lvPriceEdit
*------------------------------------------------------------------------------

*28.04.2004 12:17 -&gt; Âûáåðåì òèï öåíû ïî óìîë÷àíèþ
SELECT lvPrcTypeList
LOCATE FOR PrcTypeIsDef
***
REPLACE PrcTypeID WITH lvPrcTypeList.PrcTypeID IN lvPriceEdit
*------------------------------------------------------------------------------
APPEND BLANK IN lvTLUEdit
*------------------------------------------------------------------------------
IF VARTYPE(pcBar)=[C]
	REPLACE  TLU WITH pcBar IN lvTLUEdit
ENDIF
	REPLACE TLUTypeId WITH 1, TvrQnt WITH 1 IN lvTLUEdit
ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrFastAdd.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû (îòêðûòèå ñïðàâî÷íèêîâ è LV äëÿ ðåäàêòèðîâàíèÿ)
*------------------------------------------------------------------------------

*26.12.2005 17:29 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*01.04.2004 14:42 -&gt; Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS
*------------------------------------------------------------------------------

*13.01.2004 20:01 -&gt; Îòêðûâàåì ñïðàâî÷íèêè
USE lvTvrCntTreeView IN 0
USE lvTvrBmps IN 0
USE lvTvrTluBmps IN 0
USE lvTvrTypeList IN 0
USE lvTvrPkgTypeList IN 0
USE lvCltMakerList IN 0
USE lvTvrMsuList IN 0
USE lvDiscView IN 0
USE lvPrcTypeList IN 0
USE lvTLUTypeList IN 0
SELECT * FROM lvTLUTypeList WHERE !lvTLUTypeList.TLUTypeIsGenerate INTO CURSOR lvTLUTypeListShort
USE IN lvTLUTypeList
*------------------------------------------------------------------------------

*01.04.2004 11:49 -&gt; Îòêðîåì Alias äëÿ ðåäàêòèðîâàíèÿ òîâàðà
USE lvTvrEdit IN 0 NODATA
*------------------------------------------------------------------------------

*09.08.2005 17:01 -&gt; Îòêðûâàåì Alias äëÿ ðåäàêòèðîâàíèÿ öåíû
USE lvPriceEdit IN 0 NODATA
*------------------------------------------------------------------------------
USE lvTLUEdit IN 0 NODATA

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Resize
NODEFAULT
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>22</reserved2>
		<reserved3>nstorageplacerel
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLPC</uniqueid>
		<timestamp>989155001</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrType</objname>
		<parent>frmtvrfastadd</parent>
		<properties>FontBold = .T.
Caption = "Òèï:"
Left = 5
Top = 8
TabIndex = 1
ZOrderSet = 6
Name = "lblTvrType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2KC15ZLIH</uniqueid>
		<timestamp>989155001</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTLUType</objname>
		<parent>frmtvrfastadd</parent>
		<properties>FontBold = .T.
Caption = "Òèï øê:"
Enabled = .F.
Left = 5
Top = 204
TabIndex = 15
ZOrderSet = 6
Name = "lblTLUType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLPD</uniqueid>
		<timestamp>989155001</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridTvrType</objname>
		<parent>frmtvrfastadd</parent>
		<properties>Top = 5
Left = 110
Enabled = .F.
TabIndex = 2
ZOrderSet = 7
_controlsource = lvTvrEdit.TvrTypeID
_controlsourcetype = 1
_rsaliasname = lvTvrTypeList
_rsfieldnameid = TvrTypeID
_rsfieldnametext = TvrTypeNM
_showtextempty = Ãðóïïà íå îïðåäåëåíà
Name = "cntIdCtlGridTvrType"
txtText.Enabled = .F.
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Enabled = .F.
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2KC15ZLIL</uniqueid>
		<timestamp>989155001</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTLUType</objname>
		<parent>frmtvrfastadd</parent>
		<properties>Top = 201
Left = 110
Enabled = .F.
TabIndex = 16
ZOrderSet = 7
_controlsource = lvTLUEdit.TLUTypeID
_controlsourcetype = 1
_rsaliasname = lvTLUTypeListShort
_rsfieldnameid = TLUTypeID
_rsfieldnametext = TLUTypeNM
Name = "cntIdCtlTreeTLUType"
txtText._highlightobject = .Parent.Parent.lblTLUType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Enabled = .F.
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods>PROCEDURE _handleanychange
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cntIdCtlTreeTLUType._HandleAnyChange
* Called by.......: &lt;~&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*-------------------------------------------------------
*27.04.2005 16:48 -&gt; Åñëè ñòîèò ôëàã "Ãåíåðàöèÿ èäåíòèôèêàòîðà" ãåíåðèðóåì åãî, èíà÷å î÷èùàåì ïîëå èäåíòèôèêàòîðà
IF lvTLUTypeListShort.TLUTypeIsGenerate
	
	*27.04.2005 16:52 -&gt; Ãåíåðèðóåì èäåíòèôèêàòîð, èñïîëüçóÿ ìàñêó
*	.cntTxtCalcLenTLU.txtText.Value = .TovarLookUp.Generate(lvTLUTypeList.TLUTypeMask,lvTLUEdit.TvrID,lvTLUEdit.TvrQnt)
*	.cntTxtCalcLenTLU.txtText.Value = oTLU.Generate(lvTLUTypeList.TLUTypeMask,lvTLUEdit.TvrID,lvTLUEdit.TvrQnt)
	*------------------------------------------------------------------------------
	this.Parent.cntTxtCalcLenTLU.txtText.Value=oTLU.Generate(lvTLUTypeListShort.TLUTypeMask,lvTLUEdit.TvrID,lvTLUEdit.TvrQnt)
ENDIF
*------------------------------------------------------------------------------
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _refreshrelatedobjects
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cntIdCtlTreeTLUType._HandleAnyChange
* Called by.......: &lt;~&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: &lt;~&gt;
*-------------------------------------------------------

*27.04.2005 16:52 -&gt; Äåëàåì ïîëå èäåíòèôèêàòîðà íåàêòèâíûì
*This.parent.cntTxtCalcLenTLU.Enable = !lvTLUTypeList.TLUTypeIsGenerate
*------------------------------------------------------------------------------
this.Parent.cntTxtCalcLenTLU.setenabled(!lvTLUTypeListShort.TLUTypeIsGenerate)
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLPI</uniqueid>
		<timestamp>989155001</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrParent</objname>
		<parent>frmtvrfastadd</parent>
		<properties>FontBold = .T.
Caption = "Ñîñòîèò â ãðóïïå:"
Left = 5
Top = 36
TabIndex = 3
ZOrderSet = 8
Name = "lblTvrParent"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLPK</uniqueid>
		<timestamp>989155001</timestamp>
		<class>cntidctltree</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTvrParent</objname>
		<parent>frmtvrfastadd</parent>
		<properties>Top = 33
Left = 110
TabIndex = 4
ZOrderSet = 9
_rsaliasname = lvTvrCntTreeView
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
_controlsource = lvTvrEdit.TvrParID
_controlsourcetype = 1
_selectobject = frmIdCtlTreeTovar;tovar_v1.vcx;tovar.app
Name = "cntIdCtlTreeTvrParent"
txtText._highlightobject = .parent.parent.lblTvrParent
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2G719G7NC</uniqueid>
		<timestamp>989155001</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl2</objname>
		<parent>frmtvrfastadd</parent>
		<properties>FontBold = .T.
Caption = "Øòðèõêîä:"
Left = 5
Top = 234
TabIndex = 17
ZOrderSet = 10
Name = "Lbl2"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2G719G7ND</uniqueid>
		<timestamp>989155001</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenTLU</objname>
		<parent>frmtvrfastadd</parent>
		<properties>Top = 231
Left = 110
TabIndex = 18
ZOrderSet = 11
Name = "cntTxtCalcLenTLU"
txtText.ControlSource = "lvTLUEdit .TLU"
txtText._highlightobject = .Parent.lblLen;.parent.parent.lblTvrNM
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods>PROCEDURE Init
IF VARTYPE(pcBar)=[C]
	this.txtText.Value=pcBar
ENDIF
DODEFAULT()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLPM</uniqueid>
		<timestamp>989155001</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblMSU</objname>
		<parent>frmtvrfastadd</parent>
		<properties>FontBold = .T.
Caption = "Áàçîâàÿ åä.èçì.:"
Left = 5
Top = 92
TabIndex = 7
ZOrderSet = 12
Name = "lblMSU"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLPN</uniqueid>
		<timestamp>989155001</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridMSU</objname>
		<parent>frmtvrfastadd</parent>
		<properties>Top = 89
Left = 110
TabIndex = 8
ZOrderSet = 13
_controlsource = lvTvrEdit.MsuID
_controlsourcetype = 1
_rsaliasname = lvTvrMsuList
_rsfieldnameid = MsuID
_rsfieldnametext = MsuNM
_showtextempty = Íå îïðåäåëåíà
Name = "cntIdCtlGridMSU"
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLP3</uniqueid>
		<timestamp>989155001</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblMaker</objname>
		<parent>frmtvrfastadd</parent>
		<properties>FontBold = .T.
Caption = "Ïðîèçâîäèòåëü:"
Left = 5
Top = 120
TabIndex = 9
ZOrderSet = 14
Name = "lblMaker"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLPQ</uniqueid>
		<timestamp>989155001</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridMakerClt</objname>
		<parent>frmtvrfastadd</parent>
		<properties>Top = 117
Left = 110
TabIndex = 10
ZOrderSet = 15
_controlsource = lvTvrEdit.MakerCltID
_controlsourcetype = 1
_rsaliasname = lvCltMakerList
_rsfieldnameid = ID
_rsfieldnametext = NM
_showtextempty = Íå îïðåäåëåí
Name = "cntIdCtlGridMakerClt"
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLP4</uniqueid>
		<timestamp>989155001</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrVATRate</objname>
		<parent>frmtvrfastadd</parent>
		<properties>FontBold = .T.
Caption = "Ñòàâêà ÍÄÑ:"
Left = 5
Top = 148
TabIndex = 11
ZOrderSet = 16
Name = "lblTvrVATRate"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLP5</uniqueid>
		<timestamp>976592040</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrVATRate</objname>
		<parent>frmtvrfastadd</parent>
		<properties>ControlSource = "lvTvrEdit.TvrVATRate"
Left = 110
TabIndex = 12
Top = 145
ZOrderSet = 17
_highlightobject = .parent.lblTvrVATRate
_usedbfieldproperty = .T.
Name = "txtTvrVATRate"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLP8</uniqueid>
		<timestamp>989155001</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl1</objname>
		<parent>frmtvrfastadd</parent>
		<properties>FontBold = .T.
Caption = "Ñêèäêà:"
Left = 5
Top = 176
TabIndex = 13
ZOrderSet = 18
Name = "Lbl1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10SLPS</uniqueid>
		<timestamp>989155001</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>ñntctlGridTvrDiscID</objname>
		<parent>frmtvrfastadd</parent>
		<properties>Top = 173
Left = 110
TabIndex = 14
ZOrderSet = 19
_controlsource = lvTvrEdit.TvrDiscID
_controlsourcetype = 1
_rsaliasname = lvDiscView
_rsfieldnameid = DiscID
_rsfieldnametext = DiscNM
_showtextempty = Íå îïðåäåëåíà
Name = "ñntctlGridTvrDiscID"
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10TIMQ</uniqueid>
		<timestamp>989155001</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblPrice</objname>
		<parent>frmtvrfastadd</parent>
		<properties>FontBold = .T.
Caption = "Öåíà:"
Left = 5
Top = 263
TabIndex = 19
ZOrderSet = 20
Name = "lblPrice"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1OZ10TIMT</uniqueid>
		<timestamp>976592040</timestamp>
		<class>txt</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>txtTvrPrc</objname>
		<parent>frmtvrfastadd</parent>
		<properties>ControlSource = "lvPriceEdit.Price"
Height = 23
Left = 110
TabIndex = 20
Top = 260
Width = 200
ZOrderSet = 21
_highlightobject = .Parent.lblPrice
Name = "txtTvrPrc"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_18L1B4NYC</uniqueid>
		<timestamp>989155001</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenTvrNM</objname>
		<parent>frmtvrfastadd</parent>
		<properties>Top = 61
Left = 110
TabIndex = 6
ZOrderSet = 11
Name = "cntTxtCalcLenTvrNM"
txtText.ControlSource = "lvTvrEdit.TvrNM"
txtText._highlightobject = .Parent.lblLen;.parent.parent.lblTvrNM
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>989155001</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrNM</objname>
		<parent>frmtvrfastadd</parent>
		<properties>FontBold = .T.
Caption = "Íàèìåíîâàíèå:"
Left = 5
Top = 64
TabIndex = 5
ZOrderSet = 10
Name = "lblTvrNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_155143UH8</uniqueid>
		<timestamp>989155001</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvrfastadd</parent>
		<properties>Top = 288
Left = 155
TabIndex = 21
ZOrderSet = 29
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrfastadd</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>989155033</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvradd</objname>
		<parent/>
		<properties>Height = 119
Width = 370
DoCreate = .T.
BorderStyle = 2
Caption = "Äîáàâëåíèå òîâàðà/ãðóïïû"
Icon = ..\graphic\frmtvradd.ico
Name = "frmtvradd"
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Name = "CSTRESIZABLE"
Img1.Name = "Img1"
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: TOVAR_ADD._HANDLECNTCANCELSAVEEVENT
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*-------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*01.04.2004 12:06 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llResSave
*------------------------------------------------------------------------------

*01.04.2004 12:06 -&gt;Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage = [OK]
	*** - 21.07.2009 09:53:03 Ãëóõîâ Â.Þ. (C) - &gt; Ñòàâèì ÍÄÑ ïî-óìîë÷àíèþ
	LOCAL nNds
	nNds = oApp.nNds
	REPLACE TvrVatRate WITH nNds IN lvTvrEdit

	*02.04.2004 16:59 -&gt;Ïðîèçâîäèì ñîõðàíåíèå
	llResSave = .cstDataWork.Save([lvTvrEdit])
	*------------------------------------------------------------------------------
	
	*02.04.2004 17:00 -&gt;Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
	IF !llResSave
		IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
			RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
		ELSE	
			MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
			.cstDataWork.Restore([lvTvrEdit])
		ENDIF	
	ENDIF
	*------------------------------------------------------------------------------	
		
ELSE

	*01.04.2004 12:09 -&gt;Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrEdit])
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

*22.07.2005 16:18 -&gt;Ñîõðàíèì âîçâðàùàåìûé ðåçóëüòàò è ñêðîåì ôîðìó
IF llResSave
	.uRetVal = spGetLastIncrementedID([lvTvrEdit])
	IF lvTvrEdit.TvrTypeID = 8
		_PARAM = .uRetVal
		REQUERY('lvTvrEdit')
		REPLACE lvTvrEdit.TvrNM WITH ALLTRIM(lvTvrEdit.TvrNM)+[ id]+ALLTRIM(STR(_PARAM,10,0))
		TABLEUPDATE(1,.t.,'lvTvrEdit')
	ENDIF
	spAppendAccount(.uRetVal,lvTvrEdit.TvrTypeID)
ELSE
	.uRetVal = .F.
ENDIF
***
.Hide()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: TOVAR_ADD.INIT
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tnDefaultParentID&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìàû (âûñòàâëåíèå èäåíòèôèêàòîðà ðîäèòåëñêîé ãðóïïû)
*-------------------------------------------------------
LPARAMETERS	tnDefaultParentID

*20.01.2004 18:58 -&gt;Default Action
DODEFAULT()
*------------------------------------------------------------------------------

*20.01.2004 19:01 -&gt;Âûñòàâèì Defult êîä ðîäèòåëÿ
IF TYPE([tnDefaultParentID])==[N]
	ThisForm.cntIdCtlTreeTvrParent.SetValue(tnDefaultParentID)
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: TOVAR_ADD.LOAD
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìà (îòêðûòèå ñïðàâî÷íèêîâ è Alias-à äëÿ ðåäàêòèðîâàíèÿ)
*-------------------------------------------------------
DODEFAULT()

*01.04.2004 14:42 -&gt;Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS
*------------------------------------------------------------------------------

*13.01.2004 20:01 -&gt;Îòêðûâàåì ñïðàâî÷íèêè
USE lvTvrCntTreeView IN 0
USE lvTvrBmps IN 0
USE lvTvrTypeList IN 0
*------------------------------------------------------------------------------

*01.04.2004 11:49 -&gt;Îòêðîåì Alias äëÿ ðåäàêòèðîâàíèÿ è äîáàâèì ïóñòóþ ñòðîêó
USE lvTvrEdit IN 0 NODATA
APPEND BLANK IN lvTvrEdit
*------------------------------------------------------------------------------
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>8</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0NBQ19</uniqueid>
		<timestamp>989155033</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrType</objname>
		<parent>frmtvradd</parent>
		<properties>AutoSize = .F.
FontBold = .T.
Caption = "Òèï:"
Left = 5
Top = 8
ZOrderSet = 3
Name = "lblTvrType"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0N6JGO</uniqueid>
		<timestamp>989155033</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlGridTvrType</objname>
		<parent>frmtvradd</parent>
		<properties>Top = 5
Left = 115
ZOrderSet = 4
_controlsource = lvTvrEdit.TvrTypeID
_controlsourcetype = 1
_rsaliasname = lvTvrTypeList
_rsfieldnameid = TvrTypeID
_rsfieldnametext = TvrTypeNM
Name = "cntIdCtlGridTvrType"
txtText._highlightobject = ThisForm.lblTvrType
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>989155033</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrParent</objname>
		<parent>frmtvradd</parent>
		<properties>AutoSize = .F.
FontBold = .T.
Caption = "Ñîñòîèò â ãðóïïå:"
Left = 5
Top = 36
ZOrderSet = 5
Name = "lblTvrParent"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C14AMD7</uniqueid>
		<timestamp>989155033</timestamp>
		<class>cntidctltree</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTvrParent</objname>
		<parent>frmtvradd</parent>
		<properties>Top = 33
Left = 115
ZOrderSet = 6
_rsaliasname = lvTvrCntTreeView
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
_controlsource = lvTvrEdit.TvrParID
_controlsourcetype = 1
_selectobject = frmIdCtlTreeTovar;tovar_v1.vcx;tovar.app
Name = "cntIdCtlTreeTvrParent"
txtText._highlightobject = ThisForm.lblTvrParent
txtText.Name = "txtText"
cmdShow.Name = "cmdShow"
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14N16HZEQ</uniqueid>
		<timestamp>989155033</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrNM</objname>
		<parent>frmtvradd</parent>
		<properties>FontBold = .T.
Caption = "Íàèìåíîâàíèå:"
Left = 5
Top = 64
ZOrderSet = 7
Name = "lblTvrNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_15C140GJG</uniqueid>
		<timestamp>989155033</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenTvrNM</objname>
		<parent>frmtvradd</parent>
		<properties>Top = 61
Left = 115
ZOrderSet = 8
Name = "cntTxtCalcLenTvrNM"
txtText.ControlSource = "lvTvrEdit.TvrNM"
txtText._highlightobject = .Parent.lblLen;ThisForm.lblTvrNM
txtText._usedbfieldproperty = .T.
txtText.Name = "txtText"
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_155143UH8</uniqueid>
		<timestamp>989155033</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvradd</parent>
		<properties>Top = 89
Left = 160
ZOrderSet = 9
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvradd</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14N16HZEQ</uniqueid>
		<timestamp>996058762</timestamp>
		<class>scrfrmview</class>
		<classloc>basis.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrview</objname>
		<parent/>
		<properties>Top = -1
Left = -1
Height = 436
Width = 697
DoCreate = .T.
Caption = "Ñïðàâî÷íèê òîâàðîâ"
Icon = ..\graphic\frmtvrview.ico
WindowState = 0
_standarttoolbar = tlbStandart;basetoolbar_v1.vcx
_allowmultiple = .T.
_customtoolbar = tlbTvrFrm;Tovar_v1.vcx;Tovar.app
Name = "frmtvrview"
cstmsghandler.Top = 0
cstmsghandler.Left = 36
cstmsghandler.Name = "cstmsghandler"
cstresizable.Top = 24
cstresizable.Left = 36
cstresizable.Name = "cstresizable"
Img1.ZOrderSet = 0
Img1.Name = "Img1"
</properties>
		<protected/>
		<methods>PROCEDURE Init
LPARAMETERS	tnScrFrmID
*04.05.2006 09:44 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT(tnScrFrmID)
*------------------------------------------------------------------------------

*04.05.2006 09:45 -&gt;Èíèöèàëèçèðóåì Toolbar äëÿ ïîëüçîâàòåëüñêèõ ôóíêöèé
This.InitCustomFuncToolbar([grdTovar])
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: TOVAR_VIEW.LOAD
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû (îòêðûòèå ñïðàâî÷íèêîâ)
*-------------------------------------------------------

DODEFAULT()

*01.04.2004 15:09 -&gt;Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS	
*------------------------------------------------------------------------------

*01.04.2004 15:10 -&gt;Îòêðûâàåì LocalView ñ êàðòèíêàìè äëÿ òèïîâ òîâàðîâ
USE lvTvrBmps IN 0
*------------------------------------------------------------------------------

*01.04.2004 15:10 -&gt;Îòêðûâàåì LocalView ñ êàðòèíêàìè äëÿ òèïîâ èäåíòèôèêàòîðîâ òîâàðîâ (ØÊ)
USE lvTvrTluBmps IN 0
*------------------------------------------------------------------------------

*01.04.2004 15:10 -&gt;Îòêðûâàåì LocalView äëÿ äåðåâà
USE lvTvrCntTreeView IN 0
*------------------------------------------------------------------------------

*01.04.2004 15:10 -&gt;Îòêðûâàåì Local View äëÿ Grid-à ñ òîâàðàìè (ïóñòîé)
USE lvTvrInCntView IN 0 NODATA
*------------------------------------------------------------------------------

*01.04.2004 15:10 -&gt;Îòêðûâàåì LocalView äëÿ Grid-à ñî øòðèõ-êîäàìè (ïóñòîé)
USE lvTvrTLUView IN 0 NODATA
*------------------------------------------------------------------------------	

*01.04.2004 15:10 -&gt;Îòêðûâàåì LocalView äëÿ Grid-à ñ öåíàìè (ïóñòîé)
USE lvTvrPriceView IN 0 NODATA
*------------------------------------------------------------------------------	

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>16</reserved2>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Ñïðàâî÷íèê òîâàðîâ è óñëóã</reserved7>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14X14NGEE</uniqueid>
		<timestamp>996058762</timestamp>
		<class>oleimagelist</class>
		<classloc>comctl_v1.vcx</classloc>
		<baseclass>olecontrol</baseclass>
		<objname>Oleimagelist</objname>
		<parent>frmtvrview</parent>
		<properties>Top = 48
Left = 24
Height = 100
Width = 100
ZOrderSet = 3
Name = "Oleimagelist"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole>0M8R4KGxGuEAAAAAAAAAAAAAAAAAAAAAPgADAP7/CQAGAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAEAAAAgAAAAEAAAD+////AAAAAAAAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9/////v////7////+/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////1IAbwBvAHQAIABFAG4AdAByAHkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAUA//////////8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAtE/Z4WcoBAwAAAEABAAAAAAAAAwBPAGwAZQBPAGIAagBlAGMAdABEAGEAdABhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4AAgEDAAAAAgAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAXAAAAAAAAAADAEEAYwBjAGUAcwBzAE8AYgBqAFMAaQB0AGUARABhAHQAYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJgACAP///////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABPAAAAAAAAAAMAQwBoAGEAbgBnAGUAZABQAHIAbwBwAHMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAIA////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAQAAAAAAAAABAAAAAIAAAD+/////v////7///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+PjdpYap0bEK/AQhAQKo2nIUM0EggAAADtAwAA7QMAAIB+4eYCAAUAIAAAAAAAAADAwMAA//8AAAHvzasAAAUATwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABcAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgcWhqIFp0dVFoYTtqZGZuW2lhZXRyIADmjgAAAAAAAGyOAAAAAAAA6I8AAAAAAABojwAAAAAAAOqQAAAAAAAAcJAAAAAAAAABAACAAAAAAHqSAAAAAAAADJQAAAAAAACElAAAAAAAAAKVAAAAAAAAjJUAAAAAAAAElwAAAAAAAASWAAAAAAAA+LEeAAYAAAD/////BQAAgPixHgAAAAAAAAAAAAAAAAAImgAAAAAAAIiZAAAAAAAAjJoAAAAAAACyNQAAAAAAAJacAAAAAAAATIMAAAAAAAAEmwAAAAAAABCdAAAAAAAAkFgAAAAAAACYPQAAAAAAAI6dAAAAAAAAGp4AAAAAAABYiwAAAAAAAPCLAAAAAAAAHDcAAAAAAACkNgAAAAAAAOYdAAAAAAAA3jgAAAAAAABqOQAAAAAAAAo6AAAAAAAAtjoAAAAAAACAjQAAAAAAAF47AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==</ole>
		<ole2>OLEObject = C:\Windows\system32\comctl32.ocx
</ole2>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40ZCIBV</uniqueid>
		<timestamp>944935077</timestamp>
		<class>grdprice</class>
		<classloc>tovar_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdPrice</objname>
		<parent>frmtvrview</parent>
		<properties>Left = 350
Top = 335
ZOrderSet = 4
Name = "grdPrice"
Column1.Header1.Name = "Header1"
Column1.Txtgrd1.Name = "Txtgrd1"
Column1.Name = "Column1"
Column2.Header1.Name = "Header1"
Column2.Txtgrd1.Name = "Txtgrd1"
Column2.Name = "Column2"
Column3.Header1.Name = "Header1"
Column3.Txtgrd1.Name = "Txtgrd1"
Column3.Name = "Column3"
</properties>
		<protected/>
		<methods>PROCEDURE _add
ThisForm.OleTreeViewTovarPar.Visible = .F.
DODEFAULT()
ThisForm.OleTreeViewTovarPar.Visible = .T.
ENDPROC
PROCEDURE _dele
ThisForm.OleTreeViewTovarPar.Visible = .F.
DODEFAULT()
ThisForm.OleTreeViewTovarPar.Visible = .T.
ENDPROC
PROCEDURE _edit
ThisForm.OleTreeViewTovarPar.Visible = .F.
DODEFAULT()
ThisForm.OleTreeViewTovarPar.Visible = .T.
ENDPROC
PROCEDURE _info
ThisForm.OleTreeViewTovarPar.Visible = .F.
DODEFAULT()
ThisForm.OleTreeViewTovarPar.Visible = .T.
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1IY10WVS6</uniqueid>
		<timestamp>944935077</timestamp>
		<class>grdplu</class>
		<classloc>tovar_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdPlu</objname>
		<parent>frmtvrview</parent>
		<properties>Left = 5
Top = 335
ZOrderSet = 5
Name = "grdPlu"
Column1.Header1.Name = "Header1"
Column1.Txtgrd1.Name = "Txtgrd1"
Column1.Name = "Column1"
Column2.Header1.Name = "Header1"
Column2.Txtgrd1.Name = "Txtgrd1"
Column2.Name = "Column2"
Column3.Header1.Name = "Header1"
Column3.Txtgrd1.Name = "Txtgrd1"
Column3.Name = "Column3"
</properties>
		<protected/>
		<methods>PROCEDURE _add
ThisForm.OleTreeViewTovarPar.Visible = .F.
DODEFAULT()
ThisForm.OleTreeViewTovarPar.Visible = .T.
ENDPROC
PROCEDURE _dele
ThisForm.OleTreeViewTovarPar.Visible = .F.
DODEFAULT()
ThisForm.OleTreeViewTovarPar.Visible = .T.
ENDPROC
PROCEDURE _edit
ThisForm.OleTreeViewTovarPar.Visible = .F.
DODEFAULT()
ThisForm.OleTreeViewTovarPar.Visible = .T.
ENDPROC
PROCEDURE _info
ThisForm.OleTreeViewTovarPar.Visible = .F.
DODEFAULT()
ThisForm.OleTreeViewTovarPar.Visible = .T.
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17A1DKS7T</uniqueid>
		<timestamp>996058762</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTovar</objname>
		<parent>frmtvrview</parent>
		<properties>ColumnCount = 5
DeleteMark = .F.
Height = 330
Left = 252
Panel = 1
RecordSource = "lvTvrInCntView"
TabIndex = 2
Top = 5
Width = 443
ZOrderSet = 6
_dynamicimagecolumnindex = 1
_dynamicimagealias = lvTvrBmps
_dynamicimagefieldnamefilename = BmpFileNM
_dynamicimagefieldnameindex = BmpId
_handledstandartmsglist = FIRST;PREV;NEXT;LAST;;ADD;EDIT;INFO;DELE;;FIND;;PRNDOC;PRNREP
_handledstandartmsgpromptlist = ;;;;;Äîáàâèòü;Ðåäàêòèðîâàòü;Ïðîñìîòð;Óäàëèòü;\-;Ïîèñê;\-;Ïîäãîòîâèòü äîêóìåíò;Ïîäãîòîâèòü îò÷åò
_activerowhighlight = .T.
_refreshhandledstandartmsglistonrsrecnochange = .T.
_handledcustommsglist = TVRACC;TVRSTOCK
_handledcustommsgpromptlist = Äâèæåíèå òîâàðà;Îñòàòêè òîâàðà
Name = "grdTovar"
Column1.ColumnOrder = 1
Column1.ControlSource = "lvTvrInCntView.BmpID"
Column1.Width = 18
Column1.ReadOnly = .T.
Column1.Name = "Column1"
Column2.ColumnOrder = 2
Column2.ControlSource = "lvTvrInCntView.TvrNM"
Column2.Width = 196
Column2.ReadOnly = .T.
Column2.Visible = .T.
Column2.Name = "Column2"
Column3.ColumnOrder = 3
Column3.ControlSource = "lvTvrInCntView.MsuNM"
Column3.Width = 50
Column3.Name = "Column3"
Column4.ControlSource = "lvTvrInCntView.TvrID"
Column4.Width = 32
Column4.Name = "Column4"
Column5.ControlSource = "SUBSTR(lvTvrInCntView.TvrNote,1,100)"
Column5.ReadOnly = .T.
Column5.Name = "Column5"
</properties>
		<protected/>
		<methods>PROCEDURE _add
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: GRDTOVAR._ADD
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Add()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Äîáàâëåíèå íîâîãî òîâàðà.
*-------------------------------------------------------

*05.04.2004 17:46 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	luResAddingTvr
*------------------------------------------------------------------------------

*05.04.2004 17:46 -&gt;Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
ThisForm.OleTreeViewTovarPar.Visible = .F.
*------------------------------------------------------------------------------

*05.04.2004 17:46 -&gt;Âûïîëíèì îïåðàöèþ äîáàâëåíèÿ òîâàðà
luResAddingTvr = oMgrTovar.Do([TVR],[ADD],ThisForm.OleTreeViewTovarPar.nValue)
*------------------------------------------------------------------------------

*05.04.2004 17:46 -&gt;Âåðíåì äåðåâî
ThisForm.OleTreeViewTovarPar.Visible = .T.
*------------------------------------------------------------------------------

*05.04.2004 17:47 -&gt;Îáðàáîòàåì ðåçóëüòàòû äîáàâëåíèÿ çàïèñè
IF TYPE([luResAddingTvr])==[N] &amp;&amp;çàïèñü äîáàâëåíà
	
	*05.04.2004 17:48 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias, ;
			lnTvrId
	LOCAL ARRAY laReplaceArray[1]
	PRIVATE	_PARAM
	***
	lcOldAlias = ALIAS()
	lnTvrId = luResAddingTvr
	laReplaceArray = .NULL.
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:48 -&gt;Ïîëó÷èì äàííûå î äîáàâëåííîì òîâàðå
	IF USED([lvTvrInCntViewRepl])
		USE IN lvTvrInCntViewRepl
	ENDIF
	_PARAM = lnTvrId
	USE lvTvrInCntViewRepl IN 0
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:48 -&gt;Îáíîâèì äàííûå â äåðåâå, åñëè äîáàâëåííûé òîâàð ÿâëÿåòñÿ êîíòåéíåðîì
	IF lvTvrInCntViewRepl.TvrTypeIsCnt
		
		*05.04.2004 17:48 -&gt;Îòêðîåì Alias äëÿ îáíîâëåíèÿ lvTvrCntTreeView
		IF USED([lvTvrCntTreeViewRepl])
			USE IN lvTvrCntTreeViewRepl
		ENDIF
		_PARAM = lnTvrId
		USE lvTvrCntTreeViewRepl IN 0
		*------------------------------------------------------------------------------
		
		*05.04.2004 17:48 -&gt;Îáíîâèì äàííûå â lvTvrCntTreeView
		SELECT lvTvrCntTreeViewRepl
		SCATTER TO laReplaceArray
		SELECT lvTvrCntTreeView
		APPEND BLANK
		GATHER FROM laReplaceArray
		TABLEUPDATE(.T.)
		***
		ThisForm.OleTreeViewTovarPar.OperateAdd(lnTvrId)
		*------------------------------------------------------------------------------
		
		*05.04.2004 17:48 -&gt;Çàêðîåì Alis
		USE IN lvTvrCntTreeViewRepl
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------
		
	*05.04.2004 17:49 -&gt;Çàáëîêèðóåì îáíîâëåíèå RunTime ñâîéñòâ Grid-à
	This._RefreshRelatedObjectsOnRSRecNoChange = .F.
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:49 -&gt;Âûïîëíèì äåéñòâèÿ äëÿ îáíîâëåíèÿ lvTvrInCntView
	IF ThisForm.OleTreeViewTovarPar.nValue = lvTvrInCntViewRepl.TvrParID
	
		*05.04.2004 17:49 -&gt;Îáíîâëÿåì äàííûå
		This._RSRequery(ThisForm.OleTreeViewTovarPar.nValue)
		*------------------------------------------------------------------------------
	
	ELSE
		
		*05.04.2004 17:49 -&gt;Âûáèðàåì â äåðåâå ðîäòåëüñêóþ ãðóïïó
		ThisForm.OleTreeViewTovarPar.OperateSelect(lvTvrInCntViewRepl.TvrParID)
		*------------------------------------------------------------------------------
		
	ENDIF		
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:49 -&gt;Ïåðåõîäèì íà îòðåäàêòèðîâàííûé ýëåìåíò
	SELECT lvTvrInCntView
	LOCATE FOR lvTvrInCntView.TvrID = lnTvrID
	*------------------------------------------------------------------------------

	*05.04.2004 17:49 -&gt;Ðàçáëîêèðóåì îáíîâëåíèå
	This._RefreshRelatedObjectsOnRSRecNoChange = .T.
	*------------------------------------------------------------------------------
		
	*05.04.2004 17:49 -&gt;Âûçîâåì ìåòîä îáíîâëåíèÿ RunTime ñâîéñòâ, ñ ïðèíóäèòåëüíûì
	*05.04.2004 17:49 -&gt;âûçîâîì îáðàáîò÷èêîâ, äàæå åñëè ñâîéñòâî íå èçìåíèëîñü
	This.Refresh(.T.)
	*------------------------------------------------------------------------------
		
	*05.04.2004 17:49 -&gt;Çàêðîåì íåíóæíûé íàì Alias
	USE IN lvTvrInCntViewRepl
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:49 -&gt;Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _dele
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: GRDTOVAR._DELE
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Dele()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óäàëåíèå òîâàðà
*-------------------------------------------------------

*05.04.2004 17:50 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTvrId, ;
		llTvrTypeIsCnt, ;
		lnTvrParID, ;
		luDeleResult
***
lnTvrId        = lvTvrInCntView.TvrId
llTvrTypeIsCnt = lvTvrInCntView.TvrTypeIsCnt
lnTvrParID     = lvTvrInCntView.TvrParID
*------------------------------------------------------------------------------

*05.04.2004 17:50 -&gt;Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
ThisForm.OleTreeViewTovarPar.Visible = .F.
*------------------------------------------------------------------------------

*05.04.2004 17:50 -&gt;Âûïîëíèì îïåðàöèþ óäàëåíèÿ òîâàðà
luDeleResult = oMgrTovar.Do([TVR],[DELE],lnTvrId)
*------------------------------------------------------------------------------

*05.04.2004 17:50 -&gt;Âåðíåì äåðåâî
ThisForm.OleTreeViewTovarPar.Visible = .T.
*------------------------------------------------------------------------------

*05.04.2004 17:50 -&gt;Îáðàáîòàåì ðåçóëüòàòû óäàëåíèÿ òîâàðà
IF TYPE([luDeleResult])==[L] AND luDeleResult &amp;&amp;òîâàð óäàëåí
	
	*05.04.2004 17:51 -&gt;Óäàëèì âåòâü â äåðåâå, åñëè òîâàð ÿâëÿåòñÿ êîíòåéíåðîì
	IF llTvrTypeIsCnt
		***
		ThisForm.OleTreeViewTovarPar.OperateRemove(lnTvrId)
		***
	ENDIF
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:52 -&gt;Îáíîâëÿåì ñîäåðæàíèå òåêóùåé ãðóïïû
	This._RSRequery(lnTvrParID)
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _edit
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: GRDTOVAR._EDIT
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Edit()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ðåäàêòèðîâàíèå òîâàðà.
*-------------------------------------------------------

*05.04.2004 17:50 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTvrId, ;
		luResEditingTvr
***
lnTvrId = lvTvrInCntView.TvrId
*------------------------------------------------------------------------------

*05.04.2004 17:50 -&gt;Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
ThisForm.OleTreeViewTovarPar.Visible = .F.
*------------------------------------------------------------------------------

*05.04.2004 17:50 -&gt;Âûïîëíèì îïåðàöèþ äîáàâëåíèÿ òîâàðà
luResEditingTvr = oMgrTovar.Do([TVR],[EDIT],lnTvrId)
*------------------------------------------------------------------------------

*05.04.2004 17:50 -&gt;Âåðíåì äåðåâî
ThisForm.OleTreeViewTovarPar.Visible = .T.
*------------------------------------------------------------------------------

*05.04.2004 17:50 -&gt;Îáðàáîòàåì ðåçóëüòàòû ðåäàêòèðîâàíèÿ
IF TYPE([luResEditingTvr])==[L] AND luResEditingTvr &amp;&amp;äàííûå î òîâàðå èçìåíåíû
	
	*05.04.2004 17:51 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias
	LOCAL ARRAY laReplaceArray[1]
	PRIVATE	_PARAM
	***
	lcOldAlias = ALIAS()
	laReplaceArray = .NULL.
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:51 -&gt;Ïîëó÷èì îáíîâëåííûå äàííûå î òîâàðå
	USE IN IIF(USED([lvTvrInCntViewRepl]),[lvTvrInCntViewRepl],0)
	***
	_PARAM = lnTvrId
	USE lvTvrInCntViewRepl IN 0
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:51 -&gt;Îáíîâèì äàííûå â äåðåâå, åñëè òîâàð ÿâëÿåòñÿ êîíòåéíåðîì
	IF lvTvrInCntViewRepl.TvrTypeIsCnt
		
		*05.04.2004 17:52 -&gt;Îòêðîåì Alias äëÿ îáíîâëåíèÿ lvTvrCntTreeView
		USE IN IIF(USED([lvTvrCntTreeViewRepl]),[lvTvrCntTreeViewRepl],0)
		***
		_PARAM = lnTvrId
		USE lvTvrCntTreeViewRepl IN 0
		*------------------------------------------------------------------------------
		
		*05.04.2004 17:52 -&gt;Îáíîâèì äàííûå â lvTvrCntTreeView
		SELECT lvTvrCntTreeViewRepl
		SCATTER TO laReplaceArray
		SELECT lvTvrCntTreeView
		LOCATE FOR lvTvrCntTreeView.TvrID = lnTvrId
		GATHER FROM laReplaceArray
		TABLEUPDATE(.T.)
		***
		ThisForm.OleTreeViewTovarPar.OperateReloadNode(lnTvrId)
		*------------------------------------------------------------------------------
		
		*05.04.2004 17:52 -&gt;Çàêðîåì Alis
		USE IN lvTvrCntTreeViewRepl
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------
	
	
	*05.04.2004 17:52 -&gt;Âûáèðàåì â äåðåâå ðîäèòåëüñêóþ ãðóïïó
	ThisForm.LockScreen = .T.
	***
	IF ThisForm.OleTreeViewTovarPar.nValue # lvTvrInCntViewRepl.TvrParID
		ThisForm.OleTreeViewTovarPar.OperateSelect(lvTvrInCntViewRepl.TvrParID)
	ELSE
		This._RSRequery(lvTvrInCntViewRepl.TvrParID)
	ENDIF
	***
	SELECT lvTvrInCntView
	LOCATE FOR lvTvrInCntView.TvrID = lnTvrID
	***
	ThisForm.LockScreen = .F.
	*------------------------------------------------------------------------------
		
	*05.04.2004 17:52 -&gt;Çàêðîåì íåíóæíûé íàì Alias
	USE IN lvTvrInCntViewRepl
	*------------------------------------------------------------------------------
	
	*05.04.2004 17:52 -&gt;Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _find
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTovar._Find
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg() -&gt; .Find()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïîèñê òîâàðà
*-------------------------------------------------------

*29.07.2005 10:34 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL luResFindingTvr
*------------------------------------------------------------------------------

*29.07.2005 10:34 -&gt; Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
ThisForm.OleTreeViewTovarPar.Visible = .F.
*------------------------------------------------------------------------------

*29.07.2005 10:34 -&gt; Âûïîëíèì îïåðàöèþ
luResFindingTvr = oMgrTovar.Do([TVR],[FIND])
*------------------------------------------------------------------------------

*29.07.2005 10:34 -&gt; Âåðíåì äåðåâî
ThisForm.OleTreeViewTovarPar.Visible = .T.
*------------------------------------------------------------------------------

*29.07.2005 10:35 -&gt; Îáðàáîòàåì ðåçóëüòàòû
IF TYPE([luResFindingTvr])==[N]
	
	*29.07.2005 10:36 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
	LOCAL 	lcOldAlias, ;
			lnTvrID
	PRIVATE _PARAM
	***
	lcOldAlias = ALIAS()
	lnTvrID = luResFindingTvr
	*------------------------------------------------------------------------------
	
	*29.07.2005 11:44 -&gt; Ïîëó÷èì äàííûå î íàéäåííîì òîâàðå
	USE IN IIF(USED([lvTvrInCntViewRepl]),[lvTvrInCntViewRepl],0)
	***
	_PARAM = lnTvrId
	USE lvTvrInCntViewRepl IN 0
	*------------------------------------------------------------------------------

	*29.07.2005 11:52 -&gt; Ïåðåõîäèì â äåðåâå íà ðîäèòåëÿ íàéäåííîãî òîâàðà
	ThisForm.OleTreeViewTovarPar.OperateSelect(lvTvrInCntViewRepl.TvrParID)
	*------------------------------------------------------------------------------

	*29.07.2005 11:53 -&gt; Ïåðåõîäèì íà íàéäåííûé òîâàð
	SELECT lvTvrInCntView
	LOCATE FOR lvTvrInCntView.TvrID = lnTvrID
	*------------------------------------------------------------------------------

	*29.07.2005 11:53 -&gt; Âîññòàíîâèì òåêóùèé Alias
	IF !EMPTY(lcOldAlias) AND USED(lcOldAlias) AND lcOldAlias#ALIAS()
		SELECT(lcOldAlias)
	ENDIF
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _gethandledcustommsglist
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTovar._GetHandledCustomMsgList
* Called by.......: &lt;.RefreshHandledCustomMsgList();.RightClick()&gt;
* Returns.........: &lt;lcHandledCustomMsgList&gt;
* Notes...........: &lt;public/user/nodefault&gt; Ôîðìèðîâàíèå ñïèñêà ïîëüçîâàòåëüñêèõ ñîîáùåíèé íà îñíîâàíèè
*					ñïèñêà ñîîáùåíèé, óêàçàííûõ â ñâîéñòâå ._HandledCustomMsgList, ïóòåì óäàëåíèÿ ñîîáùåíèé,
*					êîòîðûå íå ìîãóò áûòü îáðàáîòàíû â äàííîì êîíòåêñòå.
*------------------------------------------------------------------------------
RETURN IIF(lvTvrInCntView.TvrTypeID # 1, DODEFAULT(),[TVRDSC])
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _gethandledstandartmsglist
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GrdTovar._GetHandledStandartMsgList
* Called by.......: &lt;.RefreshHandledStandartMsgList();.RightClick()&gt;
* Returns.........: &lt;lcHandledStandartMsgList&gt;
* Notes...........: Çàïðåòèì îïåðàöèþ óäàëåíèÿ äëÿ òîâàðîâ
*-------------------------------------------------------
WITH This

*30.10.2003 20:37 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lcHandledStandartMsgList
*------------------------------------------------------------------------------

*22.07.2005 15:25 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
lcHandledStandartMsgList = DODEFAULT()
*------------------------------------------------------------------------------

*31.10.2003 17:20 -&gt;Äîáàâëÿåì ñëåâà è ñïðàâà ïî ; ÷òîáû êîððåêòíî îáðàáûòûâàòü "êðàéíèå" ñîîáùåíèÿ
lcHandledStandartMsgList = [;]+lcHandledStandartMsgList+[;]
*------------------------------------------------------------------------------

*30.10.2003 20:38 -&gt;Çàïðåòèì óäàëåíèå òîâàðîâ
IF lvTvrInCntView.TvrTypeIsForSale
	lcHandledStandartMsgList = STRTRAN(lcHandledStandartMsgList,[;DELE;],[;])	
ENDIF
*------------------------------------------------------------------------------

*09.11.2005 17:55 -&gt; Çàïðåòèì ïå÷àòü ïðàéñà ïî òîâàðó, à íå ãðóïïå
IF !lvTvrInCntView.TvrTypeIsCnt
	lcHandledStandartMsgList = STRTRAN(lcHandledStandartMsgList,[;PRNREP;],[;])	
ENDIF
*------------------------------------------------------------------------------

*31.10.2003 17:22 -&gt;Óäàëÿåì ñëåâà è ñïðàâà ; äîáàâëåííûå ðàíåå
IF !(lcHandledStandartMsgList==[;])
	lcHandledStandartMsgList = SUBSTR(lcHandledStandartMsgList,2,LEN(lcHandledStandartMsgList)-2)
ELSE
	lcHandledStandartMsgList = []
ENDIF	
*------------------------------------------------------------------------------

*22.07.2005 15:30 -&gt;Âåðíåì ñïèñîê ñîîáùåíèé
RETURN lcHandledStandartMsgList
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _handlecustommsg
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: GRDTOVAR._HANDLECUSTOMMSG
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;tcMessage&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------
LPARAMETERS	tcMessage

WITH ThisForm

DO CASE

	*19.09.2005 12:20 -&gt;Âûçîâ êàðòî÷êè êîëè÷åñòâåííî-ñòîèìîñòíîãî ó÷åòà
	CASE tcMessage=[TVRACC]

		*19.09.2005 12:23 -&gt;Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
		.OleTreeViewTovarPar.Visible = .F.
		*------------------------------------------------------------------------------

		*19.09.2005 12:23 -&gt;Âûïîëíèì îïåðàöèþ
		luResFindingTvr = oMgrTovar.Do([TVR],[TVRACC],lvTvrInCntView.TvrId)
		*------------------------------------------------------------------------------

		*19.09.2005 12:23 -&gt;Âåðíåì äåðåâî
		.OleTreeViewTovarPar.Visible = .T.
		*------------------------------------------------------------------------------
		
	*19.09.2005 12:20 -&gt;Âûçîâ êàðòî÷êè êîëè÷åñòâåííî-ñòîèìîñòíîãî ó÷åòà
	CASE tcMessage=[TVRSTOCK]

		*19.09.2005 12:23 -&gt;Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
		.OleTreeViewTovarPar.Visible = .F.
		*------------------------------------------------------------------------------

		*19.09.2005 12:23 -&gt;Âûïîëíèì îïåðàöèþ
		luResFindingTvr = oMgrTovar.Do([TVR],[TVRSTOCK],lvTvrInCntView.TvrId)
		*------------------------------------------------------------------------------

		*19.09.2005 12:23 -&gt;Âåðíåì äåðåâî
		.OleTreeViewTovarPar.Visible = .T.
		*------------------------------------------------------------------------------
		
	*10.11.2005 14:57 -&gt;Óñòàíîâêà ñêèäêè íà òîâàð
	CASE tcMessage=[TVRDSC]

		*19.09.2005 12:23 -&gt;Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
		.OleTreeViewTovarPar.Visible = .F.
		*------------------------------------------------------------------------------

		*19.09.2005 12:23 -&gt;Âûïîëíèì îïåðàöèþ
		luResFindingTvr = oMgrTovar.Do([TVR],[TVRDSC],lvTvrInCntView.TvrId)
		*------------------------------------------------------------------------------

		*19.09.2005 12:23 -&gt;Âåðíåì äåðåâî
		.OleTreeViewTovarPar.Visible = .T.
		*------------------------------------------------------------------------------

	CASE tcMessage=[TVRACN]

		*19.09.2005 12:23 -&gt;Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
		.OleTreeViewTovarPar.Visible = .F.
		*------------------------------------------------------------------------------

		*19.09.2005 12:23 -&gt;Âûïîëíèì îïåðàöèþ
		luResFindingTvr = oMgrTovar.Do([ACN],[EDIT],lvTvrInCntView.TvrId)
		*------------------------------------------------------------------------------

		*19.09.2005 12:23 -&gt;Âåðíåì äåðåâî
		.OleTreeViewTovarPar.Visible = .T.
		*------------------------------------------------------------------------------

ENDCASE

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _info
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: GRDTOVAR._INFO
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïðîñìîòðà êàðòî÷êè òîâàðà.
*-------------------------------------------------------

*01.04.2004 18:49 -&gt;Ñêðîåì äåðåâî, èíà÷å îíî áóäåò ôóíêöèîíèðîâàòü íåêîððåêòíî
ThisForm.OleTreeViewTovarPar.Visible = .F.
*------------------------------------------------------------------------------

*01.04.2004 18:49 -&gt;Âûïîëíèì îïåðàöèþ äîáàâëåíèÿ òîâàðà
oMgrTovar.Do([TVR],[INFO],lvTvrInCntView.TvrId)
*------------------------------------------------------------------------------

*01.04.2004 18:49 -&gt;Âåðíåì äåðåâî
ThisForm.OleTreeViewTovarPar.Visible = .T.
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _prndoc
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTovar._PrnDoc
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïå÷àòü öåííèêîâ è ýòèêåòîê
*-------------------------------------------------------

*08.08.2005 11:34 -&gt; Âûïîëíèì îïåðàöèþ
IF lvTvrInCntView.TvrTypeIsForSale
	oMgrTovar.Do([TVRLBL],[PRINT],lvTvrInCntView.TvrId)
ELSE
	oMgrTovar.Do([TVRLBL],[PRINT])
ENDIF
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _prnrep
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTovar._PrnRep
* Called by.......: &lt;ToolBar or Context Menu Action -&gt; .HandleMsg()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïå÷àòü ïðàéñ-ëèñòà
*------------------------------------------------------------------------------

*08.08.2005 11:34 -&gt; Âûïîëíèì îïåðàöèþ
oMgrTovar.Do([TVR],[PRNREP],ThisForm.nScrFrmID,lvTvrInCntView.TvrID)
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE _refreshrelatedobjects
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: GRDTOVAR._REFRESHRELATEDOBJECTS
* Called by.......: &lt;Object Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îáíîâëåíèå ñâÿçàííûõ îáúåêòîâ (Grid-à ñ ØÊ è Grid-à ñ öåíàìè)
*-------------------------------------------------------

*01.04.2004 10:32 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	lnTvrID
***
lnTvrID = IIF(lvTvrInCntView.TvrTypeIsForSale,lvTvrInCntView.TvrId,0)
*------------------------------------------------------------------------------

*01.04.2004 10:35 -&gt;Îáíîâëÿåì äàííûå
ThisForm.GrdPlu._RSRequery(lnTvrID)
ThisForm.grdPrice._RSRequery(lnTvrID)
*------------------------------------------------------------------------------

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE _rsrequery
*-------------------------------------------------------
* Project.........: PRIMARY_DOCS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: GRDTOVAR._RSREQUERY
* Called by.......: &lt;THISFORM.OLETREEVIEWTOVARPAR._HANDLEANYCHANGE()&gt;
* Parameters......: &lt;tnParentId&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïåðå÷èòûâàíèå Alias-à Grid-à.
*-------------------------------------------------------
LPARAMETERS	tnParentId

*11.01.2004 17:15 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	_PARAM
*------------------------------------------------------------------------------

WITH This

*11.01.2004 17:44 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Ïåðå÷èòàåì Local View
_PARAM = tnParentId
REQUERY([lvTvrInCntView])
*------------------------------------------------------------------------------

*11.01.2004 17:46 -&gt;Âîññòàíàâëèâàåì RecordSource
.SourceRecall()
*------------------------------------------------------------------------------

*22.07.2005 14:31 -&gt;Âîññòàíîâèì ïîçèöèþ â Grid-å
.PositionRecall()
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************

ENDPROC
PROCEDURE AfterRowColChange
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTovar.AfterRowColChange
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;tnColIndex&gt;
* Returns.........: &lt;none&gt;
* Notes...........:
*------------------------------------------------------------------------------
LPARAMETERS tnColIndex

WITH This

*22.09.2005 12:01 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT(tnColIndex)
*------------------------------------------------------------------------------

*22.09.2005 12:14 -&gt;Äâèæåíèå òîâàðà è îñòàòêîâ ÍÅ âûçûâàåì òîëüêî äëÿ òîâàðíûõ ãðóïï
IF lvTvrInCntView.TvrTypeID # 1
	._HandledCustomMsgList			= [TVRACC;TVRSTOCK]
	._HandledCustomMsgPromptList	= [Äâèæåíèå òîâàðà;Îñòàòêè òîâàðà]
ELSE
	._HandledCustomMsgList			= []
	._HandledCustomMsgPromptList	= []
ENDIF
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_vq.vcx
* Class.Module....: grdTovar.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàäàíèå öâåòà ñòðîêè äëÿ íåàêòèâíîãî òîâàðà
*------------------------------------------------------------------------------

*22.07.2005 13:54 -&gt;Çàäàäèì öâåòà ñòðîêè äëÿ íåàêòèâíîãî òîâàðà
This.Column2.DynamicForeColor = [IIF(lvTvrInCntView.TvrIsActiv,]+ALLTRIM(STR(This.Column2.Text1.ForeColor))+[,]+ALLTRIM(STR(This.Column2.Text1.DisabledForeColor))+[)]
*------------------------------------------------------------------------------

*22.07.2005 13:54 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17A1DKS83</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrview.grdTovar.Column1</parent>
		<properties>Caption = " "
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17A1EMBC1</uniqueid>
		<timestamp>996058762</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrview.grdTovar.Column1</parent>
		<properties>Height = 23
Left = 11
ReadOnly = .T.
Top = 30
Visible = .T.
Width = 100
Name = "Text1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
IF lvTvrInCntView.TvrTypeID = 1
		thisform.oleTreeViewTovarPar.operateexpand(lvTvrInCntView.TvrID)
	RETURN
ENDIF
DODEFAULT()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17A1DKS8E</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrview.grdTovar.Column2</parent>
		<properties>Alignment = 2
Caption = "Òîâàð"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17A1DKS8F</uniqueid>
		<timestamp>996058762</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrview.grdTovar.Column2</parent>
		<properties>BorderStyle = 0
Margin = 0
ReadOnly = .T.
Visible = .T.
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
IF lvTvrInCntView.TvrTypeID = 1
		thisform.oleTreeViewTovarPar.operateexpand(lvTvrInCntView.TvrID)
	RETURN
ENDIF
DODEFAULT()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S00NZZ20</uniqueid>
		<timestamp>0</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrview.grdTovar.Column3</parent>
		<properties>Caption = "Åä.èçì"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1S00NZZ21</uniqueid>
		<timestamp>949853500</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrview.grdTovar.Column3</parent>
		<properties>DragMode = 1
BorderStyle = 0
ControlSource = "lvTvrInCntView.MsuNM"
Margin = 0
ReadOnly = .T.
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_26S165J7E</uniqueid>
		<timestamp>926457090</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrview.grdTovar.Column4</parent>
		<properties>Caption = "Êîä"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_26S165J7F</uniqueid>
		<timestamp>949853500</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrview.grdTovar.Column4</parent>
		<properties>BorderStyle = 0
ControlSource = "lvTvrInCntView.TvrID"
Margin = 0
ReadOnly = .T.
ForeColor = 0,0,0
BackColor = 255,255,255
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2CW167YSI</uniqueid>
		<timestamp>949853500</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrview.grdTovar.Column5</parent>
		<properties>Caption = "Îïèñàíèå"
Name = "Header1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2CW167YSJ</uniqueid>
		<timestamp>949854037</timestamp>
		<class>textbox</class>
		<classloc/>
		<baseclass>textbox</baseclass>
		<objname>Text1</objname>
		<parent>frmtvrview.grdTovar.Column5</parent>
		<properties>BorderStyle = 0
ControlSource = "lvTvrInCntView.TvrNote"
Margin = 0
ReadOnly = .T.
ToolTipText = "nvl(lvTvrInCntView.TvrNote,[....])"
ForeColor = 0,0,0
BackColor = 255,255,255
NullDisplay = "..... îïèñàíèÿ íåò ......"
Name = "Text1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_14O024XV7</uniqueid>
		<timestamp>996058762</timestamp>
		<class>oletreeview</class>
		<classloc>comctl_v1.vcx</classloc>
		<baseclass>olecontrol</baseclass>
		<objname>OleTreeViewTovarPar</objname>
		<parent>frmtvrview</parent>
		<properties>Top = 5
Left = 5
Height = 330
Width = 247
TabIndex = 1
ZOrderSet = 7
_rsaliasname = lvTvrCntTreeView
_rsfieldnameid = TvrID
_rsfieldnameparentid = TvrParID
_rsfieldnametext = TvrNM
_imagelistobject = .parent.Oleimagelist.object
_rsfieldnameparentflag = TvrIsCnt
_imgalias = lvTvrBmps
_imgfieldnamefilename = BmpFileNM
_imgfieldnameindex = BmpId
_rsfieldnameimageindex = BmpId
_rsfieldnameimageselectedindex = SelBmpId
Name = "OleTreeViewTovarPar"
</properties>
		<protected/>
		<methods>PROCEDURE _handleanychange
ThisForm.grdTovar._RSRequery(This.nValue)

ENDPROC
</methods>
		<objcode/>
		<ole>0M8R4KGxGuEAAAAAAAAAAAAAAAAAAAAAPgADAP7/CQAGAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAEAAAAgAAAAEAAAD+////AAAAAAAAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9/////v////7///8EAAAA/v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////1IAbwBvAHQAIABFAG4AdAByAHkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAUA//////////8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANBDG/Z4WcoBAwAAAEACAAAAAAAAAwBPAGwAZQBPAGIAagBlAGMAdABEAGEAdABhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4AAgEDAAAAAgAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZgAAAAAAAAADAEEAYwBjAGUAcwBzAE8AYgBqAFMAaQB0AGUARABhAHQAYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJgACAP///////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAABPAAAAAAAAAAMAQwBoAGEAbgBnAGUAZABQAHIAbwBwAHMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAIA////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAkBAAAAAAAABAAAAAIAAAD+////BQAAAP7///8GAAAABwAAAAgAAAD+//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+i6BMHCoUbEK/AQhAQKo2nIUM0EggAAACHGQAAGyIAAI5+4eYCAAUAIgAAAH0gaWaNAQAAAQAAAAHvzasAAAUATwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABcAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgcWhqIFp0dVFoYTtqZGZuW2lhZXRyIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAACADgAAAEhpZGVTZWxlY3Rpb24ABQAAAEwAAAAADAAAAEluZGVudGF0aW9uABEAAABODQAAAAcAAAAAAAAAYOkSAAYoAAAAAAAABQAAgGTpEgABAAAAXAAf3uy9AQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALkAKAAAATGFiZWxFZGl0AAkAAABJCgAAAAEAAAAKAAAATGluZVN0eWxlAAkAAABJCgAAAAEAAAANAAAATW91c2VQb2ludGVyAAkAAABJCgAAAAAAAAAOAAAAUGF0aFNlcGFyYXRvcgAKAAAASAAAAAABAAAAXAYAAABTdHlsZQAJAAAASQoAAAAHAAAADAAAAE9MRURyYWdNb2RlAAkAAABJCgAAAAEAAAAMAAAAT0xFRHJvcE1vZGUACQAAAEkKAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</ole>
		<ole2>OLEObject = C:\Windows\system32\comctl32.ocx
</ole2>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrview</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KW0MQH25</uniqueid>
		<timestamp>997352824</timestamp>
		<class>scrfrmview</class>
		<classloc>basis.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrlblprint</objname>
		<parent/>
		<properties>Top = 0
Left = 0
Height = 600
Width = 703
DoCreate = .T.
Caption = "Ïå÷àòü öåííèêîâ è ýòèêåòîê"
_allowsaveandrestorelayout = .T.
Name = "frmtvrlblprint"
cstmsghandler.Name = "cstmsghandler"
cstresizable.Name = "cstresizable"
Img1.Name = "Img1"
</properties>
		<protected/>
		<methods>PROCEDURE _beforefirstshow



ENDPROC
PROCEDURE Init
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrLblPrint.Init
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*------------------------------------------------------------------------------
LPARAMETERS tnScrFrmID, tuTvrID

*08.08.2005 09:47 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT(tnScrFrmID)
*------------------------------------------------------------------------------

*08.08.2005 09:47 -&gt; Èíèöèàëèçàöèÿ ôèëüòðîâ
This.cntQueryParam.ParamObjectCreate(__QPOTYPE_SCRFRM,tnScrFrmID)
*------------------------------------------------------------------------------

*25.08.2005 15:04 -&gt;Îòîáðàçèì âûáðàííûé òîâàð
IF PCOUNT()=2 AND TYPE([tuTvrID])==[N] AND !EMPTY(tuTvrID)
	ThisForm.grdTvrLbl._RSRequery(tuTvrID)
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Load
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrLblPrint.Load
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû
*------------------------------------------------------------------------------

*01.08.2005 10:54 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*01.05.2004 20:58 -&gt; Îòêðîåì ÁÄ è óñòàíîâèì å¸ â êà÷åñòâå òåêóùåé
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
***
SET DATABASE TO BASIS
*------------------------------------------------------------------------------

*04.08.2005 19:31 -&gt; Îòêðûâàåì ñïðàâî÷íèê ïðèõîäíûõ íàêëàäíûõ
USE lvNaklInList IN 0
*------------------------------------------------------------------------------

*08.08.2005 16:52 -&gt; Âûïîëíÿåì õðàíèìóþ ïðîöåäóðó
spGetTvrLbl([NODATA])
*------------------------------------------------------------------------------

*08.08.2005 16:52 -&gt; Îòêðûâàåì âðåìåííóþ òàáëèöó
USE tmp\TvrLbl IN 0
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE markfld
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrLblPrint.MarkFld
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Óñòàíîâêà/ñíÿòèå îòìåòêè ñ çàïèñè
*------------------------------------------------------------------------------

*04.08.2005 18:46 -&gt; Óñòàíàâëèâàåì/ñíèìàåì ïîìåòêó ñ çàïèñè
REPLACE TvrLbl.Qnt WITH IIF(TvrLbl.Qnt=0,1,0) IN TvrLbl
*------------------------------------------------------------------------------

*04.08.2005 18:46 -&gt; Ïåðåõîäèì íà ñëåäóþùóþ çàïèñü
SKIP 1 IN TvrLbl
*------------------------------------------------------------------------------

*04.08.2005 18:47 -&gt; Åñëè äîøëè äî êîíöà, ïåðåõîäèì íà ïåðâóþ çàïèñü
IF EOF([TvrLbl])
	GO TOP IN TvrLbl
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE printlabels
*09.08.2005 12:39 -&gt; Ñîõðàíÿåì äàííûå î êîëè÷åñòâå â òàáëèöå TvrLblQnt
USE IN IIF(USED([TvrLblQnt]),[TvrLblQnt],0)
SELECT ;
	TvrLbl.TvrID, ;
	TvrLbl.TLUID, ;
	TvrLbl.Qnt, ;
	TvrLbl.Price ;
FROM Tmp\TvrLbl.dbf ;
WHERE TvrLbl.Qnt &gt; 0 AND TvrLbl.Qnt is NOT null ;
INTO TABLE Tmp\TvrLblQnt.dbf
*------------------------------------------------------------------------------

*09.08.2005 14:05 -&gt; Çàêðîåì òàáëèöó
USE IN IIF(USED([TvrLblQnt]),[TvrLblQnt],0)
*------------------------------------------------------------------------------

*21.05.2004 22:43 -&gt; Âûïîëíÿåì ïå÷àòü
oApp.ExecuteScrFormReportByID(This.nScrFrmID)
*------------------------------------------------------------------------------
ENDPROC
PROCEDURE Resize
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrLblPrint.Resize
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èçìåíåíèå ðàçìåðîâ ôîðìû
*------------------------------------------------------------------------------

*09.08.2005 13:59 -&gt; Çàïðåòèì âûïîëíåíèå ìåòîäà ðîäèòåëüñêîãî êëàññà
NODEFAULT
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
PROCEDURE Unload
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: frmTvrLblPrint.Unload
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Âûãðóçêà ôîðìû
*------------------------------------------------------------------------------

*01.08.2005 10:54 -&gt; Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*09.08.2005 14:05 -&gt; Çàêðîåì è óäàëèì âðåìåííóþ òàáëèöó ñ ïîìåòêàìè
USE IN IIF(USED([TvrLbl]),[TvrLbl],0)
***
IF FILE([tmp\TvrLbl.dbf])
	ERASE tmp\TvrLbl.dbf
ENDIF
*------------------------------------------------------------------------------

*09.08.2005 14:05 -&gt; Çàêðîåì è óäàëèì âðåìåííóþ òàáëèöó ñ êîëè÷åñòâîì
USE IN IIF(USED([TvrLblQnt]),[TvrLblQnt],0)
***
IF FILE([tmp\TvrLblQnt.dbf])
	ERASE tmp\TvrLblQnt.dbf
ENDIF
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>21</reserved2>
		<reserved3>*markfld 
*printlabels Ïå÷àòü ýòèêåòîê/öåííèêîâ
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7>Ïå÷àòü öåííèêîâ è ýòèêåòîê</reserved7>
		<reserved8>..\include\qryparparobjtypes.h</reserved8>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KZ135LFX</uniqueid>
		<timestamp>997352824</timestamp>
		<class>shp</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>shape</baseclass>
		<objname>shpNaklSelect</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 13
Left = 5
Height = 73
Width = 619
SpecialEffect = 0
ZOrderSet = 0
Name = "shpNaklSelect"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40TMKIP</uniqueid>
		<timestamp>997352824</timestamp>
		<class>shp</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>shape</baseclass>
		<objname>shpQueryParam</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 94
Left = 5
Height = 10
Width = 355
Visible = .F.
SpecialEffect = 0
ZOrderSet = 4
Name = "shpQueryParam"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40TMKIQ</uniqueid>
		<timestamp>997352824</timestamp>
		<class>cntqueryparam</class>
		<classloc>queryparamio_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntQueryParam</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 102
Left = 10
Width = 345
Height = 23
ZOrderSet = 5
Name = "cntQueryParam"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntheightchange
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cntQueryParam._HandleCntHeightChange
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;lnHeightChange&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èçìåíåíèå ðàçìåðîâ êîíòåéíåðà ïî âåðòèêàëè
*------------------------------------------------------------------------------
LPARAMETERS lnHeightChange

WITH ThisForm

*09.08.2005 13:51 -&gt; Äîïîëíèòåëüíîå èçìåíåíèå ïàðàìåòðîâ shpQueryParam
IF This.Height = 0

	*09.08.2005 13:51 -&gt; Âåðíåì ñâîéñòâà êîòîðûå ìåíÿëè ê ïåðâîíà÷àëüíîìó ñîñòîÿíèþ
	.ResetToDefault([Height])
	***
	.shpQueryParam.ResetToDefault([Height])
	.shpQueryParam.ResetToDefault([Visible])
	***
	.lblQueryParam.ResetToDefault([Visible])
	***
	.grdTvrLbl.ResetToDefault([Top])
	***
	.chkViewMarked.ResetToDefault([Top])
	***
	.cmdClearAll.ResetToDefault([Top])
	***
	.cmdPrint.ResetToDefault([Top])
	*------------------------------------------------------------------------------

ELSE

	*09.08.2005 13:51 -&gt; Íàñòðîèì âíåøíèé âèä ôîðìû
	.lblQueryParam.Visible = .T.
	***
	.shpQueryParam.Height  = This.Height + 10 + 5
	.shpQueryParam.Visible = .T.
	***
*!*		.grdTvrLbl.Top 		=   .shpQueryParam.Top + ;
*!*						 		.shpQueryParam.Height + 5
*!*		***
*!*		.chkViewMarked.Top	= 	.grdTvrLbl.Top + ;
*!*								.grdTvrLbl.Height + 5
	***
*!*		.cmdClearAll.Top	=  	.chkViewMarked.Top + ;
*!*								.chkViewMarked.Height + 5
*!*		***
*!*		.cmdPrint.Top 		= 	.chkViewMarked.Top + ;
*!*								.chkViewMarked.Height + 5
	***
	.Height 			= 	.cmdPrint.Top + ;
					  		.cmdPrint.Height + 5
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40TMKIR</uniqueid>
		<timestamp>997352824</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblQueryParam</objname>
		<parent>frmtvrlblprint</parent>
		<properties>FontBold = .T.
Caption = "Ïàðàìåòðû"
Left = 10
Top = 86
Visible = .F.
ZOrderSet = 6
Name = "lblQueryParam"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40TMKIS</uniqueid>
		<timestamp>997352207</timestamp>
		<class>cmd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdUpdate</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 92
Left = 594
Height = 36
Width = 108
Picture = ..\imgico\aw\ico\040-refresh.ico
Caption = "Îáíîâèòü"
PicturePosition = 4
ZOrderSet = 7
Name = "cmdUpdate"
</properties>
		<protected/>
		<methods>PROCEDURE Click
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cmdUpdate.Click
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îáíîâèòü
*------------------------------------------------------------------------------

*08.08.2005 16:59 -&gt; Óñòàíàâëèâàåì ôèëüòðû è îáíîâëÿåì äàííûå
ThisForm.cntQueryParam.QueryParamSet()
ThisForm.grdTvrLbl._RSRequery()
ThisForm.chkViewMarked._HandleAnyChange()
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1L40UKDM8</uniqueid>
		<timestamp>997352824</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>chkOnlyIsMain</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 55
Left = 433
FontBold = .T.
Alignment = 0
Caption = "Ïîìåòèòü òîëüêî îñíîâíûå"
Value = .F.
TabIndex = 4
ZOrderSet = 8
Name = "chkOnlyIsMain"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KZ135LFY</uniqueid>
		<timestamp>997352824</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblNaklSelect</objname>
		<parent>frmtvrlblprint</parent>
		<properties>FontBold = .T.
Caption = "Âûáîð ïðèõîäíîé íàêëàäíîé"
Height = 17
Left = 10
Top = 5
Width = 175
TabIndex = 2
ZOrderSet = 9
Name = "lblNaklSelect"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KZ15VH5N</uniqueid>
		<timestamp>997352824</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIDctlGridNakl</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 23
Left = 10
Width = 393
Height = 23
ZOrderSet = 10
_rsaliasname = lvNaklInList
_rsfieldnameid = ID
_rsfieldnametext = NM
Name = "cntIDctlGridNakl"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 345
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 347
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 370
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KY0ZA1ZR</uniqueid>
		<timestamp>997352207</timestamp>
		<class>cmd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdNaklSelect</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 47
Left = 10
Height = 37
Width = 148
Picture = ..\imgico\aw\ico\200-ok.ico
Caption = "Îòìåòèòü òîâàðû"
TabIndex = 3
PicturePosition = 4
ZOrderSet = 11
Name = "cmdNaklSelect"
</properties>
		<protected/>
		<methods>PROCEDURE Click
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cmdNaklSelect.Click
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Îòìåòêà òîâàðîâ ïî ïðèõîäíîé íàêëàäíîé
*------------------------------------------------------------------------------

*05.08.2005 11:41 -&gt; Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llConsiderQnt, ;
		llOnlyIsMain, ;
		lnFrmID, ;
		lcFilterExpr
***
llConsiderQnt	= ThisForm.chkConsiderQnt.Value
llOnlyIsMain	= ThisForm.chkOnlyIsMain.Value
lnFrmID			= ThisForm.cntIDctlGridNakl.Value
lcFilterExpr	= [WHERE FrmPartTvr.FrmID = ] + ALLTRIM(STR(lnFrmID))
*------------------------------------------------------------------------------

*09.08.2005 14:13 -&gt; Ôîðìèðóåì ôèëüòð
IF llOnlyIsMain
	lcFilterExpr = lcFilterExpr + [ AND TvrLookUp.TLUIsMain = 1 ]
ENDIF
*------------------------------------------------------------------------------

*16.02.2007 13:58 -&gt;Êîííåêòèìñÿ ê ÁÄ ÷åðåç ñóùåñòâóþùåå ñîåäèíåíèå
lnConnectHandle = SQLCONNECT([SQLBASISCONNECTION])
*------------------------------------------------------------------------------

*16.02.2007 13:58 -&gt;Âûïîëíÿåì çàïðîñ (Óäàëÿåì ïðîäàæè)
lnSqlExeResult = 0
***
DO WHILE (lnSqlExeResult = 0) AND (lnSqlExeResult # -1)
	lnSqlExeResult = SQLEXEC(lnConnectHandle, ;
		[SET LOCK_TIMEOUT ] + [10000 ] + ;
		[SELECT ] + ;
			[FrmPartTvr.TvrID,] + ;
			[ISNULL(TvrLookUp.TLUID,0) AS TLUID,] + ;
			IIF(llConsiderQnt,[SUM(FrmPartTvr.TvrQnt)],[1]) + [AS Qnt ] + ;
		[FROM FrmPartTvr ] + ;
		[LEFT JOIN TvrLookUp ON TvrLookUp.TvrID = FrmPartTvr.TvrID ] + ;
		lcFilterExpr + ;
		[GROUP BY ] + ;
			[FrmPartTvr.TvrID,] + ;
			[ISNULL(TvrLookUp.TLUID,0)],[curTvrInFrm])
ENDDO
***
IF lnSqlExeResult = -1
	spHandleODBCError()
	RETURN .F.
ENDIF
*------------------------------------------------------------------------------

*07.04.2006 16:12 -&gt; Äåëàåì äèñêîííåêò: îñâîáîæäàåì ñîåäèíåíèå
SQLDISCONNECT(lnConnectHandle)
*------------------------------------------------------------------------------

*04.08.2005 19:48 -&gt; Îáíîâëÿåì äàííûå
SELECT curTvrInFrm
***
SCAN ALL
	DO CASE
	   CASE curTvrInFrm.TLUID = 0
		UPDATE TvrLbl SET Qnt = Qnt + curTvrInFrm.Qnt WHERE TvrID = curTvrInFrm.TvrID
	   CASE llConsiderQnt
		UPDATE TvrLbl SET Qnt = Qnt + curTvrInFrm.Qnt WHERE TvrID = curTvrInFrm.TvrID AND TLUID = curTvrInFrm.TLUID
	   OTHERWISE
		UPDATE TvrLbl SET Qnt = curTvrInFrm.Qnt WHERE TvrID = curTvrInFrm.TvrID AND TLUID = curTvrInFrm.TLUID
ENDCASE
ENDSCAN
*------------------------------------------------------------------------------
thisform.ChkViewMarked.Click()
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>997352824</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>chkConsiderQnt</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 26
Left = 433
FontBold = .T.
Alignment = 0
Caption = "Ó÷èòûâàòü êîëè÷åñòâî"
Value = .F.
TabIndex = 4
ZOrderSet = 12
Name = "chkConsiderQnt"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KZ12Z686</uniqueid>
		<timestamp>997352824</timestamp>
		<class>chk</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>checkbox</baseclass>
		<objname>chkViewMarked</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 96
Left = 388
FontBold = .T.
Alignment = 0
Caption = "Ïîêàçàòü òîëüêî îòìå÷åííûå"
Value = .F.
TabIndex = 8
ZOrderSet = 13
Name = "chkViewMarked"
</properties>
		<protected/>
		<methods>PROCEDURE _handleanychange
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: chkViewMarked._HandleAnyChange
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èçìåíåíèå ñîñòîÿíèÿ ôëàãà
*------------------------------------------------------------------------------
WITH ThisForm.grdTvrLbl

*05.08.2005 11:43 -&gt; Ïðèìåíåíèå/îòìåíà ôèëüòðà ïî êîëè÷åñòâó
IF This.Value

	*10.08.2005 12:13 -&gt; Âêëþ÷àåì ôèëüòð
	.FilterExternalSet([Qnt &gt; 0])
	GO TOP IN TvrLbl
	.SetFocus()
	*------------------------------------------------------------------------------
	
ELSE

	*10.08.2005 12:13 -&gt; Âûêëþ÷àåì ôèëüòð
	.FilterExternalDrop()
	*------------------------------------------------------------------------------

ENDIF
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KW0NEBYA</uniqueid>
		<timestamp>997352207</timestamp>
		<class>grd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>grid</baseclass>
		<objname>grdTvrLbl</objname>
		<parent>frmtvrlblprint</parent>
		<properties>ColumnCount = 3
Height = 429
Left = -1
Panel = 1
ReadOnly = .F.
RecordSource = "TvrLbl"
RecordSourceType = 1
RowHeight = 24
TabIndex = 1
Top = 169
Width = 704
ZOrderSet = 14
Name = "grdTvrLbl"
Column1.ControlSource = "TvrLbl.Qnt"
Column1.Width = 81
Column1.ReadOnly = .F.
Column1.Name = "Column1"
Column2.ControlSource = "TvrLbl.TvrNm"
Column2.Width = 408
Column2.ReadOnly = .T.
Column2.Name = "Column2"
Column3.ControlSource = "TvrLbl.TLU"
Column3.Width = 150
Column3.ReadOnly = .T.
Column3.Name = "Column3"
</properties>
		<protected/>
		<methods>PROCEDURE _rsrequery
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: grdTvrLbl._RSRequery
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ïåðå÷èòûâàíèå Alias-à Grid-à
*------------------------------------------------------------------------------
LPARAMETERS tuTvrID

WITH This

*21.04.2004 14:33 -&gt;Ñîõðàíèì äàííûå î RecordSource
.SourceKeep()
*------------------------------------------------------------------------------

*21.04.2004 14:33 -&gt;Îòêëþ÷èì RecordSource
.SourceReset()
*------------------------------------------------------------------------------

*25.08.2005 15:05 -&gt; Âûïîëíÿåì õðàíèìóþ ïðîöåäóðó
IF PCOUNT()=1 AND TYPE([tuTvrID])==[N] AND !EMPTY(tuTvrID)
	spGetTvrLbl([BYTVRID],tuTvrID)
ELSE
	spGetTvrLbl([BYFILTER],ThisForm.cntQueryParam.cQryParSID)
ENDIF
*------------------------------------------------------------------------------

*08.08.2005 16:55 -&gt; Îòêðîåì âðåìåííóþ òàáëèöó
USE tmp\TvrLbl.dbf IN 0
*------------------------------------------------------------------------------

*21.04.2004 14:33 -&gt;Âîññòàíàâëèâàåì RecordSource
.SourceRecall()
*------------------------------------------------------------------------------

ENDWITH
*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KX0P8GW9</uniqueid>
		<timestamp>955540401</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrlblprint.grdTvrLbl.Column1</parent>
		<properties>Alignment = 2
Caption = "Êîëè÷åñòâî"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KX0PC4XQ</uniqueid>
		<timestamp>0</timestamp>
		<class>spn</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>spinner</baseclass>
		<objname>Spn1</objname>
		<parent>frmtvrlblprint.grdTvrLbl.Column1</parent>
		<properties>KeyboardLowValue = 0
Left = 25
ReadOnly = .F.
SpinnerLowValue =   0.00
Top = 23
Name = "Spn1"
</properties>
		<protected/>
		<methods>PROCEDURE KeyPress
LPARAMETERS nKeyCode, nShiftAltCtrl

*05.08.2005 11:46 -&gt; Ïîìå÷àåì çàïèñü ïî êëàâèøå Space
IF nKeyCode = 32
	ThisForm.MarkFld()
ENDIF
*------------------------------------------------------------------------------
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KX0P8GWB</uniqueid>
		<timestamp>955540401</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrlblprint.grdTvrLbl.Column2</parent>
		<properties>Alignment = 2
Caption = "Òîâàð"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KY0XZ6F4</uniqueid>
		<timestamp>955540691</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrlblprint.grdTvrLbl.Column2</parent>
		<properties>ControlSource = "TvrLbl.TvrNm"
Left = 117
ReadOnly = .T.
Top = 143
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods>PROCEDURE KeyPress
LPARAMETERS nKeyCode, nShiftAltCtrl

*05.08.2005 11:46 -&gt; Ïîìå÷àåì çàïèñü ïî êëàâèøå Space
IF nKeyCode = 32
	ThisForm.MarkFld()
ELSE
	DODEFAULT(nKeyCode, nShiftAltCtrl)
ENDIF
*------------------------------------------------------------------------------
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KX0P8GWD</uniqueid>
		<timestamp>955540401</timestamp>
		<class>header</class>
		<classloc/>
		<baseclass>header</baseclass>
		<objname>Header1</objname>
		<parent>frmtvrlblprint.grdTvrLbl.Column3</parent>
		<properties>Alignment = 2
Caption = "Øòðèõ-êîä"
Name = "Header1"
</properties>
		<protected/>
		<methods>PROCEDURE DblClick
This.Parent.Parent.Sort(This.Parent.Name)
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1KY0XZ6F5</uniqueid>
		<timestamp>955540691</timestamp>
		<class>txtgrd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>textbox</baseclass>
		<objname>Txtgrd1</objname>
		<parent>frmtvrlblprint.grdTvrLbl.Column3</parent>
		<properties>ControlSource = "TvrLbl.TLU"
Left = 94
ReadOnly = .T.
Top = 167
Name = "Txtgrd1"
</properties>
		<protected/>
		<methods>PROCEDURE KeyPress
LPARAMETERS nKeyCode, nShiftAltCtrl

*05.08.2005 11:46 -&gt; Ïîìå÷àåì çàïèñü ïî êëàâèøå Space
IF nKeyCode = 32
	ThisForm.MarkFld()
ELSE
	DODEFAULT(nKeyCode, nShiftAltCtrl)
ENDIF
*------------------------------------------------------------------------------
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1LK0VBM00</uniqueid>
		<timestamp>997352207</timestamp>
		<class>cmd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdPrint</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 128
Left = 594
Height = 36
Width = 108
FontBold = .T.
Picture = ..\imgico\aw\ico\029-printer.ico
Caption = "Ïå÷àòü"
PicturePosition = 4
Name = "cmdPrint"
</properties>
		<protected/>
		<methods>PROCEDURE Click
ThisForm.PrintLabels()
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C0QQD9L</uniqueid>
		<timestamp>997352207</timestamp>
		<class>cmd</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>commandbutton</baseclass>
		<objname>cmdClearAll</objname>
		<parent>frmtvrlblprint</parent>
		<properties>Top = 128
Left = 388
Height = 37
Width = 156
Picture = ..\imgico\aw\ico\036-doc_remove.ico
Caption = "Óáðàòü âñå îòìåòêè"
TabIndex = 6
PicturePosition = 4
ZOrderSet = 15
Name = "cmdClearAll"
</properties>
		<protected/>
		<methods>PROCEDURE Click
*------------------------------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: cmdClearAll.Click
* Called by.......: &lt;NA&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñíèìàåì îòìåòêè ñî âñåõ çàïèñåé
*------------------------------------------------------------------------------

*04.08.2005 18:46 -&gt; Ñíèìàåì îòìåòêè ñî âñåõ çàïèñåé
REPLACE TvrLbl.Qnt WITH 0 ALL IN TvrLbl
*------------------------------------------------------------------------------

*04.08.2005 18:49 -&gt; Ïåðåõîäèì íà ïåðâóþ çàïèñü
GO TOP IN TvrLbl
*------------------------------------------------------------------------------

*******************************************************************************
********************************* END METHOD **********************************
*******************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrlblprint</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
Arial, 1, 9, 6, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1></reserved1>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_1551428TS</uniqueid>
		<timestamp>999779625</timestamp>
		<class>frmedit</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>form</baseclass>
		<objname>frmtvrcntedit</objname>
		<parent/>
		<properties>Height = 124
Width = 566
DoCreate = .T.
BorderStyle = 1
Caption = "Èíôîðìàöèÿ î òîâàðíîé ãðóïïå"
crequestedoperation = 
Name = "frmtvrcntedit"
cstmsghandler.Top = 0
cstmsghandler.Left = 0
cstmsghandler.Name = "cstmsghandler"
CSTRESIZABLE.Name = "CSTRESIZABLE"
Img1.Name = "Img1"
CSTDATAWORK.Name = "CSTDATAWORK"
</properties>
		<protected/>
		<methods>PROCEDURE _handlecntcancelsaveevent
*-------------------------------------------------------
* Project.........: Basis.pjx
* Library.........: Tovar_v1.vcx
* Class.Module....: Tovar_edit._HandleCntCancelSaveEvent
* Called by.......: &lt;cmdOk.Click();cmdCancel.Click()&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Ñîõðàíåíèå/îòìåíà
*-------------------------------------------------------
LPARAMETERS	tcMessage

WITH This

*02.04.2004 16:51 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	llResSave, ;
		llDataWasChanged
*------------------------------------------------------------------------------

*02.04.2004 16:51 -&gt;Ñîõðàíèì èëè îòìåíèì èçìåíåíèÿ
IF tcMessage = [OK]
	
	*******************************************************************************
	*1. Ñîõðàíåíèå èíôîðìàöèè î òîâàðå											  *	
	*******************************************************************************
	
	*22.07.2005 17:47 -&gt;Óäàëèì çàïèñü, åñëè îïåðàöèÿ - óäàëåíèå
	IF .cRequestedOperation = [DELE]
		
		*22.07.2005 17:48 -&gt;Óäàëèì çàïèñü
		DELETE IN lvTvrEdit
		*------------------------------------------------------------------------------
		
		*22.07.2005 17:48 -&gt;Âûñòàâèì ôëàã, ÷òî äàííûå áûëè èçìåíåíû
		llDataWasChanged = .T.
		*------------------------------------------------------------------------------
		
	ELSE

		*19.07.2005 18:51 -&gt;Ïîëó÷èì ôëàã áûëè âíåñåíû èçìåíåíèÿ èëè íåò
		llDataWasChanged = .cstDataWork.DataChanged([lvTvrEdit],.T.)
		*------------------------------------------------------------------------------
		
	ENDIF
	*------------------------------------------------------------------------------
	
		
	*02.04.2004 16:51 -&gt;Ïðîèçâîäèì ñîõðàíåíèå Alias-à äëÿ ðåäàêòèðîâàíèÿ òîâàðà
	IF llDataWasChanged
		
		*02.04.2004 16:59 -&gt;Ïðîèçâîäèì ñîõðàíåíèå
		llResSave = .cstDataWork.Save([lvTvrEdit])
		*------------------------------------------------------------------------------
		
		*02.04.2004 17:00 -&gt;Îáðàáîòàåì ðåçóëüòàòû ñîõðàíåíèÿ
		IF !llResSave
			IF .cstDataWork.HandleSaveFail() &amp;&amp;åñëè îøèáêà îáðàáîòàíà
				RETURN .T. &amp;&amp;âîçâðàùàåìñÿ ê ðåäàêòèðîâàíèþ
			ELSE	
				MESSAGEBOX([Â ïðîöåññå ñîõðàíåíèÿ ïðîèçîøëà îøèáêà. Èçìåíåíèÿ ñîõðàíåíû íå áóäóò.],16,[Îøèáêà...])
				.cstDataWork.Restore([lvTvrEdit])
			ENDIF	
		ENDIF
		*------------------------------------------------------------------------------
		
	ELSE
		
		*19.07.2005 18:57 -&gt;Îòìåíèì èçìåíåíèÿ
		.cstDataWork.Restore([lvTvrEdit])
		*------------------------------------------------------------------------------
		
	ENDIF	
	*------------------------------------------------------------------------------
	
	*03.02.2004 16:30 -&gt;Ñîõðàíÿåì ðåçóëüòàòû è ñêðûâàåì ôîðìó
	.uRetVal = llDataWasChanged AND llResSave
	.Hide()
	*------------------------------------------------------------------------------
	
ELSE

	*21.01.2004 20:01 -&gt;Îòìåíèì èçìåíåíèÿ
	.cstDataWork.Restore([lvTvrEdit])
	*------------------------------------------------------------------------------
	
	*03.02.2004 16:30 -&gt;Ñîõðàíÿåì ðåçóëüòàòû è ñêðûâàåì ôîðìó
	.uRetVal = .F.
	.Hide()
	*------------------------------------------------------------------------------
	
ENDIF
*------------------------------------------------------------------------------

ENDWITH
************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Init
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: TOVAR_EDITCNT.INIT
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;tcCommand,tnTovarId&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Èíèöèàëèçàöèÿ ôîðìû
*-------------------------------------------------------
LPARAMETERS	tcCommand, tnTovarId
*22.07.2005 17:22 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

WITH This

*22.07.2005 17:23 -&gt;Îáúÿâëåíèå è èíèöèàëèçàöèÿ ïåðåìåííûõ
LOCAL	_PARAM
*------------------------------------------------------------------------------

*19.07.2005 18:45 -&gt;Ñîõðàíèì çàïðîøåííóþ îïåðàöèþ
.cRequestedOperation = tcCommand
*------------------------------------------------------------------------------

*02.04.2004 15:34 -&gt;Ïåð÷èòàåì Alias äëÿ ðåäàêòèðîâàíèÿ òîâàðîâ
_PARAM = tnTovarId
REQUERY([lvTvrEdit])
*------------------------------------------------------------------------------

*01.04.2004 19:11 -&gt;Íàñòðîèì âíåøíèé âèä ôîðìû
DO CASE
	CASE tcCommand == [EDIT]
		.Caption = ALLTRIM(.Caption)+[ - Ðåäàêòèðîâàíèå]
		.Icon    = FULLPATH([frmedit.ico])
	CASE tcCommand == [INFO]
		.Caption = ALLTRIM(.Caption)+[ - Ïðîñìîòð]
		.Icon    = FULLPATH([frminfo.ico])
		***
		.cntCancelSaveHandled.cmdOk.Enabled = .F.
	CASE  tcCommand == [DELE]
		.Caption = ALLTRIM(.Caption)+[ - Óäàëåíèå]
		.Icon    = FULLPATH([frmdele.ico])
		***
		.cntCancelSaveHandled.cmdOk.Caption = [Óäàëèòü]
ENDCASE
*------------------------------------------------------------------------------

ENDWITH
***********************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
PROCEDURE Load
*-------------------------------------------------------
* Project.........: BASIS.PJX
* Library.........: TOVAR_V1.VCX
* Class.Module....: TOVAR_EDITCNT.LOAD
* Called by.......: &lt;Sys Event&gt;
* Parameters......: &lt;none&gt;
* Returns.........: &lt;none&gt;
* Notes...........: Çàãðóçêà ôîðìû (îòêðûòèå ñïðàâî÷íèêîâ è LV äëÿ ðåäàêòèðîâàíèÿ)
*-------------------------------------------------------

*22.07.2005 17:24 -&gt;Âûïîëíèì ìåòîä ðîäèòåëüñêîãî êëàññà
DODEFAULT()
*------------------------------------------------------------------------------

*06.04.2004 13:32 -&gt;Îòêðîåì ÁÄ
IF !DBUSED([BASIS])
	OPEN DATABASE BASIS
ENDIF
SET DATABASE TO BASIS
*------------------------------------------------------------------------------

*06.04.2004 13:32 -&gt;Îòêðûâàåì ñïðàâî÷íèêè
USE lvTvrCntTreeView IN 0
USE lvTvrBmps IN 0
USE lvTvrTypeList IN 0
*------------------------------------------------------------------------------

*06.04.2004 13:32 -&gt;Îòêðîåì Alias äëÿ ðåäàêòèðîâàíèÿ òîâàðà
USE lvTvrEdit IN 0 NODATA
*------------------------------------------------------------------------------
_PARAM = 3	&amp;&amp; Óñëóãà
USE lvTovarListParam IN 0 ALIAS UslList

************************************************************************************
**********************************  END OF METHOD **********************************
************************************************************************************
ENDPROC
</methods>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1>Class</reserved1>
		<reserved2>8</reserved2>
		<reserved3>crequestedoperation
</reserved3>
		<reserved4/>
		<reserved5/>
		<reserved6>Pixels</reserved6>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C149XC8</uniqueid>
		<timestamp>999779625</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrParent</objname>
		<parent>frmtvrcntedit</parent>
		<properties>FontBold = .T.
Caption = "Ñîñòîèò â ãðóïïå:"
Left = 5
Top = 8
TabIndex = 1
ZOrderSet = 3
Name = "lblTvrParent"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C149XC9</uniqueid>
		<timestamp>999779625</timestamp>
		<class>cntidctltree</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntIdCtlTreeTvrParent</objname>
		<parent>frmtvrcntedit</parent>
		<properties>Top = 5
Left = 115
Width = 449
Height = 23
TabIndex = 2
ZOrderSet = 4
_rsaliasname = lvTvrCntTreeView
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
_controlsource = lvTvrEdit.TvrParID
_controlsourcetype = 1
_selectobject = frmIdCtlTreeTovar;tovar_v1.vcx;tovar.app
Name = "cntIdCtlTreeTvrParent"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 401
txtText._highlightobject = ThisForm.lblTvrParent
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 402
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 425
cmdClear.Name = "cmdClear"
CmdTree.Name = "CmdTree"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C149XBQ</uniqueid>
		<timestamp>999779625</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>lblTvrNM</objname>
		<parent>frmtvrcntedit</parent>
		<properties>FontBold = .T.
Caption = "Íàèìåíîâàíèå:"
Left = 5
Top = 36
TabIndex = 3
ZOrderSet = 5
Name = "lblTvrNM"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_17C159E76</uniqueid>
		<timestamp>999779625</timestamp>
		<class>comtxtctlcalclen</class>
		<classloc>comtxtctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntTxtCalcLenTvrNM</objname>
		<parent>frmtvrcntedit</parent>
		<properties>Top = 33
Left = 115
Width = 449
Height = 23
TabIndex = 4
ZOrderSet = 6
Name = "cntTxtCalcLenTvrNM"
txtText.ControlSource = "lvTvrEdit.TvrNM"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 425
txtText._highlightobject = .Parent.lblLen;ThisForm.lblTvrNM
txtText.Name = "txtText"
lblLen.Left = 429
lblLen.Top = 3
lblLen.Name = "lblLen"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_155143UH8</uniqueid>
		<timestamp>999779625</timestamp>
		<class>cntcancelsavehandled</class>
		<classloc>baseform_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>cntCancelSaveHandled</objname>
		<parent>frmtvrcntedit</parent>
		<properties>Top = 96
Left = 360
TabIndex = 7
ZOrderSet = 7
Name = "cntCancelSaveHandled"
cmdCancel.Name = "cmdCancel"
cmdOk.Name = "cmdOk"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2TO0TA6RV</uniqueid>
		<timestamp>999779625</timestamp>
		<class>cntidctlgrid</class>
		<classloc>comidctl_v1.vcx</classloc>
		<baseclass>container</baseclass>
		<objname>CntidUslGrid</objname>
		<parent>frmtvrcntedit</parent>
		<properties>Top = 63
Left = 115
Width = 449
TabIndex = 6
ZOrderSet = 16
_controlsource = lvTvrEdit.ServId
_controlsourcetype = 1
_rsaliasname = UslList
_rsfieldnameid = TvrID
_rsfieldnametext = TvrNM
_showtextempty = Íå îïðåäåëåíà
_showtextnotfound = ... îòñóòñòâóåò
Name = "CntidUslGrid"
txtText.Height = 23
txtText.Left = 0
txtText.Top = 0
txtText.Width = 401
txtText._highlightobject = .parent.parent.lblTvrType
txtText.Name = "txtText"
cmdShow.Top = 0
cmdShow.Left = 402
cmdShow.Name = "cmdShow"
cmdClear.Top = 0
cmdClear.Left = 425
cmdClear.Name = "cmdClear"
CmdTree.Top = 0
CmdTree.Left = 319
CmdTree.Name = "CmdTree"
Olecommprox1.Top = 0
Olecommprox1.Left = 36
Olecommprox1.Height = 16
Olecommprox1.Width = 38
Olecommprox1.Name = "Olecommprox1"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>WINDOWS</platform>
		<uniqueid>_2TO0TA6S2</uniqueid>
		<timestamp>999779625</timestamp>
		<class>lbl</class>
		<classloc>base_v1.vcx</classloc>
		<baseclass>label</baseclass>
		<objname>Lbl3</objname>
		<parent>frmtvrcntedit</parent>
		<properties>FontBold = .T.
Caption = "C óñëóãîé:"
Left = 5
Top = 66
TabIndex = 5
ZOrderSet = 17
Name = "Lbl3"
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
	<record>
		<platform>COMMENT</platform>
		<uniqueid>RESERVED</uniqueid>
		<timestamp>0</timestamp>
		<class/>
		<classloc/>
		<baseclass/>
		<objname>frmtvrcntedit</objname>
		<parent/>
		<properties>Arial, 0, 9, 5, 15, 12, 32, 3, 0
</properties>
		<protected/>
		<methods/>
		<objcode/>
		<ole/>
		<ole2/>
		<reserved1/>
		<reserved2/>
		<reserved3/>
		<reserved4/>
		<reserved5/>
		<reserved6/>
		<reserved7/>
		<reserved8/>
		<user/>
	</record>
</VFPData>
